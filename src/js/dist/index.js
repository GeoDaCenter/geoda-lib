var Ai=Object.create;var Qr=Object.defineProperty;var Li=Object.getOwnPropertyDescriptor;var Mi=Object.getOwnPropertyNames;var Ri=Object.getPrototypeOf,wi=Object.prototype.hasOwnProperty;var Zr=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(n,a)=>(typeof require<"u"?require:n)[a]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+i+'" is not supported')});var $i=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var Ni=(i,n,a,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of Mi(n))!wi.call(i,c)&&c!==a&&Qr(i,c,{get:()=>n[c],enumerable:!(l=Li(n,c))||l.enumerable});return i};var Vi=(i,n,a)=>(a=i!=null?Ai(Ri(i)):{},Ni(n||!i||!i.__esModule?Qr(a,"default",{value:i,enumerable:!0}):a,i));var tt=$i((rt,gr)=>{"use strict";var et=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i||(i=__filename)),function(n={}){var a=n,l,c;a.ready=new Promise((e,r)=>{l=e,c=r});var u=Object.assign({},a),g=[],b="./this.program",T=(e,r)=>{throw r},d=typeof window=="object",f=typeof importScripts=="function",h=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",y=!d&&!h&&!f,P="";function R(e){return a.locateFile?a.locateFile(e,P):P+e}var $,G,B;if(h){var _=Zr("fs"),H=Zr("path");f?P=H.dirname(P)+"/":P=__dirname+"/",$=(e,r)=>(e=we(e)?new URL(e):H.normalize(e),_.readFileSync(e,r?void 0:"utf8")),B=e=>{var r=$(e,!0);return r.buffer||(r=new Uint8Array(r)),r},G=(e,r,t,o=!0)=>{e=we(e)?new URL(e):H.normalize(e),_.readFile(e,o?void 0:"utf8",(s,m)=>{s?t(s):r(o?m.buffer:m)})},!a.thisProgram&&process.argv.length>1&&(b=process.argv[1].replace(/\\/g,"/")),g=process.argv.slice(2),T=(e,r)=>{throw process.exitCode=e,r}}else(d||f)&&(f?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),i&&(P=i),P.startsWith("blob:")?P="":P=P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1),$=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},f&&(B=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),G=(e,r,t)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{if(o.status==200||o.status==0&&o.response){r(o.response);return}t()},o.onerror=t,o.send(null)});var Ae=a.print||console.log.bind(console),p=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.arguments&&(g=a.arguments),a.thisProgram&&(b=a.thisProgram),a.quit&&(T=a.quit);var w;a.wasmBinary&&(w=a.wasmBinary),typeof WebAssembly!="object"&&te("no native wasm support detected");var M,Xe=!1,Je;function ra(e,r){e||te(r)}var ta,X,J,ae,Le,x,U,Me,Re;function mr(){var e=M.buffer;a.HEAP8=X=new Int8Array(e),a.HEAP16=ae=new Int16Array(e),a.HEAPU8=J=new Uint8Array(e),a.HEAPU16=Le=new Uint16Array(e),a.HEAP32=x=new Int32Array(e),a.HEAPU32=U=new Uint32Array(e),a.HEAPF32=Me=new Float32Array(e),a.HEAPF64=Re=new Float64Array(e)}var pr=[],dr=[],na=[],hr=[],lt=!1;function ut(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)bt(a.preRun.shift());Ze(pr)}function ct(){lt=!0,Ze(dr)}function ft(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)mt(a.postRun.shift());Ze(hr)}function bt(e){pr.unshift(e)}function gt(e){dr.unshift(e)}function ia(e){}function mt(e){hr.unshift(e)}var ce=0,Qe=null,_e=null;function aa(e){return e}function pt(e){ce++,a.monitorRunDependencies?.(ce)}function dt(e){if(ce--,a.monitorRunDependencies?.(ce),ce==0&&(Qe!==null&&(clearInterval(Qe),Qe=null),_e)){var r=_e;_e=null,r()}}function te(e){a.onAbort?.(e),e="Aborted("+e+")",p(e),Xe=!0,Je=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw c(r),r}var ht="data:application/octet-stream;base64,",yr=e=>e.startsWith(ht),we=e=>e.startsWith("file://"),pe;pe="geoda.wasm",yr(pe)||(pe=R(pe));function vr(e){if(e==pe&&w)return new Uint8Array(w);if(B)return B(e);throw"both async and sync fetching of the wasm failed"}function yt(e){if(!w&&(d||f)){if(typeof fetch=="function"&&!we(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw`failed to load wasm binary file at '${e}'`;return r.arrayBuffer()}).catch(()=>vr(e));if(G)return new Promise((r,t)=>{G(e,o=>r(new Uint8Array(o)),t)})}return Promise.resolve().then(()=>vr(e))}function Sr(e,r,t){return yt(e).then(o=>WebAssembly.instantiate(o,r)).then(t,o=>{p(`failed to asynchronously prepare wasm: ${o}`),te(o)})}function vt(e,r,t,o){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!yr(r)&&!we(r)&&!h&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(s=>{var m=WebAssembly.instantiateStreaming(s,t);return m.then(o,function(S){return p(`wasm streaming compile failed: ${S}`),p("falling back to ArrayBuffer instantiation"),Sr(r,t,o)})}):Sr(r,t,o)}function St(){var e={env:Yr,wasi_snapshot_preview1:Yr};function r(o,s){return j=o.exports,j=Ci(j),M=j.memory,mr(),Vr=j.__indirect_function_table,gt(j.__wasm_call_ctors),dt("wasm-instantiate"),j}pt("wasm-instantiate");function t(o){r(o.instance)}if(a.instantiateWasm)try{return a.instantiateWasm(e,r)}catch(o){p(`Module.instantiateWasm callback failed with error: ${o}`),c(o)}return vt(w,pe,e,t).catch(c),{}}var Z,de;function _t(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Ze=e=>{for(;e.length>0;)e.shift()(a)};function oa(e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":return X[e>>>0];case"i8":return X[e>>>0];case"i16":return ae[e>>>1>>>0];case"i32":return x[e>>>2>>>0];case"i64":te("to do getValue(i64) use WASM_BIGINT");case"float":return Me[e>>>2>>>0];case"double":return Re[e>>>3>>>0];case"*":return U[e>>>2>>>0];default:te(`invalid type for getValue: ${r}`)}}var Tt=a.noExitRuntime||!0;function sa(e,r,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":X[e>>>0]=r;break;case"i8":X[e>>>0]=r;break;case"i16":ae[e>>>1>>>0]=r;break;case"i32":x[e>>>2>>>0]=r;break;case"i64":te("to do setValue(i64) use WASM_BIGINT");case"float":Me[e>>>2>>>0]=r;break;case"double":Re[e>>>3>>>0]=r;break;case"*":U[e>>>2>>>0]=r;break;default:te(`invalid type for setValue: ${t}`)}}var _r=[],$e=0,Tr=0,It=()=>{var e=_r.pop();e||te("no exception to throw");var r=e.excPtr;throw e.get_rethrown()||(_r.push(e),e.set_rethrown(!0),e.set_caught(!1),Tr++),$e=r,$e};class Dt{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){U[this.ptr+4>>>2>>>0]=r}get_type(){return U[this.ptr+4>>>2>>>0]}set_destructor(r){U[this.ptr+8>>>2>>>0]=r}get_destructor(){return U[this.ptr+8>>>2>>>0]}set_caught(r){r=r?1:0,X[this.ptr+12>>>0]=r}get_caught(){return X[this.ptr+12>>>0]!=0}set_rethrown(r){r=r?1:0,X[this.ptr+13>>>0]=r}get_rethrown(){return X[this.ptr+13>>>0]!=0}init(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t)}set_adjusted_ptr(r){U[this.ptr+16>>>2>>>0]=r}get_adjusted_ptr(){return U[this.ptr+16>>>2>>>0]}get_exception_ptr(){var r=Kr(this.get_type());if(r)return U[this.excPtr>>>2>>>0];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var Ir=(e,r)=>r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN;function Pt(e,r,t){e>>>=0,r>>>=0,t>>>=0;var o=new Dt(e);throw o.init(r,t),$e=e,Tr++,$e}var Et=(e,r,t)=>{};function Ct(e,r,t,o){r>>>=0}var Dr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Pr=(e,r,t)=>{r>>>=0;for(var o=r+t,s=r;e[s]&&!(s>=o);)++s;if(s-r>16&&e.buffer&&Dr)return Dr.decode(e.subarray(r,s));for(var m="";r<s;){var S=e[r++];if(!(S&128)){m+=String.fromCharCode(S);continue}var v=e[r++]&63;if((S&224)==192){m+=String.fromCharCode((S&31)<<6|v);continue}var I=e[r++]&63;if((S&240)==224?S=(S&15)<<12|v<<6|I:S=(S&7)<<18|v<<12|I<<6|e[r++]&63,S<65536)m+=String.fromCharCode(S);else{var C=S-65536;m+=String.fromCharCode(55296|C>>10,56320|C&1023)}}return m},Ne=(e,r)=>(e>>>=0,e?Pr(J,e,r):""),he={varargs:void 0,get(){var e=x[+he.varargs>>>2>>>0];return he.varargs+=4,e},getp(){return he.get()},getStr(e){var r=Ne(e);return r}};function At(e,r,t){return t>>>=0,he.varargs=t,0}function Lt(e,r){r>>>=0}function Mt(e,r,t){var o=Ir(r,t)}function Rt(e,r,t){return t>>>=0,he.varargs=t,0}function wt(e,r){e>>>=0,r>>>=0}function $t(e,r,t,o){r>>>=0,t>>>=0}function Nt(e,r,t,o){r>>>=0,o>>>=0,he.varargs=o}function Vt(e,r){e>>>=0,r>>>=0}function Ot(e,r,t){r>>>=0}function Ft(e,r,t,o,s){e>>>=0,r>>>=0,t>>>=0}var kt=()=>{for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);Er=e},Er,ee=e=>{for(var r="",t=e;J[t>>>0];)r+=Er[J[t++>>>0]];return r},ye={},fe={},Ve={},ve,F=e=>{throw new ve(e)},Cr,Oe=e=>{throw new Cr(e)},Se=(e,r,t)=>{e.forEach(function(v){Ve[v]=r});function o(v){var I=t(v);I.length!==e.length&&Oe("Mismatched type converter count");for(var C=0;C<e.length;++C)ne(e[C],I[C])}var s=new Array(r.length),m=[],S=0;r.forEach((v,I)=>{fe.hasOwnProperty(v)?s[I]=fe[v]:(m.push(v),ye.hasOwnProperty(v)||(ye[v]=[]),ye[v].push(()=>{s[I]=fe[v],++S,S===m.length&&o(s)}))}),m.length===0&&o(s)};function Gt(e,r,t={}){var o=r.name;if(e||F(`type "${o}" must have a positive integer typeid pointer`),fe.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;F(`Cannot register type '${o}' twice`)}if(fe[e]=r,delete Ve[e],ye.hasOwnProperty(e)){var s=ye[e];delete ye[e],s.forEach(m=>m())}}function ne(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Gt(e,r,t)}var oe=8;function Bt(e,r,t,o){e>>>=0,r>>>=0,r=ee(r),ne(e,{name:r,fromWireType:function(s){return!!s},toWireType:function(s,m){return m?t:o},argPackAdvance:oe,readValueFromPointer:function(s){return this.fromWireType(J[s>>>0])},destructorFunction:null})}var Ut=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),er=e=>{function r(t){return t.$$.ptrType.registeredClass.name}F(r(e)+" instance already deleted")},rr=!1,Ar=e=>{},jt=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Lr=e=>{e.count.value-=1;var r=e.count.value===0;r&&jt(e)},Mr=(e,r,t)=>{if(r===t)return e;if(t.baseClass===void 0)return null;var o=Mr(e,r,t.baseClass);return o===null?null:t.downcast(o)},Rr={},xt=()=>Object.keys(De).length,Wt=()=>{var e=[];for(var r in De)De.hasOwnProperty(r)&&e.push(De[r]);return e},Te=[],tr=()=>{for(;Te.length;){var e=Te.pop();e.$$.deleteScheduled=!1,e.delete()}},Ie,qt=e=>{Ie=e,Te.length&&Ie&&Ie(tr)},Ht=()=>{a.getInheritedInstanceCount=xt,a.getLiveInheritedInstances=Wt,a.flushPendingDeletes=tr,a.setDelayFunction=qt},De={},Yt=(e,r)=>{for(r===void 0&&F("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r},zt=(e,r)=>(r=Yt(e,r),De[r]),Fe=(e,r)=>{(!r.ptrType||!r.ptr)&&Oe("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,o=!!r.smartPtr;return t!==o&&Oe("Both smartPtrType and smartPtr must be specified"),r.count={value:1},Pe(Object.create(e,{$$:{value:r,writable:!0}}))};function Kt(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=zt(this.registeredClass,r);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var o=t.clone();return this.destructor(e),o}function s(){return this.isSmartPointer?Fe(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Fe(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var m=this.registeredClass.getActualType(r),S=Rr[m];if(!S)return s.call(this);var v;this.isConst?v=S.constPointerType:v=S.pointerType;var I=Mr(r,this.registeredClass,v.registeredClass);return I===null?s.call(this):this.isSmartPointer?Fe(v.registeredClass.instancePrototype,{ptrType:v,ptr:I,smartPtrType:this,smartPtr:e}):Fe(v.registeredClass.instancePrototype,{ptrType:v,ptr:I})}var Pe=e=>typeof FinalizationRegistry>"u"?(Pe=r=>r,e):(rr=new FinalizationRegistry(r=>{Lr(r.$$)}),Pe=r=>{var t=r.$$,o=!!t.smartPtr;if(o){var s={$$:t};rr.register(r,s,r)}return r},Ar=r=>rr.unregister(r),Pe(e)),Xt=()=>{Object.assign(ke.prototype,{isAliasOf(e){if(!(this instanceof ke)||!(e instanceof ke))return!1;var r=this.$$.ptrType.registeredClass,t=this.$$.ptr;e.$$=e.$$;for(var o=e.$$.ptrType.registeredClass,s=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;o.baseClass;)s=o.upcast(s),o=o.baseClass;return r===o&&t===s},clone(){if(this.$$.ptr||er(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Pe(Object.create(Object.getPrototypeOf(this),{$$:{value:Ut(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||er(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&F("Object already scheduled for deletion"),Ar(this),Lr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||er(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&F("Object already scheduled for deletion"),Te.push(this),Te.length===1&&Ie&&Ie(tr),this.$$.deleteScheduled=!0,this}})};function ke(){}var Ge=(e,r)=>Object.defineProperty(r,"name",{value:e}),wr=(e,r,t)=>{if(e[r].overloadTable===void 0){var o=e[r];e[r]=function(...s){return e[r].overloadTable.hasOwnProperty(s.length)||F(`Function '${t}' called with an invalid number of arguments (${s.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[s.length].apply(this,s)},e[r].overloadTable=[],e[r].overloadTable[o.argCount]=o}},$r=(e,r,t)=>{a.hasOwnProperty(e)?((t===void 0||a[e].overloadTable!==void 0&&a[e].overloadTable[t]!==void 0)&&F(`Cannot register public name '${e}' twice`),wr(a,e,e),a.hasOwnProperty(t)&&F(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),a[e].overloadTable[t]=r):(a[e]=r,t!==void 0&&(a[e].numArguments=t))},Jt=48,Qt=57,Zt=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=Jt&&r<=Qt?`_${e}`:e};function en(e,r,t,o,s,m,S,v){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=o,this.baseClass=s,this.getActualType=m,this.upcast=S,this.downcast=v,this.pureVirtualFunctions=[]}var nr=(e,r,t)=>{for(;r!==t;)r.upcast||F(`Expected null or instance of ${t.name}, got an instance of ${r.name}`),e=r.upcast(e),r=r.baseClass;return e};function rn(e,r){if(r===null)return this.isReference&&F(`null is not a valid ${this.name}`),0;r.$$||F(`Cannot pass "${sr(r)}" as a ${this.name}`),r.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=r.$$.ptrType.registeredClass,o=nr(r.$$.ptr,t,this.registeredClass);return o}function tn(e,r){var t;if(r===null)return this.isReference&&F(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,t),t):0;(!r||!r.$$)&&F(`Cannot pass "${sr(r)}" as a ${this.name}`),r.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&F(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var o=r.$$.ptrType.registeredClass;if(t=nr(r.$$.ptr,o,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&F("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:F(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var s=r.clone();t=this.rawShare(t,We.toHandle(()=>s.delete())),e!==null&&e.push(this.rawDestructor,t)}break;default:F("Unsupporting sharing policy")}return t}function nn(e,r){if(r===null)return this.isReference&&F(`null is not a valid ${this.name}`),0;r.$$||F(`Cannot pass "${sr(r)}" as a ${this.name}`),r.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&F(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var t=r.$$.ptrType.registeredClass,o=nr(r.$$.ptr,t,this.registeredClass);return o}function Be(e){return this.fromWireType(U[e>>>2>>>0])}var an=()=>{Object.assign(Ue.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:oe,readValueFromPointer:Be,fromWireType:Kt})};function Ue(e,r,t,o,s,m,S,v,I,C,A){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=o,this.isSmartPointer=s,this.pointeeType=m,this.sharingPolicy=S,this.rawGetPointee=v,this.rawConstructor=I,this.rawShare=C,this.rawDestructor=A,!s&&r.baseClass===void 0?o?(this.toWireType=rn,this.destructorFunction=null):(this.toWireType=nn,this.destructorFunction=null):this.toWireType=tn}var Nr=(e,r,t)=>{a.hasOwnProperty(e)||Oe("Replacing nonexistent public symbol"),a[e].overloadTable!==void 0&&t!==void 0?a[e].overloadTable[t]=r:(a[e]=r,a[e].argCount=t)},on=(e,r,t)=>{var o=a["dynCall_"+e];return o(r,...t)},je=[],Vr,Or=e=>{var r=je[e];return r||(e>=je.length&&(je.length=e+1),je[e]=r=Vr.get(e)),r},sn=(e,r,t=[])=>{if(e.includes("j"))return on(e,r,t);var o=Or(r)(...t);return o},ln=(e,r)=>(...t)=>sn(e,r,t),be=(e,r)=>{e=ee(e);function t(){return e.includes("j")?ln(e,r):Or(r)}var o=t();return typeof o!="function"&&F(`unknown function pointer with signature ${e}: ${r}`),o},un=(e,r)=>{var t=Ge(r,function(o){this.name=r,this.message=o;var s=new Error(o).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Fr,kr=e=>{var r=zr(e),t=ee(r);return ie(r),t},xe=(e,r)=>{var t=[],o={};function s(m){if(!o[m]&&!fe[m]){if(Ve[m]){Ve[m].forEach(s);return}t.push(m),o[m]=!0}}throw r.forEach(s),new Fr(`${e}: `+t.map(kr).join([", "]))};function cn(e,r,t,o,s,m,S,v,I,C,A,N,k){e>>>=0,r>>>=0,t>>>=0,o>>>=0,s>>>=0,m>>>=0,S>>>=0,v>>>=0,I>>>=0,C>>>=0,A>>>=0,N>>>=0,k>>>=0,A=ee(A),m=be(s,m),v&&(v=be(S,v)),C&&(C=be(I,C)),k=be(N,k);var W=Zt(A);$r(W,function(){xe(`Cannot construct ${A} due to unbound types`,[o])}),Se([e,r,t],o?[o]:[],Y=>{var Ye;Y=Y[0];var le,re;o?(le=Y.registeredClass,re=le.instancePrototype):re=ke.prototype;var ue=Ge(A,function(...br){if(Object.getPrototypeOf(this)!==D)throw new ve("Use 'new' to construct "+A);if(L.constructor_body===void 0)throw new ve(A+" has no accessible constructor");var Jr=L.constructor_body[br.length];if(Jr===void 0)throw new ve(`Tried to invoke ctor of ${A} with invalid number of parameters (${br.length}) - expected (${Object.keys(L.constructor_body).toString()}) parameters instead!`);return Jr.apply(this,br)}),D=Object.create(re,{constructor:{value:ue}});ue.prototype=D;var L=new en(A,ue,D,k,le,m,v,C);L.baseClass&&((Ye=L.baseClass).__derivedClasses??(Ye.__derivedClasses=[]),L.baseClass.__derivedClasses.push(L));var Q=new Ue(A,L,!0,!1,!1),q=new Ue(A+"*",L,!1,!1,!1),ge=new Ue(A+" const*",L,!1,!0,!1);return Rr[e]={pointerType:q,constPointerType:ge},Nr(W,ue),[Q,q,ge]})}var ir=(e,r)=>{for(var t=[],o=0;o<e;o++)t.push(U[r+o*4>>>2>>>0]);return t},fn=e=>{for(;e.length;){var r=e.pop(),t=e.pop();t(r)}};function Gr(e){for(var r=1;r<e.length;++r)if(e[r]!==null&&e[r].destructorFunction===void 0)return!0;return!1}function bn(e,r){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var t=Ge(e.name||"unknownFunctionName",function(){});t.prototype=e.prototype;var o=new t,s=e.apply(o,r);return s instanceof Object?s:o}function gn(e,r,t,o){for(var s=Gr(e),m=e.length,S="",v="",I=0;I<m-2;++I)S+=(I!==0?", ":"")+"arg"+I,v+=(I!==0?", ":"")+"arg"+I+"Wired";var C=`
        return function (${S}) {
        if (arguments.length !== ${m-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${m-2}');
        }`;s&&(C+=`var destructors = [];
`);var A=s?"destructors":"null",N=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];r&&(C+="var thisWired = classParam['toWireType']("+A+`, this);
`);for(var I=0;I<m-2;++I)C+="var arg"+I+"Wired = argType"+I+"['toWireType']("+A+", arg"+I+`);
`,N.push("argType"+I);r&&(v="thisWired"+(v.length>0?", ":"")+v),C+=(t||o?"var rv = ":"")+"invoker(fn"+(v.length>0?", ":"")+v+`);
`;var k=t?"rv":"";if(s)C+=`runDestructors(destructors);
`;else for(var I=r?1:2;I<e.length;++I){var W=I===1?"thisWired":"arg"+(I-2)+"Wired";e[I].destructorFunction!==null&&(C+=`${W}_dtor(${W});
`,N.push(`${W}_dtor`))}return t&&(C+=`var ret = retType['fromWireType'](rv);
return ret;
`),C+=`}
`,[N,C]}function ar(e,r,t,o,s,m){var S=r.length;S<2&&F("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var v=r[1]!==null&&t!==null,I=Gr(r),C=r[0].name!=="void",A=[e,F,o,s,fn,r[0],r[1]],N=0;N<S-2;++N)A.push(r[N+2]);if(!I)for(var N=v?1:2;N<r.length;++N)r[N].destructorFunction!==null&&A.push(r[N].destructorFunction);let[k,W]=gn(r,v,C,m);k.push(W);var Y=bn(Function,k)(...A);return Ge(e,Y)}var mn=function(e,r,t,o,s,m){e>>>=0,t>>>=0,o>>>=0,s>>>=0,m>>>=0;var S=ir(r,t);s=be(o,s);var v=[m],I=[];Se([],[e],C=>{C=C[0];var A=`constructor ${C.name}`;if(C.registeredClass.constructor_body===void 0&&(C.registeredClass.constructor_body=[]),C.registeredClass.constructor_body[r-1]!==void 0)throw new ve(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${C.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return C.registeredClass.constructor_body[r-1]=()=>{xe(`Cannot construct ${C.name} due to unbound types`,S)},Se([],S,N=>(N.splice(1,0,null),C.registeredClass.constructor_body[r-1]=ar(A,N,null,s,m),[])),[]})},Br=e=>{e=e.trim();let r=e.indexOf("(");return r!==-1?e.substr(0,r):e},pn=function(e,r,t,o,s,m,S,v,I){e>>>=0,r>>>=0,o>>>=0,s>>>=0,m>>>=0,S>>>=0;var C=ir(t,o);r=ee(r),r=Br(r),m=be(s,m),Se([],[e],A=>{A=A[0];var N=`${A.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),v&&A.registeredClass.pureVirtualFunctions.push(r);function k(){xe(`Cannot call ${N} due to unbound types`,C)}var W=A.registeredClass.instancePrototype,Y=W[r];return Y===void 0||Y.overloadTable===void 0&&Y.className!==A.name&&Y.argCount===t-2?(k.argCount=t-2,k.className=A.name,W[r]=k):(wr(W,r,N),W[r].overloadTable[t-2]=k),Se([],C,le=>{var re=ar(N,le,A,m,S,I);return W[r].overloadTable===void 0?(re.argCount=t-2,W[r]=re):W[r].overloadTable[t-2]=re,[]}),[]})},or=[],se=[];function dn(e){e>>>=0,e>9&&--se[e+1]===0&&(se[e]=void 0,or.push(e))}var hn=()=>se.length/2-5-or.length,yn=()=>{se.push(0,1,void 0,1,null,1,!0,1,!1,1),a.count_emval_handles=hn},We={toValue:e=>(e||F("Cannot use deleted val. handle = "+e),se[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let r=or.pop()||se.length;return se[r]=e,se[r+1]=1,r}}}},vn={name:"emscripten::val",fromWireType:e=>{var r=We.toValue(e);return dn(e),r},toWireType:(e,r)=>We.toHandle(r),argPackAdvance:oe,readValueFromPointer:Be,destructorFunction:null};function Sn(e){return e>>>=0,ne(e,vn)}var sr=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},_n=(e,r)=>{switch(r){case 4:return function(t){return this.fromWireType(Me[t>>>2>>>0])};case 8:return function(t){return this.fromWireType(Re[t>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}},Tn=function(e,r,t){e>>>=0,r>>>=0,t>>>=0,r=ee(r),ne(e,{name:r,fromWireType:o=>o,toWireType:(o,s)=>s,argPackAdvance:oe,readValueFromPointer:_n(r,t),destructorFunction:null})};function In(e,r,t,o,s,m,S){e>>>=0,t>>>=0,o>>>=0,s>>>=0,m>>>=0;var v=ir(r,t);e=ee(e),e=Br(e),s=be(o,s),$r(e,function(){xe(`Cannot call ${e} due to unbound types`,v)},r-1),Se([],v,I=>{var C=[I[0],null].concat(I.slice(1));return Nr(e,ar(e,C,null,s,m,S),r-1),[]})}var Dn=(e,r,t)=>{switch(r){case 1:return t?o=>X[o>>>0]:o=>J[o>>>0];case 2:return t?o=>ae[o>>>1>>>0]:o=>Le[o>>>1>>>0];case 4:return t?o=>x[o>>>2>>>0]:o=>U[o>>>2>>>0];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Pn(e,r,t,o,s){e>>>=0,r>>>=0,t>>>=0,r=ee(r),s===-1&&(s=4294967295);var m=A=>A;if(o===0){var S=32-8*t;m=A=>A<<S>>>S}var v=r.includes("unsigned"),I=(A,N)=>{},C;v?C=function(A,N){return I(N,this.name),N>>>0}:C=function(A,N){return I(N,this.name),N},ne(e,{name:r,fromWireType:m,toWireType:C,argPackAdvance:oe,readValueFromPointer:Dn(r,t,o!==0),destructorFunction:null})}function En(e,r,t){e>>>=0,t>>>=0;var o=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=o[r];function m(S){var v=U[S>>>2>>>0],I=U[S+4>>>2>>>0];return new s(X.buffer,I,v)}t=ee(t),ne(e,{name:t,fromWireType:m,argPackAdvance:oe,readValueFromPointer:m},{ignoreDuplicateRegistrations:!0})}var Ur=(e,r,t,o)=>{if(t>>>=0,!(o>0))return 0;for(var s=t,m=t+o-1,S=0;S<e.length;++S){var v=e.charCodeAt(S);if(v>=55296&&v<=57343){var I=e.charCodeAt(++S);v=65536+((v&1023)<<10)|I&1023}if(v<=127){if(t>=m)break;r[t++>>>0]=v}else if(v<=2047){if(t+1>=m)break;r[t++>>>0]=192|v>>6,r[t++>>>0]=128|v&63}else if(v<=65535){if(t+2>=m)break;r[t++>>>0]=224|v>>12,r[t++>>>0]=128|v>>6&63,r[t++>>>0]=128|v&63}else{if(t+3>=m)break;r[t++>>>0]=240|v>>18,r[t++>>>0]=128|v>>12&63,r[t++>>>0]=128|v>>6&63,r[t++>>>0]=128|v&63}}return r[t>>>0]=0,t-s},Cn=(e,r,t)=>Ur(e,J,r,t),jr=e=>{for(var r=0,t=0;t<e.length;++t){var o=e.charCodeAt(t);o<=127?r++:o<=2047?r+=2:o>=55296&&o<=57343?(r+=4,++t):r+=3}return r};function An(e,r){e>>>=0,r>>>=0,r=ee(r);var t=r==="std::string";ne(e,{name:r,fromWireType(o){var s=U[o>>>2>>>0],m=o+4,S;if(t)for(var v=m,I=0;I<=s;++I){var C=m+I;if(I==s||J[C>>>0]==0){var A=C-v,N=Ne(v,A);S===void 0?S=N:(S+=String.fromCharCode(0),S+=N),v=C+1}}else{for(var k=new Array(s),I=0;I<s;++I)k[I]=String.fromCharCode(J[m+I>>>0]);S=k.join("")}return ie(o),S},toWireType(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var m,S=typeof s=="string";S||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||F("Cannot pass non-string to std::string"),t&&S?m=jr(s):m=s.length;var v=fr(4+m+1),I=v+4;if(U[v>>>2>>>0]=m,t&&S)Cn(s,I,m+1);else if(S)for(var C=0;C<m;++C){var A=s.charCodeAt(C);A>255&&(ie(I),F("String has UTF-16 code units that do not fit in 8 bits")),J[I+C>>>0]=A}else for(var C=0;C<m;++C)J[I+C>>>0]=s[C];return o!==null&&o.push(ie,v),v},argPackAdvance:oe,readValueFromPointer:Be,destructorFunction(o){ie(o)}})}var xr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ln=(e,r)=>{for(var t=e,o=t>>1,s=o+r/2;!(o>=s)&&Le[o>>>0];)++o;if(t=o<<1,t-e>32&&xr)return xr.decode(J.subarray(e>>>0,t>>>0));for(var m="",S=0;!(S>=r/2);++S){var v=ae[e+S*2>>>1>>>0];if(v==0)break;m+=String.fromCharCode(v)}return m},Mn=(e,r,t)=>{if(t??(t=2147483647),t<2)return 0;t-=2;for(var o=r,s=t<e.length*2?t/2:e.length,m=0;m<s;++m){var S=e.charCodeAt(m);ae[r>>>1>>>0]=S,r+=2}return ae[r>>>1>>>0]=0,r-o},Rn=e=>e.length*2,wn=(e,r)=>{for(var t=0,o="";!(t>=r/4);){var s=x[e+t*4>>>2>>>0];if(s==0)break;if(++t,s>=65536){var m=s-65536;o+=String.fromCharCode(55296|m>>10,56320|m&1023)}else o+=String.fromCharCode(s)}return o},$n=(e,r,t)=>{if(r>>>=0,t??(t=2147483647),t<4)return 0;for(var o=r,s=o+t-4,m=0;m<e.length;++m){var S=e.charCodeAt(m);if(S>=55296&&S<=57343){var v=e.charCodeAt(++m);S=65536+((S&1023)<<10)|v&1023}if(x[r>>>2>>>0]=S,r+=4,r+4>s)break}return x[r>>>2>>>0]=0,r-o},Nn=e=>{for(var r=0,t=0;t<e.length;++t){var o=e.charCodeAt(t);o>=55296&&o<=57343&&++t,r+=4}return r},Vn=function(e,r,t){e>>>=0,r>>>=0,t>>>=0,t=ee(t);var o,s,m,S;r===2?(o=Ln,s=Mn,S=Rn,m=v=>Le[v>>>1>>>0]):r===4&&(o=wn,s=$n,S=Nn,m=v=>U[v>>>2>>>0]),ne(e,{name:t,fromWireType:v=>{for(var I=U[v>>>2>>>0],C,A=v+4,N=0;N<=I;++N){var k=v+4+N*r;if(N==I||m(k)==0){var W=k-A,Y=o(A,W);C===void 0?C=Y:(C+=String.fromCharCode(0),C+=Y),A=k+r}}return ie(v),C},toWireType:(v,I)=>{typeof I!="string"&&F(`Cannot pass non-string to C++ string type ${t}`);var C=S(I),A=fr(4+C+r);return U[A>>>2>>>0]=C/r,s(I,A+4,C+r),v!==null&&v.push(ie,A),A},argPackAdvance:oe,readValueFromPointer:Be,destructorFunction(v){ie(v)}})},On=function(e,r){e>>>=0,r>>>=0,r=ee(r),ne(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,o)=>{}})},Fn=1,kn=()=>Fn,Gn=(e,r)=>{var t=fe[e];return t===void 0&&F(`${r} has unknown type ${kr(e)}`),t};function Bn(e,r){e>>>=0,r>>>=0,e=Gn(e,"_emval_take_value");var t=e.readValueFromPointer(r);return We.toHandle(t)}var Un=()=>{te("")},jn=()=>Date.now(),Wr;Wr=()=>performance.now();function xn(e,r,t){return e>>>=0,r>>>=0,t>>>=0,J.copyWithin(e>>>0,r>>>0,r+t>>>0)}var Wn=()=>3221225472,qn=e=>{var r=M.buffer,t=(e-r.byteLength+65535)/65536;try{return M.grow(t),mr(),1}catch{}};function Hn(e){e>>>=0;var r=J.length,t=Wn();if(e>t)return!1;for(var o=(I,C)=>I+(C-I%C)%C,s=1;s<=4;s*=2){var m=r*(1+.2/s);m=Math.min(m,e+100663296);var S=Math.min(t,o(Math.max(e,m),65536)),v=qn(S);if(v)return!0}return!1}var lr={},Yn=()=>b||"./this.program",Ee=()=>{if(!Ee.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Yn()};for(var t in lr)lr[t]===void 0?delete r[t]:r[t]=lr[t];var o=[];for(var t in r)o.push(`${t}=${r[t]}`);Ee.strings=o}return Ee.strings},zn=(e,r)=>{for(var t=0;t<e.length;++t)X[r++>>>0]=e.charCodeAt(t);X[r>>>0]=0},Kn=function(e,r){e>>>=0,r>>>=0;var t=0;return Ee().forEach((o,s)=>{var m=r+t;U[e+s*4>>>2>>>0]=m,zn(o,m),t+=o.length+1}),0},Xn=function(e,r){e>>>=0,r>>>=0;var t=Ee();U[e>>>2>>>0]=t.length;var o=0;return t.forEach(s=>o+=s.length+1),U[r>>>2>>>0]=o,0},Jn=0,Qn=()=>Tt||Jn>0,Zn=e=>{Je=e,Qn()||(a.onExit?.(e),Xe=!0),T(e,new _t(e))},ei=(e,r)=>{Je=e,Zn(e)},ri=ei,ti=e=>52;function ni(e,r){r>>>=0;var t=0,o=0,s=0;{var m=2;e==0?t=2:(e==1||e==2)&&(t=64),s=1}return X[r>>>0]=m,ae[r+2>>>1>>>0]=s,de=[t>>>0,(Z=t,+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],x[r+8>>>2>>>0]=de[0],x[r+12>>>2>>>0]=de[1],de=[o>>>0,(Z=o,+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],x[r+16>>>2>>>0]=de[0],x[r+20>>>2>>>0]=de[1],0}function ii(e,r,t,o){return r>>>=0,t>>>=0,o>>>=0,52}function ai(e,r,t,o,s){var m=Ir(r,t);return s>>>=0,70}var ur=[null,[],[]],cr=(e,r)=>{var t=ur[e];r===0||r===10?((e===1?Ae:p)(Pr(t,0)),t.length=0):t.push(r)},la=()=>{ur[1].length&&cr(1,10),ur[2].length&&cr(2,10)};function oi(e,r,t,o){r>>>=0,t>>>=0,o>>>=0;for(var s=0,m=0;m<t;m++){var S=U[r>>>2>>>0],v=U[r+4>>>2>>>0];r+=8;for(var I=0;I<v;I++)cr(e,J[S+I>>>0]);s+=v}return U[o>>>2>>>0]=s,0}var qe=e=>e%4===0&&(e%100!==0||e%400===0),si=(e,r)=>{for(var t=0,o=0;o<=r;t+=e[o++]);return t},qr=[31,29,31,30,31,30,31,31,30,31,30,31],Hr=[31,28,31,30,31,30,31,31,30,31,30,31],li=(e,r)=>{for(var t=new Date(e.getTime());r>0;){var o=qe(t.getFullYear()),s=t.getMonth(),m=(o?qr:Hr)[s];if(r>m-t.getDate())r-=m-t.getDate()+1,t.setDate(1),s<11?t.setMonth(s+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+r),t}return t};function ui(e,r,t){var o=t>0?t:jr(e)+1,s=new Array(o),m=Ur(e,s,0,s.length);return r&&(s.length=m),s}var ci=(e,r)=>{X.set(e,r>>>0)};function fi(e,r,t,o){e>>>=0,r>>>=0,t>>>=0,o>>>=0;var s=U[o+40>>>2>>>0],m={tm_sec:x[o>>>2>>>0],tm_min:x[o+4>>>2>>>0],tm_hour:x[o+8>>>2>>>0],tm_mday:x[o+12>>>2>>>0],tm_mon:x[o+16>>>2>>>0],tm_year:x[o+20>>>2>>>0],tm_wday:x[o+24>>>2>>>0],tm_yday:x[o+28>>>2>>>0],tm_isdst:x[o+32>>>2>>>0],tm_gmtoff:x[o+36>>>2>>>0],tm_zone:s?Ne(s):""},S=Ne(t),v={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var I in v)S=S.replace(new RegExp(I,"g"),v[I]);var C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A=["January","February","March","April","May","June","July","August","September","October","November","December"];function N(D,L,Q){for(var q=typeof D=="number"?D.toString():D||"";q.length<L;)q=Q[0]+q;return q}function k(D,L){return N(D,L,"0")}function W(D,L){function Q(ge){return ge<0?-1:ge>0?1:0}var q;return(q=Q(D.getFullYear()-L.getFullYear()))===0&&(q=Q(D.getMonth()-L.getMonth()))===0&&(q=Q(D.getDate()-L.getDate())),q}function Y(D){switch(D.getDay()){case 0:return new Date(D.getFullYear()-1,11,29);case 1:return D;case 2:return new Date(D.getFullYear(),0,3);case 3:return new Date(D.getFullYear(),0,2);case 4:return new Date(D.getFullYear(),0,1);case 5:return new Date(D.getFullYear()-1,11,31);case 6:return new Date(D.getFullYear()-1,11,30)}}function le(D){var L=li(new Date(D.tm_year+1900,0,1),D.tm_yday),Q=new Date(L.getFullYear(),0,4),q=new Date(L.getFullYear()+1,0,4),ge=Y(Q),Ye=Y(q);return W(ge,L)<=0?W(Ye,L)<=0?L.getFullYear()+1:L.getFullYear():L.getFullYear()-1}var re={"%a":D=>C[D.tm_wday].substring(0,3),"%A":D=>C[D.tm_wday],"%b":D=>A[D.tm_mon].substring(0,3),"%B":D=>A[D.tm_mon],"%C":D=>{var L=D.tm_year+1900;return k(L/100|0,2)},"%d":D=>k(D.tm_mday,2),"%e":D=>N(D.tm_mday,2," "),"%g":D=>le(D).toString().substring(2),"%G":le,"%H":D=>k(D.tm_hour,2),"%I":D=>{var L=D.tm_hour;return L==0?L=12:L>12&&(L-=12),k(L,2)},"%j":D=>k(D.tm_mday+si(qe(D.tm_year+1900)?qr:Hr,D.tm_mon-1),3),"%m":D=>k(D.tm_mon+1,2),"%M":D=>k(D.tm_min,2),"%n":()=>`
`,"%p":D=>D.tm_hour>=0&&D.tm_hour<12?"AM":"PM","%S":D=>k(D.tm_sec,2),"%t":()=>"	","%u":D=>D.tm_wday||7,"%U":D=>{var L=D.tm_yday+7-D.tm_wday;return k(Math.floor(L/7),2)},"%V":D=>{var L=Math.floor((D.tm_yday+7-(D.tm_wday+6)%7)/7);if((D.tm_wday+371-D.tm_yday-2)%7<=2&&L++,L){if(L==53){var q=(D.tm_wday+371-D.tm_yday)%7;q!=4&&(q!=3||!qe(D.tm_year))&&(L=1)}}else{L=52;var Q=(D.tm_wday+7-D.tm_yday-1)%7;(Q==4||Q==5&&qe(D.tm_year%400-1))&&L++}return k(L,2)},"%w":D=>D.tm_wday,"%W":D=>{var L=D.tm_yday+7-(D.tm_wday+6)%7;return k(Math.floor(L/7),2)},"%y":D=>(D.tm_year+1900).toString().substring(2),"%Y":D=>D.tm_year+1900,"%z":D=>{var L=D.tm_gmtoff,Q=L>=0;return L=Math.abs(L)/60,L=L/60*100+L%60,(Q?"+":"-")+("0000"+L).slice(-4)},"%Z":D=>D.tm_zone,"%%":()=>"%"};S=S.replace(/%%/g,"\0\0");for(var I in re)S.includes(I)&&(S=S.replace(new RegExp(I,"g"),re[I](m)));S=S.replace(/\0\0/g,"%");var ue=ui(S,!1);return ue.length>r?0:(ci(ue,e),ue.length-1)}function bi(e,r,t,o,s){return e>>>=0,r>>>=0,t>>>=0,o>>>=0,s>>>=0,fi(e,r,t,o)}kt(),ve=a.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},Cr=a.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},Xt(),Ht(),an(),Fr=a.UnboundTypeError=un(Error,"UnboundTypeError"),yn();var Yr={__cxa_rethrow:It,__cxa_throw:Pt,__syscall_dup3:Et,__syscall_faccessat:Ct,__syscall_fcntl64:At,__syscall_fstat64:Lt,__syscall_ftruncate64:Mt,__syscall_ioctl:Rt,__syscall_lstat64:wt,__syscall_newfstatat:$t,__syscall_openat:Nt,__syscall_stat64:Vt,__syscall_unlinkat:Ot,_embind_register_bigint:Ft,_embind_register_bool:Bt,_embind_register_class:cn,_embind_register_class_constructor:mn,_embind_register_class_function:pn,_embind_register_emval:Sn,_embind_register_float:Tn,_embind_register_function:In,_embind_register_integer:Pn,_embind_register_memory_view:En,_embind_register_std_string:An,_embind_register_std_wstring:Vn,_embind_register_void:On,_emscripten_get_now_is_monotonic:kn,_emval_take_value:Bn,abort:Un,emscripten_date_now:jn,emscripten_get_now:Wr,emscripten_memcpy_js:xn,emscripten_resize_heap:Hn,environ_get:Kn,environ_sizes_get:Xn,exit:ri,fd_close:ti,fd_fdstat_get:ni,fd_read:ii,fd_seek:ai,fd_write:oi,strftime_l:bi},j=St(),gi=()=>(gi=j.__wasm_call_ctors)(),fr=e=>(fr=j.malloc)(e),ie=e=>(ie=j.free)(e),zr=e=>(zr=j.__getTypeName)(e),mi=()=>(mi=j.stackSave)(),pi=e=>(pi=j.stackRestore)(e),di=e=>(di=j.stackAlloc)(e),Kr=e=>(Kr=j.__cxa_is_pointer_type)(e),hi=a.dynCall_viiij=(e,r,t,o,s,m)=>(hi=a.dynCall_viiij=j.dynCall_viiij)(e,r,t,o,s,m),yi=a.dynCall_viiiij=(e,r,t,o,s,m,S)=>(yi=a.dynCall_viiiij=j.dynCall_viiiij)(e,r,t,o,s,m,S),vi=a.dynCall_ji=(e,r)=>(vi=a.dynCall_ji=j.dynCall_ji)(e,r),Si=a.dynCall_vij=(e,r,t,o)=>(Si=a.dynCall_vij=j.dynCall_vij)(e,r,t,o),_i=a.dynCall_jiii=(e,r,t,o)=>(_i=a.dynCall_jiii=j.dynCall_jiii)(e,r,t,o),Ti=a.dynCall_jiji=(e,r,t,o,s)=>(Ti=a.dynCall_jiji=j.dynCall_jiji)(e,r,t,o,s),Ii=a.dynCall_viijii=(e,r,t,o,s,m,S)=>(Ii=a.dynCall_viijii=j.dynCall_viijii)(e,r,t,o,s,m,S),Di=a.dynCall_iiiiij=(e,r,t,o,s,m,S)=>(Di=a.dynCall_iiiiij=j.dynCall_iiiiij)(e,r,t,o,s,m,S),Pi=a.dynCall_iiiiijj=(e,r,t,o,s,m,S,v,I)=>(Pi=a.dynCall_iiiiijj=j.dynCall_iiiiijj)(e,r,t,o,s,m,S,v,I),Ei=a.dynCall_iiiiiijj=(e,r,t,o,s,m,S,v,I,C)=>(Ei=a.dynCall_iiiiiijj=j.dynCall_iiiiiijj)(e,r,t,o,s,m,S,v,I,C);function Ci(e){e=Object.assign({},e);var r=o=>s=>o(s)>>>0,t=o=>()=>o()>>>0;return e.malloc=r(e.malloc),e.__getTypeName=r(e.__getTypeName),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}var He;_e=function e(){He||Xr(),He||(_e=e)};function Xr(){if(ce>0||(ut(),ce>0))return;function e(){He||(He=!0,a.calledRun=!0,!Xe&&(ct(),l(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),ft()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e()}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Xr(),n.ready}})();typeof rt=="object"&&typeof gr=="object"?gr.exports=et:typeof define=="function"&&define.amd&&define([],()=>et)});var nt=Vi(tt(),1),it=nt.default,ze=null;async function O(){return ze===null&&(ze=it()),ze}function Oi(){ze=null,Ke=null,it().then(i=>{Ke=i})}var Ke=null;function Fi(i){Ke=i}function ki(){return Ke}async function me(i,n,a){if(!a)return null;if(i.point){let l=n.map(c=>c.points);return at(l,a)}else if(i.line){let l=n.map(c=>c.lines);return Gi(l,a)}else if(i.polygon){let l=n.map(c=>c.polygons);return Bi(l,a)}return null}function at(i,n){let a=new n.VectorDouble,l=new n.VectorDouble,c=new n.VectorUInt,u=new n.VectorUInt,g=!1;for(let T=0;T<i.length;T++){let d=i[T];if(d){let f=d.positions.value;for(let y=0;y<f.length;y+=2)a.push_back(f[y]),l.push_back(f[y+1]);let h=0;for(let y=0;y<d.featureIds.value.length;y++)(y===0||d.featureIds.value[y]!==d.featureIds.value[y-1])&&c.push_back(h),h++;for(let y=1;y<c.size();y++)u.push_back(c.get(y)-c.get(y-1));c.size()>0&&u.push_back(h-c.get(c.size()-1))}}return new n.PointCollection(a,l,c,u,g)}function Gi(i,n){let a=new n.VectorDouble,l=new n.VectorDouble,c=new n.VectorUInt,u=new n.VectorUInt,g=!1;for(let T=0;T<i.length;T++){let d=i[T];if(d){let f=d.positions.value,h=d.pathIndices.value;for(let P=0;P<f.length;P+=2)a.push_back(f[P]),l.push_back(f[P+1]);let y=0;for(let P=0;P<h.length-1;P++){let R=h[P];c.push_back(R),P>0&&d.featureIds.value[R]!==d.featureIds.value[R-1]&&(u.push_back(y),y=0),y+=1}u.push_back(y)}}return new n.LineCollection(a,l,c,u,g)}function Bi(i,n){let a=new n.VectorDouble,l=new n.VectorDouble,c=new n.VectorUInt,u=new n.VectorUInt,g=new n.VectorUInt,b=!0,T=!1;for(let f=0;f<i.length;f++){let h=i[f];if(h){let y=h.positions.value,P=h.polygonIndices.value,R=h.primitivePolygonIndices.value;for(let B=0;B<y.length;B+=2)a.push_back(y[B]),l.push_back(y[B+1]);let $=0,G=0;for(let B=0;B<P.length-1;B++){let _=P[B],H=P[B+1];for(;R[$]<H;)R[$]>_?u.push_back(1):u.push_back(0),c.push_back(R[$]),$++,G+=1;h.featureIds.value[H]!==h.featureIds.value[H-1]&&(g.push_back(G),G=0)}}}return new n.PolygonCollection(a,l,c,u,g,b,T)}async function ha({distanceThreshold:i,isMile:n=!1,binaryGeometryType:a,binaryGeometries:l}){if(!l||l.length===0)return[];let c=[],u=await O(),g=await me(a,l,u);if(g){let b=u.getDistanceWeights(g,i,n);for(let T=0;T<b.size();++T){let d=b.get(T),f=Array(d.size());for(let h=0,y=d.size();h<y;++h)f[h]=d.get(h);c[T]=f}}return c}async function ya({isMile:i=!1,binaryGeometryType:n,binaryGeometries:a}){let l=await O(),c=await me(n,a,l);if(c){let u=l.getDistanceThresholds(c,i);return{minDistance:u.get(0),maxDistance:u.get(1),maxPairDistance:u.get(2)}}return{minDistance:0,maxDistance:0,maxPairDistance:0}}async function Ia({k:i,binaryGeometryType:n,binaryGeometries:a}){if(!a||a.length===0)return[];let l=[],c=await O(),u=await me(n,a,c);if(u){let g=c.getNearestNeighbors(u,i);for(let b=0;b<g.size();++b){let T=g.get(b),d=Array(T.size());for(let f=0,h=T.size();f<h;++f)d[f]=T.get(f);l[b]=d}}return l}async function Aa({binaryGeometryType:i,binaryGeometries:n,isQueen:a,useCentroids:l,precisionThreshold:c=0,orderOfContiguity:u=1,includeLowerOrder:g=!1}){if(!n||n.length===0)return[];let b=[],T=await O(),d=await me(i,n,T);if(d){let f=l||i.point||i.line?T.getPointContiguityWeights(d,a,c,u,g):T.getPolygonContiguityWeights(d,a,c,u,g);for(let h=0;h<f.size();++h){let y=f.get(h),P=Array(y.size());for(let R=0,$=y.size();R<$;++R)P[R]=y.get(R);b[h]=P}}return b}function Ma(i,n=!1){let a=i.length,l=Math.min(...i.map(d=>d.length)),c=Math.max(...i.map(d=>d.length)),u=i.reduce((d,f)=>d+f.length,0)/a,g=i.map(d=>d.length).sort((d,f)=>d-f)[Math.floor(a/2)],b=i.reduce((d,f)=>d+f.length,0),T=b/(a*a);return n&&(l=Math.min(...i.map(d=>d.length/2)),c=Math.max(...i.map(d=>d.length/2)),u=i.reduce((d,f)=>d+f.length/2,0)/a,g=i.map(d=>d.length/2).sort((d,f)=>d-f)[Math.floor(a/2)],b=i.reduce((d,f)=>d+f.length/2,0),T=b/(a*a)),{numberOfObservations:a,minNeighbors:l,maxNeighbors:c,meanNeighbors:u,medianNeighbors:g,pctNoneZero:T}}function V(i){let n=[],a=i.size();for(let l=0;l<a;++l)n.push(i.get(l));return n}function z(i){let n=[],a=i.size();for(let l=0;l<a;++l)n.push(i.get(l));return n}function K(i){let n=[],a=i.size();for(let l=0;l<a;++l)n.push(i.get(l));return n}async function Va({data:i,neighbors:n,permutation:a,significanceCutoff:l=.05,seed:c=1234567890}){let u=await O(),g=i.length,b=new u.VectorDouble;b.resize(g,0);for(let h=0;h<g;++h)b.set(h,i[h]);let T=new u.VecVecUInt,d=new u.VectorUInt;for(let h=0;h<g;++h){let y=n[h],P=new u.VectorUInt;for(let R=0,$=y.length;R<$;++R)P.push_back(y[R]);T.push_back(P)}let f=u.localMoran(b,T,d,l,a,c);return{isValid:f.isValid(),clusters:V(f.getClusters()),lagValues:V(f.getLagValues()),lisaValues:V(f.getLisaValues()),pValues:V(f.getPValues()),sigCategories:z(f.getSignificanceCategories()),nn:z(f.getNN()),labels:K(f.getLabels()),colors:K(f.getColors())}}async function Oa({data1:i,data2:n,neighbors:a,permutation:l,significanceCutoff:c=.05,seed:u=1234567890}){let g=await O(),b=i.length,T=new g.VectorDouble;T.resize(b,0);for(let P=0;P<b;++P)T.set(P,i[P]);let d=new g.VectorDouble;d.resize(b,0);for(let P=0;P<b;++P)d.set(P,n[P]);let f=new g.VecVecUInt,h=new g.VectorUInt;for(let P=0;P<b;++P){let R=a[P],$=new g.VectorUInt;for(let G=0,B=R.length;G<B;++G)$.push_back(R[G]);f.push_back($)}let y=g.bivariateLocalMoran(T,d,f,h,c,l,u);return{isValid:y.isValid(),clusters:V(y.getClusters()),lagValues:V(y.getLagValues()),lisaValues:V(y.getLisaValues()),pValues:V(y.getPValues()),sigCategories:z(y.getSignificanceCategories()),nn:z(y.getNN()),labels:K(y.getLabels()),colors:K(y.getColors())}}async function Ba({data:i,neighbors:n,permutation:a,significanceCutoff:l=.05,seed:c=1234567890,isGStar:u=!1}){let g=await O(),b=i.length,T=new g.VectorDouble;T.resize(b,0);for(let y=0;y<b;++y)T.set(y,i[y]);let d=new g.VectorUInt,f=new g.VecVecUInt;for(let y=0;y<b;++y){let P=n[y],R=new g.VectorUInt;for(let $=0,G=P.length;$<G;++$)R.push_back(P[$]);f.push_back(R)}let h=g.localG(T,f,d,l,a,c,u?1:0);return{isValid:h.isValid(),clusters:V(h.getClusters()),lagValues:V(h.getLagValues()),lisaValues:V(h.getLisaValues()),pValues:V(h.getPValues()),sigCategories:z(h.getSignificanceCategories()),nn:z(h.getNN()),labels:K(h.getLabels()),colors:K(h.getColors())}}async function Wa({data:i,neighbors:n,permutation:a,significanceCutoff:l=.05,seed:c=1234567890}){let u=await O(),g=i.length,b=new u.VectorDouble;b.resize(g,0);for(let h=0;h<g;++h)b.set(h,i[h]);let T=new u.VecVecUInt,d=new u.VectorUInt;for(let h=0;h<g;++h){let y=n[h],P=new u.VectorUInt;for(let R=0,$=y.length;R<$;++R)P.push_back(y[R]);T.push_back(P)}let f=u.localGeary(b,T,d,l,a,c);return{isValid:f.isValid(),clusters:V(f.getClusters()),lagValues:V(f.getLagValues()),lisaValues:V(f.getLisaValues()),pValues:V(f.getPValues()),sigCategories:z(f.getSignificanceCategories()),nn:z(f.getNN()),labels:K(f.getLabels()),colors:K(f.getColors())}}async function qa({data:i,neighbors:n,permutation:a,significanceCutoff:l=.05,seed:c=1234567890}){let u=await O(),g=n.length,b=new u.VecVecDouble;for(let h=0;h<i.length;++h){let y=new u.VectorDouble;for(let P=0;P<i[h].length;++P)y.push_back(i[h][P]);b.push_back(y)}let T=new u.VecVecUInt,d=new u.VecVecUInt;for(let h=0;h<g;++h){let y=n[h],P=new u.VectorUInt;for(let R=0,$=y.length;R<$;++R)P.push_back(y[R]);T.push_back(P)}let f=u.multivariateLocalGeary(b,T,d,l,a,c);return{isValid:f.isValid(),clusters:V(f.getClusters()),lagValues:V(f.getLagValues()),lisaValues:V(f.getLisaValues()),pValues:V(f.getPValues()),sigCategories:z(f.getSignificanceCategories()),nn:z(f.getNN()),labels:K(f.getLabels()),colors:K(f.getColors())}}async function Ka({k:i,quantile:n,data:a,neighbors:l,permutation:c,significanceCutoff:u=.05,seed:g=1234567890}){let b=await O(),T=a.length,d=new b.VectorDouble;d.resize(T,0);for(let P=0;P<T;++P)d.set(P,a[P]);let f=new b.VectorUInt,h=new b.VecVecUInt;for(let P=0;P<T;++P){let R=l[P],$=new b.VectorUInt;for(let G=0,B=R.length;G<B;++G)$.push_back(R[G]);h.push_back($)}let y=b.quantileLisa(i,n,d,h,f,u,c,g);return{isValid:y.isValid(),clusters:V(y.getClusters()),lagValues:V(y.getLagValues()),lisaValues:V(y.getLisaValues()),pValues:V(y.getPValues()),sigCategories:z(y.getSignificanceCategories()),nn:z(y.getNN()),labels:K(y.getLabels()),colors:K(y.getColors())}}function Ja(i,n){let a=i.length,l=new Array(a).fill(0);for(let c=0;c<a;c++){let u=n[c].filter(T=>T!==c),g=u.map(T=>i[T]);g.sort((T,d)=>T-d);let b=Math.floor(u.length/2);u.length%2===0?l[c]=(g[b-1]+g[b])/2:l[c]=g[b]}return l}var Ui=(g=>(g.RawRates="Raw Rates",g.ExcessRisk="Excess Risk",g.EmpiricalRisk="Empirical Risk",g.SpatialRates="Spatial Rates",g.SpatialEmpiricalRates="Spatial Empirical Rates",g.EBRateStandardization="EB Rate Standardization",g))(Ui||{});function Za({eventValues:i,baseValues:n,method:a,neighbors:l}){switch(a){case"Raw Rates":return ji(n,i);case"Excess Risk":return xi(n,i);case"Empirical Risk":return Wi(n,i);case"Spatial Rates":return l?Hi(n,i,l):[];case"Spatial Empirical Rates":return l?qi(n,i,l):[];case"EB Rate Standardization":return Yi(n,i);default:return[]}}function ji(i,n){let a=i.length,l=new Array(a).fill(0);for(let c=0;c<a;c++)i[c]>0?l[c]=n[c]/i[c]:l[c]=0;return l}function xi(i,n){let a=i.length,l=new Array(a).fill(0),c=0,u=0;for(let b=0;b<a;b++)c+=i[b],u+=n[b];let g=1;c>0&&(g=u/c);for(let b=0;b<a;b++){let T=i[b]*g;T>0?l[b]=n[b]/T:l[b]=0}return l}function Wi(i,n){let a=i.length,l=new Array(a).fill(0),c=new Array(a).fill(0),u=0,g=0;for(let y=0;y<a;y++)u+=i[y],g+=n[y],i[y]>0&&(c[y]=n[y]/i[y]);let b=u>0?g/u:1,T=u/a,d=0,f=0;for(let y=0;y<a;y++)d+=Math.pow(c[y]-b,2)*i[y];let h=d/u-b/T;h<0&&(h=0);for(let y=0;y<a;y++)d=h+b/i[y],f=d>0?h/d:1,l[y]=f*c[y]+(1-f)*b;return l}function qi(i,n,a){let l=i.length,c=new Array(l).fill(0),u=new Array(l).fill(0);for(let g=0;g<l;g++)u[g]=i[g]>0?n[g]/i[g]:1;for(let g=0;g<l;g++){let b=i[g],T=n[g],d=a[g];for(let h=0;h<d.length;h++)b+=i[d[h]],T+=n[d[h]];let f=b>0?T/b:1;if(d.length>0){let h=b/(d.length+1),y=Math.pow(u[g]-f,2)*i[g];for(let $=0;$<d.length;$++)y+=Math.pow(u[d[$]]-f,2)*i[d[$]];let P=y/b-f/h;P<0&&(P=0),y=P+f/i[g];let R=y>0?P/y:1;c[g]=R*u[g]+(1-R)*f}}return c}function Hi(i,n,a){let l=i.length,c=new Array(l).fill(0);for(let u=0;u<l;u++){let g=i[u],b=n[u],T=a[u];for(let d=0;d<T.length;d++)g+=i[T[d]],b+=n[T[d]];i[u]+g>0&&(c[u]=(n[u]+b)/(i[u]+g))}return c}function Yi(i,n){let a=i.length,l=new Array(a).fill(0),c=new Array(a).fill(0),u=0,g=0;for(let h=0;h<a;h++)u+=i[h],g+=n[h],i[h]>0&&(c[h]=n[h]/i[h]);if(u===0)return l;let b=g/u,T=0;for(let h=0;h<a;h++)T+=Math.pow(c[h]-b,2)*i[h];let d=T/u-b/(u/a),f=d>0?d:0;for(let h=0;h<a;h++){let y=i[h]>0?Math.sqrt(f+b/i[h]):0;l[h]=y>0?(c[h]-b)/y:0}return l}async function no(i,n){let a=await O(),l=n.length,c=new a.VectorUInt;c.resize(l,0);let u=new a.VectorDouble;u.resize(l,0);for(let b=0;b<l;++b)u.set(b,n[b]),(n[b]===void 0||n[b]===null)&&c.set(b,1);let g=a.quantileBreaks(i,u,c);return V(g)}async function so(i,n){let a=await O(),l=n.length,c=new a.VectorInt;c.resize(l,0);let u=new a.VectorDouble;u.resize(l,0);for(let b=0;b<l;++b)u.set(b,n[b]),(n[b]===void 0||n[b]===null)&&c.set(b,1);let g=a.naturalBreaks(i,u,c);return V(g)}async function fo(i,n){let a=await O(),l=n.length,c=new a.VectorInt;c.resize(l,0);let u=new a.VectorDouble;u.resize(l,0);for(let b=0;b<l;++b)u.set(b,n[b]),(n[b]===void 0||n[b]===null)&&c.set(b,1);let g=a.equalIntervalBreaks(i,u,c);return V(g)}async function po(i){let n=await O(),a=i.length,l=new n.VectorInt;l.resize(a,0);let c=new n.VectorDouble;c.resize(a,0);for(let g=0;g<a;++g)c.set(g,i[g]),(i[g]===void 0||i[g]===null)&&l.set(g,1);let u=n.percentileBreaks(c,l);return V(u)}async function ot(i,n){let a=await O(),l=i.length,c=new a.VectorInt;c.resize(l,0);let u=new a.VectorDouble;u.resize(l,0);for(let b=0;b<l;++b)u.set(b,i[b]),(i[b]===void 0||i[b]===null)&&c.set(b,1);let g=a.boxBreaks(u,c,n);return V(g)}async function So(i){return await ot(i,1.5)}async function _o(i){return await ot(i,3)}async function Po(i){let n=await O(),a=i.length,l=new n.VectorInt;l.resize(a,0);let c=new n.VectorDouble;c.resize(a,0);for(let g=0;g<a;++g)c.set(g,i[g]),(i[g]===void 0||i[g]===null)&&l.set(g,1);let u=n.standardDeviationBreaks(c,l);return V(u)}async function zi({x:i,y:n,weightsId:a,weights:l,weightsValues:c,xNames:u,yName:g,datasetName:b,xUndefs:T,yUndefs:d}){let f=await O(),h=new f.VectorDouble;for(let p=0;p<n.length;++p)h.push_back(n[p]);let y=new f.VecVecDouble;for(let p=0;p<i.length;++p){let w=new f.VectorDouble;for(let M=0;M<i[p].length;++M)w.push_back(i[p][M]);y.push_back(w)}let P=new f.VecVecUInt;if(l)for(let p=0;p<l.length;++p){let w=new f.VectorUInt;for(let M=0;M<l[p].length;++M)w.push_back(l[p][M]);P.push_back(w)}let R=new f.VecVecDouble;if(c)for(let p=0;p<c.length;++p){let w=new f.VectorDouble;for(let M=0;M<c[p].length;++M)w.push_back(c[p][M]);R.push_back(w)}let $=new f.VectorString;for(let p=0;p<u.length;++p)$.push_back(u[p]);let G=new f.VectorUInt;if(d)for(let p=0;p<d.length;++p)G.push_back(d[p]);let B=new f.VecVecUInt;if(T)for(let p=0;p<T.length;++p){let w=new f.VectorUInt;for(let M=0;M<T[p].length;++M)w.push_back(T[p][M]);B.push_back(w)}let _=f.linearRegression(h,y,P,R,g,$,b,G,B),H=[];for(let p=0;p<u.length+1;++p)H.push({Variable:_.GetXVarName(p),Coefficient:_.GetCoefficient(p),"Std Error":_.GetStdError(p),"t-Statistic":_.GetZValue(p),Probability:_.GetProbability(p)});return{type:"linearRegression",dependentVariable:g,independentVariables:u,title:"ORDINARY LEAST SQUARES ESTIMATION",datasetName:b,weightsId:a,"Number of Observations":_.GetNoObservation(),"Mean Dependent Var":_.GetMeanY(),"Number of Variables":u.length+1,"SD Dependent Var":_.GetSDevY(),"Degrees of Freedom":_.GetNoObservation()-u.length-1,"R-squared":_.GetR2(),"Adjusted R-squared":_.GetR2_adjust(),"F-statistic":_.GetFtest(),"Prob(F-statistic)":_.GetFtestProb(),"Sum Squared Residual":_.GetRSS(),"Log Likelihood":_.GetLIK(),"Sigma-Square":_.GetSIQ_SQ(),"Akaike Info Criterion":_.GetAIC(),"SE of Regression":Math.sqrt(_.GetSIQ_SQ()),"Schwarz Criterion":_.GetOLS_SC(),"Sigma-Square ML":_.GetSIQ_SQLM(),"SE of Regression ML":Math.sqrt(_.GetSIQ_SQLM()),"Variable Coefficients":H,"REGRESSION DIAGNOSTICS":{"MULTICOLLINEARITY CONDITION NUMBER":_.GetConditionNumber(),"TEST ON NORMALITY OF ERRORS":{Test:"Jarque-Bera","Jarque-Bera DF":_.GetJBtest(0),"Jarque-Bera Value":_.GetJBtest(1),"Jarque-Bera Probability":_.GetJBtest(2)}},"DIAGNOSTICS FOR HETEROSKEDASTICITY":{"BREUSCH-PAGAN TEST":{Test:"Breusch-Pagan","Breusch-Pagan DF":_.GetBPtest(0),"Breusch-Pagan Value":_.GetBPtest(1),"Breusch-Pagan Probability":_.GetBPtest(2)},"KOENKER-Bassett TEST":{Test:"Koenker-Bassett","Koenker-Bassett DF":_.GetKBtest(0),"Koenker-Bassett Value":_.GetKBtest(1),"Koenker-Bassett Probability":_.GetKBtest(2)}},"DIAGNOSTICS FOR SPATIAL DEPENDENCE":{"Moran's I (error)":{Test:"Moran's I (error)","Moran's I (error)":_.GetMoranI(0),"Moran\u2019s I (error) Z":_.GetMoranI(1),"Moran\u2019s I (error) Probability":_.GetMoranI(2)},"Lagrange Multiplier (lag)":{Test:"Lagrange Multiplier (lag)","Lagrange Multiplier (lag) DF":_.GetLMLAG(0),"Lagrange Multiplier (lag) Value":_.GetLMLAG(1),"Lagrange Multiplier (lag) Probability":_.GetLMLAG(2)},"Robust LM (lag)":{Test:"Robust LM (lag)","Robust LM (lag) DF":_.GetLMLAGRob(0),"Robust LM (lag) Value":_.GetLMLAGRob(1),"Robust LM (lag) Probability":_.GetLMLAGRob(2)},"Lagrange Multiplier (error)":{Test:"Lagrange Multiplier (error)","Lagrange Multiplier (error) DF":_.GetLMERR(0),"Lagrange Multiplier (error) Value":_.GetLMERR(1),"Lagrange Multiplier (error) Probability":_.GetLMERR(2)},"Robust LM (error)":{Test:"Robust LM (error)","Robust LM (error) DF":_.GetLMERRRob(0),"Robust LM (error) Value":_.GetLMERRRob(1),"Robust LM (error) Probability":_.GetLMERRRob(2)},"Lagrange Multiplier (SARMA)":{Test:"Lagrange Multiplier (SARMA)","Lagrange Multiplier (SARMA) DF":_.GetLMSarma(0),"Lagrange Multiplier (SARMA) Value":_.GetLMSarma(1),"Lagrange Multiplier (SARMA) Probability":_.GetLMSarma(2)}}}}function Ki(i){let n="";n+=`Dataset: ${i.datasetName}
`,n+=`${i.weightsId?`Weights: ${i.weightsId}
`:""}`,n+=`Dependent Variable: ${i.dependentVariable}
`,n+=`Mean Dependent Var: ${i["Mean Dependent Var"]}
`,n+=`SD Dependent Var: ${i["SD Dependent Var"]}
`,n+=`No. Observations: ${i["Number of Observations"]}
`,n+=`Degrees of Freedom: ${i["Degrees of Freedom"]}
`,n+=`R-squared: ${i["R-squared"]}
`,n+=`Adj. R-squared: ${i["Adjusted R-squared"]}
`,n+=`F-statistic: ${i["F-statistic"]}
`,n+=`Prob(F-statistic): ${i["Prob(F-statistic)"]}
`,n+=`Log-Likelihood: ${i["Log Likelihood"]}
`,n+=`Akaike Info Criterion: ${i["Akaike Info Criterion"]}
`,n+=`Schwarz Criterion: ${i["Schwarz Criterion"]}
`,n+=`Sum squared residual: ${i["Sum Squared Residual"]}
`,n+=`Sigma-square: ${i["Sigma-Square"]}
`,n+=`SE of regression: ${i["SE of Regression"]}
`,n+=`Sigma-Square ML: ${i["Sigma-Square ML"]}
`,n+=`S.E. of regression ML: ${Math.sqrt(i["Sigma-Square ML"])}
`,n+=`Variable Coefficients:
`,n+=`Variable	Coefficient	Std. Error	t-Statistic	Probability
`;for(let u of i["Variable Coefficients"])n+=`${u.Variable}	${u.Coefficient}	${u["Std Error"]}	${u["t-Statistic"]}	${u.Probability}
`;n+=`

#REGRESSION DIAGNOSTICS*
`,n+=`Multicollinearity Condition Number: ${i["REGRESSION DIAGNOSTICS"]["MULTICOLLINEARITY CONDITION NUMBER"]}
`,n+=`Test on Normality of Errors:
`,n+=`Test	Jarque-Bera DF	Jarque-Bera Value	Jarque-Bera Probability
`;let a=i["REGRESSION DIAGNOSTICS"]["TEST ON NORMALITY OF ERRORS"];n+=`${a.Test}	${a["Jarque-Bera DF"]}	${a["Jarque-Bera Value"]}	${a["Jarque-Bera Probability"]}

`,n+=`DIAGNOSTICS FOR HETEROSKEDASTICITY
`,n+=`Breusch-Pagan Test:
`,n+=`Test	Breusch-Pagan DF	Breusch-Pagan Value	Breusch-Pagan Probability
`;let l=i["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["BREUSCH-PAGAN TEST"];n+=`${l.Test}	${l["Breusch-Pagan DF"]}	${l["Breusch-Pagan Value"]}	${l["Breusch-Pagan Probability"]}
`,n+=`Koenker-Bassett Test:
`,n+=`Test	Koenker-Bassett DF	Koenker-Bassett Value	Koenker-Bassett Probability
`;let c=i["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["KOENKER-Bassett TEST"];if(n+=`${c.Test}	${c["Koenker-Bassett DF"]}	${c["Koenker-Bassett Value"]}	${c["Koenker-Bassett Probability"]}

`,i.weightsId){n+=`DIAGNOSTICS FOR SPATIAL DEPENDENCE
`,n+=`Moran's I (error):
`,n+=`Test	Moran's I (error)	Moran\u2019s I (error) Z	Moran\u2019s I (error) Probability
`;let u=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Moran's I (error)"];n+=`${u.Test}	${u["Moran's I (error)"]}	${u["Moran\u2019s I (error) Z"]}	${u["Moran\u2019s I (error) Probability"]}
`,n+=`Lagrange Multiplier (lag):
`,n+=`Test	Lagrange Multiplier (lag) DF	Lagrange Multiplier (lag) Value	Lagrange Multiplier (lag) Probability
`;let g=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (lag)"];n+=`${g.Test}	${g["Lagrange Multiplier (lag) DF"]}	${g["Lagrange Multiplier (lag) Value"]}	${g["Lagrange Multiplier (lag) Probability"]}
`,n+=`Robust LM (lag):
`,n+=`Test	Robust LM (lag) DF	Robust LM (lag) Value	Robust LM (lag) Probability
`;let b=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (lag)"];n+=`${b.Test}	${b["Robust LM (lag) DF"]}	${b["Robust LM (lag) Value"]}	${b["Robust LM (lag) Probability"]}
`,n+=`Lagrange Multiplier (error):
`,n+=`Test	Lagrange Multiplier (error) DF	Lagrange Multiplier (error) Value	Lagrange Multiplier (error) Probability
`;let T=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (error)"];n+=`${T.Test}	${T["Lagrange Multiplier (error) DF"]}	${T["Lagrange Multiplier (error) Value"]}	${T["Lagrange Multiplier (error) Probability"]}
`,n+=`Robust LM (error):
`,n+=`Test	Robust LM (error) DF	Robust LM (error) Value	Robust LM (error) Probability
`;let d=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (error)"];n+=`${d.Test}	${d["Robust LM (error) DF"]}	${d["Robust LM (error) Value"]}	${d["Robust LM (error) Probability"]}
`,n+=`Lagrange Multiplier (SARMA):
`,n+=`Test	Lagrange Multiplier (SARMA) DF	Lagrange Multiplier (SARMA) Value	Lagrange Multiplier (SARMA) Probability
`;let f=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (SARMA)"];n+=`${f.Test}	${f["Lagrange Multiplier (SARMA) DF"]}	${f["Lagrange Multiplier (SARMA) Value"]}	${f["Lagrange Multiplier (SARMA) Probability"]}
`,n+=`Based on the spatial diagnostics, the recommended model is: ${st(i)}
`}return n}function E(i){let n=i.toString();return n.includes(".")&&n.split(".")[1].length>4?i.toFixed(4):i.toString()}function Ce(i){let n="";n+=`Variable Coefficients: 

`,n+=`| Variable&nbsp;&nbsp; | Coefficient&nbsp;&nbsp; | Std. Error&nbsp;&nbsp; | t-Statistic | Probability |
`,n+=`|---------|-------------|------------|-------------|-------------|
`;for(let a of i["Variable Coefficients"])n+=`${a.Variable} | ${E(a.Coefficient)} | ${E(a["Std Error"])} | ${E(a["t-Statistic"])} | ${E(a.Probability)}
`;return n}function Xi(i){let n="";n+=`Dataset: ${i.datasetName}
`,n+=`${i.weightsId?`Weights: ${i.weightsId}
`:""}`,n+=`|  |  |  |  |
`,n+=`|---|---|---|---|
`,n+=`|Dependent Variable |${i.dependentVariable}| No. Observations |${E(i["Number of Observations"])}|
`,n+=`|Mean Dependent Var | ${E(i["Mean Dependent Var"])}| Number of Variables | ${i["Number of Variables"]} |
`,n+=`|S.D. dependent var| ${E(i["SD Dependent Var"])}| Degrees of Freedom | ${i["Degrees of Freedom"]} |
`,n+=`&nbsp;  
`,n+=`|  |  |  |  |
`,n+=`|R-squared| ${E(i["R-squared"])}| F-statistic | ${E(i["F-statistic"])}|
`,n+=`|Adj. R-squared| ${E(i["Adjusted R-squared"])}| Prob(F-statistic)| ${E(i["Prob(F-statistic)"])}|
`,n+=`|Sum squared residual| ${E(i["Sum Squared Residual"])}|Log-Likelihood| ${E(i["Log Likelihood"])}|
`,n+=`|Sigma-square| ${E(i["Sigma-Square"])}|AIC| ${E(i["Akaike Info Criterion"])}|
`,n+=`|S.E. of regression| ${E(i["SE of Regression"])}|Schwarz Criterion| ${E(i["Schwarz Criterion"])}|
`,n+=`|Sigma-square ML| ${E(Math.sqrt(i["Sigma-Square ML"]))}|||
`,n+=`|S.E. of regression ML| ${E(Math.sqrt(i["Sigma-Square ML"]))}|||
`,n+=`&nbsp;  
`,n+=Ce(i),n+=`&nbsp;  
`,n+=`
REGRESSION DIAGNOSTICS
`,n+=`&nbsp;  
`,n+=`&nbsp;  
`,n+=`Multicollinearity Condition Number: ${E(i["REGRESSION DIAGNOSTICS"]["MULTICOLLINEARITY CONDITION NUMBER"])}

`,n+=`Test on Normality of Errors:

`,n+=`Test&nbsp;&nbsp; | DF&nbsp;&nbsp; | Value | Probability
`,n+=`-----|----------------|-------------------| -----------------------:
`;let a=i["REGRESSION DIAGNOSTICS"]["TEST ON NORMALITY OF ERRORS"];n+=`${a.Test} | ${E(a["Jarque-Bera DF"])} | ${E(a["Jarque-Bera Value"])} | ${E(a["Jarque-Bera Probability"])}

`,n+=`&nbsp;  
`,n+=`&nbsp;  
`,n+="DIAGNOSTICS FOR HETEROSKEDASTICITY",n+=`&nbsp;  
`,n+=`RANDOM COEFFICIENTS

`,n+=`| Test | DF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability|
`,n+=`|------|----|-------|------------|
`;let l=i["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["BREUSCH-PAGAN TEST"];n+=`|${l.Test}| ${E(l["Breusch-Pagan DF"])} | ${E(l["Breusch-Pagan Value"])} | ${E(l["Breusch-Pagan Probability"])}|
`;let c=i["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["KOENKER-Bassett TEST"];if(n+=`|${c.Test}| ${E(c["Koenker-Bassett DF"])} | ${E(c["Koenker-Bassett Value"])} | ${E(c["Koenker-Bassett Probability"])} |
`,i.weightsId){n+=`&nbsp;  
`,n+=`&nbsp;  
`,n+=`DIAGNOSTICS FOR SPATIAL DEPENDENCE

`,n+=`Test | MI/DF&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability
`,n+=`-----|-------|-------|------------
`;let u=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Moran's I (error)"];n+=`${u.Test} | ${E(u["Moran's I (error)"])} | ${E(u["Moran\u2019s I (error) Z"])} | ${E(u["Moran\u2019s I (error) Probability"])}
`;let g=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (lag)"];n+=`${g.Test} | ${E(g["Lagrange Multiplier (lag) DF"])} | ${E(g["Lagrange Multiplier (lag) Value"])} | ${E(g["Lagrange Multiplier (lag) Probability"])}
`;let b=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (lag)"];n+=`${b.Test} | ${E(b["Robust LM (lag) DF"])} | ${E(b["Robust LM (lag) Value"])} | ${E(b["Robust LM (lag) Probability"])}
`;let T=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (error)"];n+=`${T.Test} | ${E(T["Lagrange Multiplier (error) DF"])} | ${E(T["Lagrange Multiplier (error) Value"])} | ${E(T["Lagrange Multiplier (error) Probability"])}
`;let d=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (error)"];n+=`${d.Test} | ${E(d["Robust LM (error) DF"])} | ${E(d["Robust LM (error) Value"])} | ${E(d["Robust LM (error) Probability"])}
`;let f=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (SARMA)"];n+=`${f.Test} | ${E(f["Lagrange Multiplier (SARMA) DF"])} | ${E(f["Lagrange Multiplier (SARMA) Value"])} | ${E(f["Lagrange Multiplier (SARMA) Probability"])}
`,n+=`&nbsp;  
`,n+=`&nbsp;  
`,n+=`Based on the spatial diagnostics, the recommended model is: ${st(i)}
`}return n}function st(i){let n="OLS Model";if(i.weightsId){let a=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (lag)"],l=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (error)"];if(a["Lagrange Multiplier (lag) Probability"]<=.05&&l["Lagrange Multiplier (error) Probability"]<=.05){let c=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (lag)"],u=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (error)"];c["Robust LM (lag) Probability"]<=.05&&u["Robust LM (error) Probability"]<=.05?a["Lagrange Multiplier (lag) Probability"]<l["Lagrange Multiplier (error) Probability"]?n="Spatial Lag Model":n="Spatial Error Model":c["Robust LM (lag) Probability"]<=.05?n="Spatial Lag Model":u["Robust LM (error) Probability"]<=.05?n="Spatial Error Model":a["Lagrange Multiplier (lag) Probability"]<l["Lagrange Multiplier (error) Probability"]?n="Spatial Lag Model":n="Spatial Error Model"}else a["Lagrange Multiplier (lag) Probability"]<=.05?n="Spatial Lag Model":l["Lagrange Multiplier (error) Probability"]<=.05?n="Spatial Error Model":n="OLS Model"}return n}async function Ji({x:i,y:n,weightsId:a,weights:l,weightsValues:c,xNames:u,yName:g,datasetName:b,xUndefs:T,yUndefs:d}){let f=await O(),h=new f.VectorDouble;for(let p=0;p<n.length;++p)h.push_back(n[p]);let y=new f.VecVecDouble;for(let p=0;p<i.length;++p){let w=new f.VectorDouble;for(let M=0;M<i[p].length;++M)w.push_back(i[p][M]);y.push_back(w)}let P=new f.VecVecUInt;if(l)for(let p=0;p<l.length;++p){let w=new f.VectorUInt;for(let M=0;M<l[p].length;++M)w.push_back(l[p][M]);P.push_back(w)}let R=new f.VecVecDouble;if(c)for(let p=0;p<c.length;++p){let w=new f.VectorDouble;for(let M=0;M<c[p].length;++M)w.push_back(c[p][M]);R.push_back(w)}let $=new f.VectorString;for(let p=0;p<u.length;++p)$.push_back(u[p]);let G=new f.VectorUInt;if(d)for(let p=0;p<d.length;++p)G.push_back(d[p]);let B=new f.VecVecUInt;if(T)for(let p=0;p<T.length;++p){let w=new f.VectorUInt;for(let M=0;M<T[p].length;++M)w.push_back(T[p][M]);B.push_back(w)}let _=f.spatialLag(h,y,P,R,g,$,b,G,B),H=[];for(let p=0;p<u.length+2;++p)H.push({Variable:_.GetXVarName(p),Coefficient:_.GetCoefficient(p),"Std Error":_.GetStdError(p),"t-Statistic":_.GetZValue(p),Probability:_.GetProbability(p)});return{type:"spatialLag",dependentVariable:g,independentVariables:u,title:"SPATIAL LAG MODEL - MAXIMUM LIKELIHOOD ESTIMATION",datasetName:b,weightsId:a,"Number of Observations":_.GetNoObservation(),"Mean Dependent Var":_.GetMeanY(),"Number of Variables":u.length+1,"SD Dependent Var":_.GetSDevY(),"Degrees of Freedom":_.GetNoObservation()-u.length-1,"Lag coefficient (Rho)":_.GetCoefficient(0),"R-squared":_.GetR2(),"Log Likelihood":_.GetLIK(),"Akaike Info Criterion":_.GetAIC(),"Sigma-Square":_.GetSIQ_SQ(),"Schwarz Criterion":_.GetOLS_SC(),"SE of Regression":Math.sqrt(_.GetSIQ_SQ()),"Variable Coefficients":H,"DIAGNOSTICS FOR HETEROSKEDASTICITY":{"BREUSCH-PAGAN TEST":{Test:"Breusch-Pagan test","Breusch-Pagan DF":_.GetBPtest(0),"Breusch-Pagan Value":_.GetBPtest(1),"Breusch-Pagan Probability":_.GetBPtest(2)}},"DIAGNOSTICS FOR SPATIAL DEPENDENCE":{"LIKELIHOOD RATIO TEST":{Test:"Likelihood Ratio Test","Likelihood Ratio DF":_.GetLRTestValue(0),"Likelihood Ratio Value":_.GetLRTestValue(1),"Likelihood Ratio Probability":_.GetLRTestValue(2)}}}}function Qi(i){let n="";n+=`Dataset: ${i.datasetName}
`,n+=`${i.weightsId?`Weights: ${i.weightsId}
`:""}`,n+=`|  |  |  |  |
`,n+=`|---|---|---|---|
`,n+=`|Dependent Variable |${i.dependentVariable}| No. Observations |${E(i["Number of Observations"])}|
`,n+=`|Mean Dependent Var | ${E(i["Mean Dependent Var"])}| Number of Variables | ${i["Number of Variables"]} |
`,n+=`|S.D. dependent var| ${E(i["SD Dependent Var"])}| Degrees of Freedom | ${i["Degrees of Freedom"]} |
`,n+=`|Lag coefficient (Rho) | ${E(i["Lag coefficient (Rho)"])} |||
`,n+=`&nbsp;  
`,n+=`|  |  |  |  |
`,n+=`|R-squared | ${E(i["R-squared"])} | Log Likelihood | ${E(i["Log Likelihood"])} |
`,n+=`|Sq. Correlation|-|Akaike Info Criterion|${E(i["Akaike Info Criterion"])}|
`,n+=`|Sigma-Square|${E(i["Sigma-Square"])}| Schwarz Criterion | ${E(i["Schwarz Criterion"])} |
`,n+=`|SE of Regression|${E(i["SE of Regression"])}|||
`,n+=`&nbsp;  
`,n+=Ce(i),n+=`&nbsp;  
`,n+=`&nbsp;  
`,n+=`REGRESSION DIAGNOSTICS
`,n+=`DIAGNOSTICS FOR HETEROSKEDASTICITY
`,n+=`RANDOM COEFFICIENTS
`,n+=`| Test | DF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability|
`,n+=`|------|----|-------|------------|
`;let a=i["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["BREUSCH-PAGAN TEST"];n+=`|${a.Test}| ${E(a["Breusch-Pagan DF"])} | ${E(a["Breusch-Pagan Value"])} | ${E(a["Breusch-Pagan Probability"])}|
`,n+=`&nbsp;  
`,n+=`&nbsp;  
`,n+=`DIAGNOSTICS FOR SPATIAL DEPENDENCE
`,n+=`SPATIAL LAG DEPENDENCE FOR WEIGHT MATRIX
`,n+=`| Test | DF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability|
`,n+=`|------|----|-------|------------|
`;let l=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["LIKELIHOOD RATIO TEST"];return n+=`|${l.Test}| ${E(l["Likelihood Ratio DF"])} | ${E(l["Likelihood Ratio Value"])} | ${E(l["Likelihood Ratio Probability"])}|
`,n}async function Zi({x:i,y:n,weightsId:a,weights:l,weightsValues:c,xNames:u,yName:g,datasetName:b,xUndefs:T,yUndefs:d}){let f=await O(),h=new f.VectorDouble;for(let p=0;p<n.length;++p)h.push_back(n[p]);let y=new f.VecVecDouble;for(let p=0;p<i.length;++p){let w=new f.VectorDouble;for(let M=0;M<i[p].length;++M)w.push_back(i[p][M]);y.push_back(w)}let P=new f.VecVecUInt;if(l)for(let p=0;p<l.length;++p){let w=new f.VectorUInt;for(let M=0;M<l[p].length;++M)w.push_back(l[p][M]);P.push_back(w)}let R=new f.VecVecDouble;if(c)for(let p=0;p<c.length;++p){let w=new f.VectorDouble;for(let M=0;M<c[p].length;++M)w.push_back(c[p][M]);R.push_back(w)}let $=new f.VectorString;for(let p=0;p<u.length;++p)$.push_back(u[p]);let G=new f.VectorUInt;if(d)for(let p=0;p<d.length;++p)G.push_back(d[p]);let B=new f.VecVecUInt;if(T)for(let p=0;p<T.length;++p){let w=new f.VectorUInt;for(let M=0;M<T[p].length;++M)w.push_back(T[p][M]);B.push_back(w)}let _=f.spatialLag(h,y,P,R,g,$,b,G,B),H=[];for(let p=0;p<u.length+2;++p)H.push({Variable:_.GetXVarName(p),Coefficient:_.GetCoefficient(p),"Std Error":_.GetStdError(p),"t-Statistic":_.GetZValue(p),Probability:_.GetProbability(p)});return{type:"spatialError",dependentVariable:g,independentVariables:u,title:"SPATIAL LAG MODEL - MAXIMUM LIKELIHOOD ESTIMATION",datasetName:b,weightsId:a,"Number of Observations":_.GetNoObservation(),"Mean Dependent Var":_.GetMeanY(),"Number of Variables":u.length+1,"SD Dependent Var":_.GetSDevY(),"Degrees of Freedom":_.GetNoObservation()-u.length,"Lag coefficient (Lambda)":_.GetCoefficient(u.length+1),"R-squared":_.GetR2(),"Log Likelihood":_.GetLIK(),"Akaike Info Criterion":_.GetAIC(),"Sigma-Square":_.GetSIQ_SQ(),"Schwarz Criterion":_.GetOLS_SC(),"SE of Regression":Math.sqrt(_.GetSIQ_SQ()),"Variable Coefficients":H,"DIAGNOSTICS FOR HETEROSKEDASTICITY":{"BREUSCH-PAGAN TEST":{Test:"Breusch-Pagan test","Breusch-Pagan DF":_.GetBPtest(0),"Breusch-Pagan Value":_.GetBPtest(1),"Breusch-Pagan Probability":_.GetBPtest(2)}},"DIAGNOSTICS FOR SPATIAL DEPENDENCE":{"LIKELIHOOD RATIO TEST":{Test:"Likelihood Ratio Test","Likelihood Ratio DF":_.GetLRTestValue(0),"Likelihood Ratio Value":_.GetLRTestValue(1),"Likelihood Ratio Probability":_.GetLRTestValue(2)}}}}function ea(i){let n="";n+=`Dataset: ${i.datasetName}
`,n+=`${i.weightsId?`Weights: ${i.weightsId}
`:""}`,n+=`|  |  |  |  |
`,n+=`|---|---|---|---|
`,n+=`|Dependent Variable |${i.dependentVariable}| No. Observations |${E(i["Number of Observations"])}|
`,n+=`|Mean Dependent Var | ${E(i["Mean Dependent Var"])}| Number of Variables | ${i["Number of Variables"]} |
`,n+=`|S.D. dependent var| ${E(i["SD Dependent Var"])}| Degrees of Freedom | ${i["Degrees of Freedom"]} |
`,n+=`|Lag coefficient (Lambda) | ${E(i["Lag coefficient (Lambda)"])} |||
`,n+=`&nbsp;  
`,n+=`|  |  |  |  |
`,n+=`|R-squared | ${E(i["R-squared"])} | Log Likelihood | ${E(i["Log Likelihood"])} |
`,n+=`|Sq. Correlation|-|Akaike Info Criterion|${E(i["Akaike Info Criterion"])}|
`,n+=`|Sigma-Square|${E(i["Sigma-Square"])}| Schwarz Criterion | ${E(i["Schwarz Criterion"])} |
`,n+=`|SE of Regression|${E(i["SE of Regression"])}|||
`,n+=`&nbsp;  
`,n+=Ce(i),n+=`&nbsp;  
`,n+=`&nbsp;  
`,n+=`REGRESSION DIAGNOSTICS
`,n+=`DIAGNOSTICS FOR HETEROSKEDASTICITY
`,n+=`RANDOM COEFFICIENTS
`,n+=`| Test | DF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability|
`,n+=`|------|----|-------|------------|
`;let a=i["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["BREUSCH-PAGAN TEST"];n+=`|${a.Test}| ${E(a["Breusch-Pagan DF"])} | ${E(a["Breusch-Pagan Value"])} | ${E(a["Breusch-Pagan Probability"])}|
`,n+=`&nbsp;  
`,n+=`&nbsp;  
`,n+=`DIAGNOSTICS FOR SPATIAL DEPENDENCE
`,n+=`SPATIAL ERROR DEPENDENCE FOR WEIGHT MATRIX
`,n+=`| Test | DF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability|
`,n+=`|------|----|-------|------------|
`;let l=i["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["LIKELIHOOD RATIO TEST"];return n+=`|${l.Test}| ${E(l["Likelihood Ratio DF"])} | ${E(l["Likelihood Ratio Value"])} | ${E(l["Likelihood Ratio Probability"])}|
`,n}export{Ui as RatesOptions,Oa as bivariateLocalMoran,Za as calculateRates,at as createGeoDaPointsFromBinaryFeatures,Wi as empiricalBayes,fo as equalIntervalBreaks,xi as excessRisk,Aa as getContiguityNeighborsFromBinaryGeometries,ha as getDistanceNeighborsFromBinaryGeometries,ya as getDistanceThresholds,ki as getGeoDa,Ma as getMetaFromWeights,Ia as getNearestNeighborsFromBinaryGeometries,So as hinge15Breaks,_o as hinge30Breaks,O as initGeoDa,zi as linearRegression,Ba as localG,Wa as localGeary,Va as localMoran,qa as multivariateLocalGeary,so as naturalBreaks,po as percentileBreaks,Ki as printLinearRegressionResult,Xi as printLinearRegressionResultUsingMarkdown,ea as printSpatialErrorResultUsingMarkdown,Qi as printSpatialLagResultUsingMarkdown,no as quantileBreaks,Ka as quantileLisa,Yi as rateStandardizeEB,ji as rawRates,Oi as resetGeoDa,Fi as setGeoDa,qi as spatialEmpiricalBayes,Zi as spatialError,Ji as spatialLag,Ja as spatialLagMedian,Hi as spatialRates,Po as standardDeviationBreaks};
//# sourceMappingURL=index.js.map
