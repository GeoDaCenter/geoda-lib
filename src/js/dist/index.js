var Vn=Object.create;var jr=Object.defineProperty;var jn=Object.getOwnPropertyDescriptor;var Bn=Object.getOwnPropertyNames;var Nn=Object.getPrototypeOf,xn=Object.prototype.hasOwnProperty;var Br=(d=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(d,{get:(v,o)=>(typeof require<"u"?require:v)[o]}):d)(function(d){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+d+'" is not supported')});var Gn=(d,v)=>()=>(v||d((v={exports:{}}).exports,v),v.exports);var Hn=(d,v,o,y)=>{if(v&&typeof v=="object"||typeof v=="function")for(let g of Bn(v))!xn.call(d,g)&&g!==o&&jr(d,g,{get:()=>v[g],enumerable:!(y=jn(v,g))||y.enumerable});return d};var Ln=(d,v,o)=>(o=d!=null?Vn(Nn(d)):{},Hn(v||!d||!d.__esModule?jr(o,"default",{value:d,enumerable:!0}):o,d));var Gr=Gn((xr,er)=>{"use strict";var Nr=(()=>{var d=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(d||(d=__filename)),function(v={}){var o=v,y,g;o.ready=new Promise((e,r)=>{y=e,g=r});var $=Object.assign({},o),S=[],b="./this.program",_=(e,r)=>{throw r},T=typeof window=="object",A=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",m="";function M(e){return o.locateFile?o.locateFile(e,m):m+e}var W,N,q;if(D){var j=Br("fs"),le=Br("path");A?m=le.dirname(m)+"/":m=__dirname+"/",W=(e,r)=>(e=Ce(e)?new URL(e):le.normalize(e),j.readFileSync(e,r?void 0:"utf8")),q=e=>{var r=W(e,!0);return r.buffer||(r=new Uint8Array(r)),r},N=(e,r,t,n=!0)=>{e=Ce(e)?new URL(e):le.normalize(e),j.readFile(e,n?void 0:"utf8",(i,a)=>{i?t(i):r(n?a.buffer:a)})},!o.thisProgram&&process.argv.length>1&&(b=process.argv[1].replace(/\\/g,"/")),S=process.argv.slice(2),_=(e,r)=>{throw process.exitCode=e,r}}else(T||A)&&(A?m=self.location.href:typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),d&&(m=d),m.startsWith("blob:")?m="":m=m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1),W=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},A&&(q=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),N=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){r(n.response);return}t()},n.onerror=t,n.send(null)});var ue=o.print||console.log.bind(console),ne=o.printErr||console.error.bind(console);Object.assign(o,$),$=null,o.arguments&&(S=o.arguments),o.thisProgram&&(b=o.thisProgram),o.quit&&(_=o.quit);var ce;o.wasmBinary&&(ce=o.wasmBinary),typeof WebAssembly!="object"&&be("no native wasm support detected");var me,rr=!1,zr,G,U,fe,_e,k,F,tr,nr;function ir(){var e=me.buffer;o.HEAP8=G=new Int8Array(e),o.HEAP16=fe=new Int16Array(e),o.HEAPU8=U=new Uint8Array(e),o.HEAPU16=_e=new Uint16Array(e),o.HEAP32=k=new Int32Array(e),o.HEAPU32=F=new Uint32Array(e),o.HEAPF32=tr=new Float32Array(e),o.HEAPF64=nr=new Float64Array(e)}var or=[],ar=[],sr=[],qr=!1;function Xr(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Zr(o.preRun.shift());Ne(or)}function Kr(){qr=!0,Ne(ar)}function Jr(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)et(o.postRun.shift());Ne(sr)}function Zr(e){or.unshift(e)}function Qr(e){ar.unshift(e)}function et(e){sr.unshift(e)}var Q=0,Be=null,ve=null;function rt(e){Q++,o.monitorRunDependencies?.(Q)}function tt(e){if(Q--,o.monitorRunDependencies?.(Q),Q==0&&(Be!==null&&(clearInterval(Be),Be=null),ve)){var r=ve;ve=null,r()}}function be(e){o.onAbort?.(e),e="Aborted("+e+")",ne(e),rr=!0,zr=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw g(r),r}var nt="data:application/octet-stream;base64,",lr=e=>e.startsWith(nt),Ce=e=>e.startsWith("file://"),ie;ie="geoda.wasm",lr(ie)||(ie=M(ie));function ur(e){if(e==ie&&ce)return new Uint8Array(ce);if(q)return q(e);throw"both async and sync fetching of the wasm failed"}function it(e){if(!ce&&(T||A)){if(typeof fetch=="function"&&!Ce(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw`failed to load wasm binary file at '${e}'`;return r.arrayBuffer()}).catch(()=>ur(e));if(N)return new Promise((r,t)=>{N(e,n=>r(new Uint8Array(n)),t)})}return Promise.resolve().then(()=>ur(e))}function cr(e,r,t){return it(e).then(n=>WebAssembly.instantiate(n,r)).then(t,n=>{ne(`failed to asynchronously prepare wasm: ${n}`),be(n)})}function ot(e,r,t,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!lr(r)&&!Ce(r)&&!D&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(i=>{var a=WebAssembly.instantiateStreaming(i,t);return a.then(n,function(l){return ne(`wasm streaming compile failed: ${l}`),ne("falling back to ArrayBuffer instantiation"),cr(r,t,n)})}):cr(r,t,n)}function at(){var e={a:Mn};function r(n,i){return E=n.exports,E=Un(E),me=E.x,ir(),wr=E.z,Qr(E.y),tt("wasm-instantiate"),E}rt("wasm-instantiate");function t(n){r(n.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,r)}catch(n){ne(`Module.instantiateWasm callback failed with error: ${n}`),g(n)}return ot(ce,ie,e,t).catch(g),{}}var Ne=e=>{for(;e.length>0;)e.shift()(o)},ti=o.noExitRuntime||!0,fr=[],we=0,vr=0,st=()=>{var e=fr.pop();e||be("no exception to throw");var r=e.excPtr;throw e.get_rethrown()||(fr.push(e),e.set_rethrown(!0),e.set_caught(!1),vr++),we=r,we};class lt{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){F[this.ptr+4>>>2>>>0]=r}get_type(){return F[this.ptr+4>>>2>>>0]}set_destructor(r){F[this.ptr+8>>>2>>>0]=r}get_destructor(){return F[this.ptr+8>>>2>>>0]}set_caught(r){r=r?1:0,G[this.ptr+12>>>0]=r}get_caught(){return G[this.ptr+12>>>0]!=0}set_rethrown(r){r=r?1:0,G[this.ptr+13>>>0]=r}get_rethrown(){return G[this.ptr+13>>>0]!=0}init(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t)}set_adjusted_ptr(r){F[this.ptr+16>>>2>>>0]=r}get_adjusted_ptr(){return F[this.ptr+16>>>2>>>0]}get_exception_ptr(){var r=Or(this.get_type());if(r)return F[this.excPtr>>>2>>>0];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}function ut(e,r,t){e>>>=0,r>>>=0,t>>>=0;var n=new lt(e);throw n.init(r,t),we=e,vr++,we}function ct(e,r,t,n,i){e>>>=0,r>>>=0,t>>>=0}var ft=()=>{for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);dr=e},dr,B=e=>{for(var r="",t=e;U[t>>>0];)r+=dr[U[t++>>>0]];return r},oe={},ee={},$e={},ae,P=e=>{throw new ae(e)},pr,Pe=e=>{throw new pr(e)},se=(e,r,t)=>{e.forEach(function(s){$e[s]=r});function n(s){var u=t(s);u.length!==e.length&&Pe("Mismatched type converter count");for(var f=0;f<e.length;++f)L(e[f],u[f])}var i=new Array(r.length),a=[],l=0;r.forEach((s,u)=>{ee.hasOwnProperty(s)?i[u]=ee[s]:(a.push(s),oe.hasOwnProperty(s)||(oe[s]=[]),oe[s].push(()=>{i[u]=ee[s],++l,l===a.length&&n(i)}))}),a.length===0&&n(i)};function vt(e,r,t={}){var n=r.name;if(e||P(`type "${n}" must have a positive integer typeid pointer`),ee.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;P(`Cannot register type '${n}' twice`)}if(ee[e]=r,delete $e[e],oe.hasOwnProperty(e)){var i=oe[e];delete oe[e],i.forEach(a=>a())}}function L(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");return vt(e,r,t)}var X=8;function dt(e,r,t,n){e>>>=0,r>>>=0,r=B(r),L(e,{name:r,fromWireType:function(i){return!!i},toWireType:function(i,a){return a?t:n},argPackAdvance:X,readValueFromPointer:function(i){return this.fromWireType(U[i>>>0])},destructorFunction:null})}var pt=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),xe=e=>{function r(t){return t.$$.ptrType.registeredClass.name}P(r(e)+" instance already deleted")},Ge=!1,hr=e=>{},ht=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},gr=e=>{e.count.value-=1;var r=e.count.value===0;r&&ht(e)},yr=(e,r,t)=>{if(r===t)return e;if(t.baseClass===void 0)return null;var n=yr(e,r,t.baseClass);return n===null?null:t.downcast(n)},mr={},gt=()=>Object.keys(he).length,yt=()=>{var e=[];for(var r in he)he.hasOwnProperty(r)&&e.push(he[r]);return e},de=[],He=()=>{for(;de.length;){var e=de.pop();e.$$.deleteScheduled=!1,e.delete()}},pe,mt=e=>{pe=e,de.length&&pe&&pe(He)},_t=()=>{o.getInheritedInstanceCount=gt,o.getLiveInheritedInstances=yt,o.flushPendingDeletes=He,o.setDelayFunction=mt},he={},bt=(e,r)=>{for(r===void 0&&P("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r},Ct=(e,r)=>(r=bt(e,r),he[r]),Te=(e,r)=>{(!r.ptrType||!r.ptr)&&Pe("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,n=!!r.smartPtr;return t!==n&&Pe("Both smartPtrType and smartPtr must be specified"),r.count={value:1},ge(Object.create(e,{$$:{value:r,writable:!0}}))};function wt(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=Ct(this.registeredClass,r);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?Te(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Te(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a=this.registeredClass.getActualType(r),l=mr[a];if(!l)return i.call(this);var s;this.isConst?s=l.constPointerType:s=l.pointerType;var u=yr(r,this.registeredClass,s.registeredClass);return u===null?i.call(this):this.isSmartPointer?Te(s.registeredClass.instancePrototype,{ptrType:s,ptr:u,smartPtrType:this,smartPtr:e}):Te(s.registeredClass.instancePrototype,{ptrType:s,ptr:u})}var ge=e=>typeof FinalizationRegistry>"u"?(ge=r=>r,e):(Ge=new FinalizationRegistry(r=>{gr(r.$$)}),ge=r=>{var t=r.$$,n=!!t.smartPtr;if(n){var i={$$:t};Ge.register(r,i,r)}return r},hr=r=>Ge.unregister(r),ge(e)),$t=()=>{Object.assign(Ae.prototype,{isAliasOf(e){if(!(this instanceof Ae)||!(e instanceof Ae))return!1;var r=this.$$.ptrType.registeredClass,t=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,i=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return r===n&&t===i},clone(){if(this.$$.ptr||xe(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=ge(Object.create(Object.getPrototypeOf(this),{$$:{value:pt(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&P("Object already scheduled for deletion"),hr(this),gr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&P("Object already scheduled for deletion"),de.push(this),de.length===1&&pe&&pe(He),this.$$.deleteScheduled=!0,this}})};function Ae(){}var De=(e,r)=>Object.defineProperty(r,"name",{value:e}),_r=(e,r,t)=>{if(e[r].overloadTable===void 0){var n=e[r];e[r]=function(...i){return e[r].overloadTable.hasOwnProperty(i.length)||P(`Function '${t}' called with an invalid number of arguments (${i.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[i.length].apply(this,i)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}},br=(e,r,t)=>{o.hasOwnProperty(e)?((t===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[t]!==void 0)&&P(`Cannot register public name '${e}' twice`),_r(o,e,e),o.hasOwnProperty(t)&&P(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),o[e].overloadTable[t]=r):(o[e]=r,t!==void 0&&(o[e].numArguments=t))},Pt=48,Tt=57,At=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=Pt&&r<=Tt?`_${e}`:e};function Dt(e,r,t,n,i,a,l,s){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=i,this.getActualType=a,this.upcast=l,this.downcast=s,this.pureVirtualFunctions=[]}var Le=(e,r,t)=>{for(;r!==t;)r.upcast||P(`Expected null or instance of ${t.name}, got an instance of ${r.name}`),e=r.upcast(e),r=r.baseClass;return e};function Ft(e,r){if(r===null)return this.isReference&&P(`null is not a valid ${this.name}`),0;r.$$||P(`Cannot pass "${Xe(r)}" as a ${this.name}`),r.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Le(r.$$.ptr,t,this.registeredClass);return n}function St(e,r){var t;if(r===null)return this.isReference&&P(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,t),t):0;(!r||!r.$$)&&P(`Cannot pass "${Xe(r)}" as a ${this.name}`),r.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&P(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(t=Le(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&P("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:P(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var i=r.clone();t=this.rawShare(t,Ie.toHandle(()=>i.delete())),e!==null&&e.push(this.rawDestructor,t)}break;default:P("Unsupporting sharing policy")}return t}function Mt(e,r){if(r===null)return this.isReference&&P(`null is not a valid ${this.name}`),0;r.$$||P(`Cannot pass "${Xe(r)}" as a ${this.name}`),r.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&P(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Le(r.$$.ptr,t,this.registeredClass);return n}function Fe(e){return this.fromWireType(F[e>>>2>>>0])}var Et=()=>{Object.assign(Se.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:X,readValueFromPointer:Fe,fromWireType:wt})};function Se(e,r,t,n,i,a,l,s,u,f,p){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=i,this.pointeeType=a,this.sharingPolicy=l,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=f,this.rawDestructor=p,!i&&r.baseClass===void 0?n?(this.toWireType=Ft,this.destructorFunction=null):(this.toWireType=Mt,this.destructorFunction=null):this.toWireType=St}var Cr=(e,r,t)=>{o.hasOwnProperty(e)||Pe("Replacing nonexistent public symbol"),o[e].overloadTable!==void 0&&t!==void 0?o[e].overloadTable[t]=r:(o[e]=r,o[e].argCount=t)},It=(e,r,t)=>{var n=o["dynCall_"+e];return n(r,...t)},Me=[],wr,$r=e=>{var r=Me[e];return r||(e>=Me.length&&(Me.length=e+1),Me[e]=r=wr.get(e)),r},Rt=(e,r,t=[])=>{if(e.includes("j"))return It(e,r,t);var n=$r(r)(...t);return n},Wt=(e,r)=>(...t)=>Rt(e,r,t),re=(e,r)=>{e=B(e);function t(){return e.includes("j")?Wt(e,r):$r(r)}var n=t();return typeof n!="function"&&P(`unknown function pointer with signature ${e}: ${r}`),n},kt=(e,r)=>{var t=De(r,function(n){this.name=r,this.message=n;var i=new Error(n).stack;i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Pr,Tr=e=>{var r=kr(e),t=B(r);return Y(r),t},Ee=(e,r)=>{var t=[],n={};function i(a){if(!n[a]&&!ee[a]){if($e[a]){$e[a].forEach(i);return}t.push(a),n[a]=!0}}throw r.forEach(i),new Pr(`${e}: `+t.map(Tr).join([", "]))};function Ot(e,r,t,n,i,a,l,s,u,f,p,C,w){e>>>=0,r>>>=0,t>>>=0,n>>>=0,i>>>=0,a>>>=0,l>>>=0,s>>>=0,u>>>=0,f>>>=0,p>>>=0,C>>>=0,w>>>=0,p=B(p),a=re(i,a),s&&(s=re(l,s)),f&&(f=re(u,f)),w=re(C,w);var I=At(p);br(I,function(){Ee(`Cannot construct ${p} due to unbound types`,[n])}),se([e,r,t],n?[n]:[],O=>{var Oe;O=O[0];var J,H;n?(J=O.registeredClass,H=J.instancePrototype):H=Ae.prototype;var Z=De(p,function(...Qe){if(Object.getPrototypeOf(this)!==c)throw new ae("Use 'new' to construct "+p);if(h.constructor_body===void 0)throw new ae(p+" has no accessible constructor");var Vr=h.constructor_body[Qe.length];if(Vr===void 0)throw new ae(`Tried to invoke ctor of ${p} with invalid number of parameters (${Qe.length}) - expected (${Object.keys(h.constructor_body).toString()}) parameters instead!`);return Vr.apply(this,Qe)}),c=Object.create(H,{constructor:{value:Z}});Z.prototype=c;var h=new Dt(p,Z,c,w,J,a,s,f);h.baseClass&&((Oe=h.baseClass).__derivedClasses??(Oe.__derivedClasses=[]),h.baseClass.__derivedClasses.push(h));var V=new Se(p,h,!0,!1,!1),R=new Se(p+"*",h,!1,!1,!1),te=new Se(p+" const*",h,!1,!0,!1);return mr[e]={pointerType:R,constPointerType:te},Cr(I,Z),[V,R,te]})}var Ye=(e,r)=>{for(var t=[],n=0;n<e;n++)t.push(F[r+n*4>>>2>>>0]);return t},Ut=e=>{for(;e.length;){var r=e.pop(),t=e.pop();t(r)}};function Ar(e){for(var r=1;r<e.length;++r)if(e[r]!==null&&e[r].destructorFunction===void 0)return!0;return!1}function Vt(e,r){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var t=De(e.name||"unknownFunctionName",function(){});t.prototype=e.prototype;var n=new t,i=e.apply(n,r);return i instanceof Object?i:n}function jt(e,r,t,n){for(var i=Ar(e),a=e.length,l="",s="",u=0;u<a-2;++u)l+=(u!==0?", ":"")+"arg"+u,s+=(u!==0?", ":"")+"arg"+u+"Wired";var f=`
        return function (${l}) {
        if (arguments.length !== ${a-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${a-2}');
        }`;i&&(f+=`var destructors = [];
`);var p=i?"destructors":"null",C=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];r&&(f+="var thisWired = classParam['toWireType']("+p+`, this);
`);for(var u=0;u<a-2;++u)f+="var arg"+u+"Wired = argType"+u+"['toWireType']("+p+", arg"+u+`);
`,C.push("argType"+u);if(r&&(s="thisWired"+(s.length>0?", ":"")+s),f+=(t||n?"var rv = ":"")+"invoker(fn"+(s.length>0?", ":"")+s+`);
`,i)f+=`runDestructors(destructors);
`;else for(var u=r?1:2;u<e.length;++u){var w=u===1?"thisWired":"arg"+(u-2)+"Wired";e[u].destructorFunction!==null&&(f+=`${w}_dtor(${w});
`,C.push(`${w}_dtor`))}return t&&(f+=`var ret = retType['fromWireType'](rv);
return ret;
`),f+=`}
`,[C,f]}function ze(e,r,t,n,i,a){var l=r.length;l<2&&P("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=r[1]!==null&&t!==null,u=Ar(r),f=r[0].name!=="void",p=[e,P,n,i,Ut,r[0],r[1]],C=0;C<l-2;++C)p.push(r[C+2]);if(!u)for(var C=s?1:2;C<r.length;++C)r[C].destructorFunction!==null&&p.push(r[C].destructorFunction);let[w,I]=jt(r,s,f,a);w.push(I);var O=Vt(Function,w)(...p);return De(e,O)}var Bt=function(e,r,t,n,i,a){e>>>=0,t>>>=0,n>>>=0,i>>>=0,a>>>=0;var l=Ye(r,t);i=re(n,i),se([],[e],s=>{s=s[0];var u=`constructor ${s.name}`;if(s.registeredClass.constructor_body===void 0&&(s.registeredClass.constructor_body=[]),s.registeredClass.constructor_body[r-1]!==void 0)throw new ae(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${s.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return s.registeredClass.constructor_body[r-1]=()=>{Ee(`Cannot construct ${s.name} due to unbound types`,l)},se([],l,f=>(f.splice(1,0,null),s.registeredClass.constructor_body[r-1]=ze(u,f,null,i,a),[])),[]})},Dr=e=>{e=e.trim();let r=e.indexOf("(");return r!==-1?e.substr(0,r):e},Nt=function(e,r,t,n,i,a,l,s,u){e>>>=0,r>>>=0,n>>>=0,i>>>=0,a>>>=0,l>>>=0;var f=Ye(t,n);r=B(r),r=Dr(r),a=re(i,a),se([],[e],p=>{p=p[0];var C=`${p.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),s&&p.registeredClass.pureVirtualFunctions.push(r);function w(){Ee(`Cannot call ${C} due to unbound types`,f)}var I=p.registeredClass.instancePrototype,O=I[r];return O===void 0||O.overloadTable===void 0&&O.className!==p.name&&O.argCount===t-2?(w.argCount=t-2,w.className=p.name,I[r]=w):(_r(I,r,C),I[r].overloadTable[t-2]=w),se([],f,J=>{var H=ze(C,J,p,a,l,u);return I[r].overloadTable===void 0?(H.argCount=t-2,I[r]=H):I[r].overloadTable[t-2]=H,[]}),[]})},qe=[],K=[];function xt(e){e>>>=0,e>9&&--K[e+1]===0&&(K[e]=void 0,qe.push(e))}var Gt=()=>K.length/2-5-qe.length,Ht=()=>{K.push(0,1,void 0,1,null,1,!0,1,!1,1),o.count_emval_handles=Gt},Ie={toValue:e=>(e||P("Cannot use deleted val. handle = "+e),K[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let r=qe.pop()||K.length;return K[r]=e,K[r+1]=1,r}}}},Lt={name:"emscripten::val",fromWireType:e=>{var r=Ie.toValue(e);return xt(e),r},toWireType:(e,r)=>Ie.toHandle(r),argPackAdvance:X,readValueFromPointer:Fe,destructorFunction:null};function Yt(e){return e>>>=0,L(e,Lt)}var Xe=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},zt=(e,r)=>{switch(r){case 4:return function(t){return this.fromWireType(tr[t>>>2>>>0])};case 8:return function(t){return this.fromWireType(nr[t>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}},qt=function(e,r,t){e>>>=0,r>>>=0,t>>>=0,r=B(r),L(e,{name:r,fromWireType:n=>n,toWireType:(n,i)=>i,argPackAdvance:X,readValueFromPointer:zt(r,t),destructorFunction:null})};function Xt(e,r,t,n,i,a,l){e>>>=0,t>>>=0,n>>>=0,i>>>=0,a>>>=0;var s=Ye(r,t);e=B(e),e=Dr(e),i=re(n,i),br(e,function(){Ee(`Cannot call ${e} due to unbound types`,s)},r-1),se([],s,u=>{var f=[u[0],null].concat(u.slice(1));return Cr(e,ze(e,f,null,i,a,l),r-1),[]})}var Kt=(e,r,t)=>{switch(r){case 1:return t?n=>G[n>>>0]:n=>U[n>>>0];case 2:return t?n=>fe[n>>>1>>>0]:n=>_e[n>>>1>>>0];case 4:return t?n=>k[n>>>2>>>0]:n=>F[n>>>2>>>0];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Jt(e,r,t,n,i){e>>>=0,r>>>=0,t>>>=0,r=B(r),i===-1&&(i=4294967295);var a=p=>p;if(n===0){var l=32-8*t;a=p=>p<<l>>>l}var s=r.includes("unsigned"),u=(p,C)=>{},f;s?f=function(p,C){return u(C,this.name),C>>>0}:f=function(p,C){return u(C,this.name),C},L(e,{name:r,fromWireType:a,toWireType:f,argPackAdvance:X,readValueFromPointer:Kt(r,t,n!==0),destructorFunction:null})}function Zt(e,r,t){e>>>=0,t>>>=0;var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],i=n[r];function a(l){var s=F[l>>>2>>>0],u=F[l+4>>>2>>>0];return new i(G.buffer,u,s)}t=B(t),L(e,{name:t,fromWireType:a,argPackAdvance:X,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})}var Fr=(e,r,t,n)=>{if(t>>>=0,!(n>0))return 0;for(var i=t,a=t+n-1,l=0;l<e.length;++l){var s=e.charCodeAt(l);if(s>=55296&&s<=57343){var u=e.charCodeAt(++l);s=65536+((s&1023)<<10)|u&1023}if(s<=127){if(t>=a)break;r[t++>>>0]=s}else if(s<=2047){if(t+1>=a)break;r[t++>>>0]=192|s>>6,r[t++>>>0]=128|s&63}else if(s<=65535){if(t+2>=a)break;r[t++>>>0]=224|s>>12,r[t++>>>0]=128|s>>6&63,r[t++>>>0]=128|s&63}else{if(t+3>=a)break;r[t++>>>0]=240|s>>18,r[t++>>>0]=128|s>>12&63,r[t++>>>0]=128|s>>6&63,r[t++>>>0]=128|s&63}}return r[t>>>0]=0,t-i},Qt=(e,r,t)=>Fr(e,U,r,t),Sr=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},Mr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Er=(e,r,t)=>{r>>>=0;for(var n=r+t,i=r;e[i]&&!(i>=n);)++i;if(i-r>16&&e.buffer&&Mr)return Mr.decode(e.subarray(r,i));for(var a="";r<i;){var l=e[r++];if(!(l&128)){a+=String.fromCharCode(l);continue}var s=e[r++]&63;if((l&224)==192){a+=String.fromCharCode((l&31)<<6|s);continue}var u=e[r++]&63;if((l&240)==224?l=(l&15)<<12|s<<6|u:l=(l&7)<<18|s<<12|u<<6|e[r++]&63,l<65536)a+=String.fromCharCode(l);else{var f=l-65536;a+=String.fromCharCode(55296|f>>10,56320|f&1023)}}return a},Re=(e,r)=>(e>>>=0,e?Er(U,e,r):"");function en(e,r){e>>>=0,r>>>=0,r=B(r);var t=r==="std::string";L(e,{name:r,fromWireType(n){var i=F[n>>>2>>>0],a=n+4,l;if(t)for(var s=a,u=0;u<=i;++u){var f=a+u;if(u==i||U[f>>>0]==0){var p=f-s,C=Re(s,p);l===void 0?l=C:(l+=String.fromCharCode(0),l+=C),s=f+1}}else{for(var w=new Array(i),u=0;u<i;++u)w[u]=String.fromCharCode(U[a+u>>>0]);l=w.join("")}return Y(n),l},toWireType(n,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var a,l=typeof i=="string";l||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||P("Cannot pass non-string to std::string"),t&&l?a=Sr(i):a=i.length;var s=Ze(4+a+1),u=s+4;if(F[s>>>2>>>0]=a,t&&l)Qt(i,u,a+1);else if(l)for(var f=0;f<a;++f){var p=i.charCodeAt(f);p>255&&(Y(u),P("String has UTF-16 code units that do not fit in 8 bits")),U[u+f>>>0]=p}else for(var f=0;f<a;++f)U[u+f>>>0]=i[f];return n!==null&&n.push(Y,s),s},argPackAdvance:X,readValueFromPointer:Fe,destructorFunction(n){Y(n)}})}var Ir=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,rn=(e,r)=>{for(var t=e,n=t>>1,i=n+r/2;!(n>=i)&&_e[n>>>0];)++n;if(t=n<<1,t-e>32&&Ir)return Ir.decode(U.subarray(e>>>0,t>>>0));for(var a="",l=0;!(l>=r/2);++l){var s=fe[e+l*2>>>1>>>0];if(s==0)break;a+=String.fromCharCode(s)}return a},tn=(e,r,t)=>{if(t??(t=2147483647),t<2)return 0;t-=2;for(var n=r,i=t<e.length*2?t/2:e.length,a=0;a<i;++a){var l=e.charCodeAt(a);fe[r>>>1>>>0]=l,r+=2}return fe[r>>>1>>>0]=0,r-n},nn=e=>e.length*2,on=(e,r)=>{for(var t=0,n="";!(t>=r/4);){var i=k[e+t*4>>>2>>>0];if(i==0)break;if(++t,i>=65536){var a=i-65536;n+=String.fromCharCode(55296|a>>10,56320|a&1023)}else n+=String.fromCharCode(i)}return n},an=(e,r,t)=>{if(r>>>=0,t??(t=2147483647),t<4)return 0;for(var n=r,i=n+t-4,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343){var s=e.charCodeAt(++a);l=65536+((l&1023)<<10)|s&1023}if(k[r>>>2>>>0]=l,r+=4,r+4>i)break}return k[r>>>2>>>0]=0,r-n},sn=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r},ln=function(e,r,t){e>>>=0,r>>>=0,t>>>=0,t=B(t);var n,i,a,l;r===2?(n=rn,i=tn,l=nn,a=s=>_e[s>>>1>>>0]):r===4&&(n=on,i=an,l=sn,a=s=>F[s>>>2>>>0]),L(e,{name:t,fromWireType:s=>{for(var u=F[s>>>2>>>0],f,p=s+4,C=0;C<=u;++C){var w=s+4+C*r;if(C==u||a(w)==0){var I=w-p,O=n(p,I);f===void 0?f=O:(f+=String.fromCharCode(0),f+=O),p=w+r}}return Y(s),f},toWireType:(s,u)=>{typeof u!="string"&&P(`Cannot pass non-string to C++ string type ${t}`);var f=l(u),p=Ze(4+f+r);return F[p>>>2>>>0]=f/r,i(u,p+4,f+r),s!==null&&s.push(Y,p),p},argPackAdvance:X,readValueFromPointer:Fe,destructorFunction(s){Y(s)}})},un=function(e,r){e>>>=0,r>>>=0,r=B(r),L(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})},cn=(e,r)=>{var t=ee[e];return t===void 0&&P(`${r} has unknown type ${Tr(e)}`),t};function fn(e,r){e>>>=0,r>>>=0,e=cn(e,"_emval_take_value");var t=e.readValueFromPointer(r);return Ie.toHandle(t)}var vn=()=>{be("")};function dn(e,r,t){return e>>>=0,r>>>=0,t>>>=0,U.copyWithin(e>>>0,r>>>0,r+t>>>0)}var pn=()=>3221225472,hn=e=>{var r=me.buffer,t=(e-r.byteLength+65535)/65536;try{return me.grow(t),ir(),1}catch{}};function gn(e){e>>>=0;var r=U.length,t=pn();if(e>t)return!1;for(var n=(u,f)=>u+(f-u%f)%f,i=1;i<=4;i*=2){var a=r*(1+.2/i);a=Math.min(a,e+100663296);var l=Math.min(t,n(Math.max(e,a),65536)),s=hn(l);if(s)return!0}return!1}var Ke={},yn=()=>b||"./this.program",ye=()=>{if(!ye.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:yn()};for(var t in Ke)Ke[t]===void 0?delete r[t]:r[t]=Ke[t];var n=[];for(var t in r)n.push(`${t}=${r[t]}`);ye.strings=n}return ye.strings},mn=(e,r)=>{for(var t=0;t<e.length;++t)G[r++>>>0]=e.charCodeAt(t);G[r>>>0]=0},_n=function(e,r){e>>>=0,r>>>=0;var t=0;return ye().forEach((n,i)=>{var a=r+t;F[e+i*4>>>2>>>0]=a,mn(n,a),t+=n.length+1}),0},bn=function(e,r){e>>>=0,r>>>=0;var t=ye();F[e>>>2>>>0]=t.length;var n=0;return t.forEach(i=>n+=i.length+1),F[r>>>2>>>0]=n,0},Cn=[null,[],[]],wn=(e,r)=>{var t=Cn[e];r===0||r===10?((e===1?ue:ne)(Er(t,0)),t.length=0):t.push(r)},Je={varargs:void 0,get(){var e=k[+Je.varargs>>>2>>>0];return Je.varargs+=4,e},getp(){return Je.get()},getStr(e){var r=Re(e);return r}};function $n(e,r,t,n){r>>>=0,t>>>=0,n>>>=0;for(var i=0,a=0;a<t;a++){var l=F[r>>>2>>>0],s=F[r+4>>>2>>>0];r+=8;for(var u=0;u<s;u++)wn(e,U[l+u>>>0]);i+=s}return F[n>>>2>>>0]=i,0}var We=e=>e%4===0&&(e%100!==0||e%400===0),Pn=(e,r)=>{for(var t=0,n=0;n<=r;t+=e[n++]);return t},Rr=[31,29,31,30,31,30,31,31,30,31,30,31],Wr=[31,28,31,30,31,30,31,31,30,31,30,31],Tn=(e,r)=>{for(var t=new Date(e.getTime());r>0;){var n=We(t.getFullYear()),i=t.getMonth(),a=(n?Rr:Wr)[i];if(r>a-t.getDate())r-=a-t.getDate()+1,t.setDate(1),i<11?t.setMonth(i+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+r),t}return t};function An(e,r,t){var n=t>0?t:Sr(e)+1,i=new Array(n),a=Fr(e,i,0,i.length);return r&&(i.length=a),i}var Dn=(e,r)=>{G.set(e,r>>>0)};function Fn(e,r,t,n){e>>>=0,r>>>=0,t>>>=0,n>>>=0;var i=F[n+40>>>2>>>0],a={tm_sec:k[n>>>2>>>0],tm_min:k[n+4>>>2>>>0],tm_hour:k[n+8>>>2>>>0],tm_mday:k[n+12>>>2>>>0],tm_mon:k[n+16>>>2>>>0],tm_year:k[n+20>>>2>>>0],tm_wday:k[n+24>>>2>>>0],tm_yday:k[n+28>>>2>>>0],tm_isdst:k[n+32>>>2>>>0],tm_gmtoff:k[n+36>>>2>>>0],tm_zone:i?Re(i):""},l=Re(t),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)l=l.replace(new RegExp(u,"g"),s[u]);var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"];function C(c,h,V){for(var R=typeof c=="number"?c.toString():c||"";R.length<h;)R=V[0]+R;return R}function w(c,h){return C(c,h,"0")}function I(c,h){function V(te){return te<0?-1:te>0?1:0}var R;return(R=V(c.getFullYear()-h.getFullYear()))===0&&(R=V(c.getMonth()-h.getMonth()))===0&&(R=V(c.getDate()-h.getDate())),R}function O(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function J(c){var h=Tn(new Date(c.tm_year+1900,0,1),c.tm_yday),V=new Date(h.getFullYear(),0,4),R=new Date(h.getFullYear()+1,0,4),te=O(V),Oe=O(R);return I(te,h)<=0?I(Oe,h)<=0?h.getFullYear()+1:h.getFullYear():h.getFullYear()-1}var H={"%a":c=>f[c.tm_wday].substring(0,3),"%A":c=>f[c.tm_wday],"%b":c=>p[c.tm_mon].substring(0,3),"%B":c=>p[c.tm_mon],"%C":c=>{var h=c.tm_year+1900;return w(h/100|0,2)},"%d":c=>w(c.tm_mday,2),"%e":c=>C(c.tm_mday,2," "),"%g":c=>J(c).toString().substring(2),"%G":J,"%H":c=>w(c.tm_hour,2),"%I":c=>{var h=c.tm_hour;return h==0?h=12:h>12&&(h-=12),w(h,2)},"%j":c=>w(c.tm_mday+Pn(We(c.tm_year+1900)?Rr:Wr,c.tm_mon-1),3),"%m":c=>w(c.tm_mon+1,2),"%M":c=>w(c.tm_min,2),"%n":()=>`
`,"%p":c=>c.tm_hour>=0&&c.tm_hour<12?"AM":"PM","%S":c=>w(c.tm_sec,2),"%t":()=>"	","%u":c=>c.tm_wday||7,"%U":c=>{var h=c.tm_yday+7-c.tm_wday;return w(Math.floor(h/7),2)},"%V":c=>{var h=Math.floor((c.tm_yday+7-(c.tm_wday+6)%7)/7);if((c.tm_wday+371-c.tm_yday-2)%7<=2&&h++,h){if(h==53){var R=(c.tm_wday+371-c.tm_yday)%7;R!=4&&(R!=3||!We(c.tm_year))&&(h=1)}}else{h=52;var V=(c.tm_wday+7-c.tm_yday-1)%7;(V==4||V==5&&We(c.tm_year%400-1))&&h++}return w(h,2)},"%w":c=>c.tm_wday,"%W":c=>{var h=c.tm_yday+7-(c.tm_wday+6)%7;return w(Math.floor(h/7),2)},"%y":c=>(c.tm_year+1900).toString().substring(2),"%Y":c=>c.tm_year+1900,"%z":c=>{var h=c.tm_gmtoff,V=h>=0;return h=Math.abs(h)/60,h=h/60*100+h%60,(V?"+":"-")+("0000"+h).slice(-4)},"%Z":c=>c.tm_zone,"%%":()=>"%"};l=l.replace(/%%/g,"\0\0");for(var u in H)l.includes(u)&&(l=l.replace(new RegExp(u,"g"),H[u](a)));l=l.replace(/\0\0/g,"%");var Z=An(l,!1);return Z.length>r?0:(Dn(Z,e),Z.length-1)}function Sn(e,r,t,n,i){return e>>>=0,r>>>=0,t>>>=0,n>>>=0,i>>>=0,Fn(e,r,t,n)}ft(),ae=o.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},pr=o.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},$t(),_t(),Et(),Pr=o.UnboundTypeError=kt(Error,"UnboundTypeError"),Ht();var Mn={i:st,h:ut,q:ct,o:dt,c:Ot,d:Bt,a:Nt,w:Yt,n:qt,e:Xt,f:Jt,b:Zt,m:en,j:ln,p:un,g:fn,k:vn,v:dn,u:gn,s:_n,t:bn,l:$n,r:Sn},E=at(),En=()=>(En=E.y)(),Ze=e=>(Ze=E.A)(e),Y=e=>(Y=E.B)(e),kr=e=>(kr=E.C)(e),Or=e=>(Or=E.D)(e),In=o.dynCall_jiji=(e,r,t,n,i)=>(In=o.dynCall_jiji=E.E)(e,r,t,n,i),Rn=o.dynCall_viijii=(e,r,t,n,i,a,l)=>(Rn=o.dynCall_viijii=E.F)(e,r,t,n,i,a,l),Wn=o.dynCall_iiiiij=(e,r,t,n,i,a,l)=>(Wn=o.dynCall_iiiiij=E.G)(e,r,t,n,i,a,l),kn=o.dynCall_iiiiijj=(e,r,t,n,i,a,l,s,u)=>(kn=o.dynCall_iiiiijj=E.H)(e,r,t,n,i,a,l,s,u),On=o.dynCall_iiiiiijj=(e,r,t,n,i,a,l,s,u,f)=>(On=o.dynCall_iiiiiijj=E.I)(e,r,t,n,i,a,l,s,u,f);function Un(e){e=Object.assign({},e);var r=n=>i=>n(i)>>>0,t=n=>()=>n()>>>0;return e.A=r(e.A),e.C=r(e.C),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}var ke;ve=function e(){ke||Ur(),ke||(ve=e)};function Ur(){if(Q>0||(Xr(),Q>0))return;function e(){ke||(ke=!0,o.calledRun=!0,!rr&&(Kr(),y(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Jr()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Ur(),v.ready}})();typeof xr=="object"&&typeof er=="object"?er.exports=Nr:typeof define=="function"&&define.amd&&define([],()=>Nr)});var Hr=Ln(Gr(),1),Lr=Hr.default,Ue=null;async function x(){return Ue===null&&(Ue=Lr()),Ue}function Yn(){Ue=null,Ve=null,Lr().then(d=>{Ve=d})}var Ve=null;function zn(d){Ve=d}function qn(){return Ve}async function je(d,v,o){if(!o)return null;if(d.point){let y=v.map(g=>g.points);return Yr(y,o)}else if(d.line){let y=v.map(g=>g.lines);return Xn(y,o)}else if(d.polygon){let y=v.map(g=>g.polygons);return Kn(y,o)}return null}function Yr(d,v){let o=new v.VectorDouble,y=new v.VectorDouble,g=new v.VectorUInt,$=new v.VectorUInt,S=!1;for(let _=0;_<d.length;_++){let T=d[_];if(T){let A=T.positions.value;for(let m=0;m<A.length;m+=2)o.push_back(A[m]),y.push_back(A[m+1]);let D=0;for(let m=0;m<T.featureIds.value.length;m++)(m===0||T.featureIds.value[m]!==T.featureIds.value[m-1])&&g.push_back(D),D++;for(let m=1;m<g.size();m++)$.push_back(g.get(m)-g.get(m-1));g.size()>0&&$.push_back(D-g.get(g.size()-1))}}return new v.PointCollection(o,y,g,$,S)}function Xn(d,v){let o=new v.VectorDouble,y=new v.VectorDouble,g=new v.VectorUInt,$=new v.VectorUInt,S=!1;for(let _=0;_<d.length;_++){let T=d[_];if(T){let A=T.positions.value,D=T.pathIndices.value;for(let M=0;M<A.length;M+=2)o.push_back(A[M]),y.push_back(A[M+1]);let m=0;for(let M=0;M<D.length-1;M++){let W=D[M];g.push_back(W),M>0&&T.featureIds.value[W]!==T.featureIds.value[W-1]&&($.push_back(m),m=0),m+=1}$.push_back(m)}}return new v.LineCollection(o,y,g,$,S)}function Kn(d,v){let o=new v.VectorDouble,y=new v.VectorDouble,g=new v.VectorUInt,$=new v.VectorUInt,S=new v.VectorUInt,b=!0,_=!1;for(let A=0;A<d.length;A++){let D=d[A];if(D){let m=D.positions.value,M=D.polygonIndices.value,W=D.primitivePolygonIndices.value;for(let j=0;j<m.length;j+=2)o.push_back(m[j]),y.push_back(m[j+1]);let N=0,q=0;for(let j=0;j<M.length-1;j++){let le=M[j],ue=M[j+1];for(;W[N]<ue;)W[N]>le?$.push_back(1):$.push_back(0),g.push_back(W[N]),N++,q+=1;D.featureIds.value[ue]!==D.featureIds.value[ue-1]&&(S.push_back(q),q=0)}}}return new v.PolygonCollection(o,y,g,$,S,b,_)}async function Jn({k:d,binaryGeometryType:v,binaryGeometries:o}){if(!o||o.length===0)return[];let y=[],g=await x(),$=await je(v,o,g);if($){let S=g.getNearestNeighbors($,d);for(let b=0;b<S.size();++b){let _=S.get(b),T=Array(_.size());for(let A=0,D=_.size();A<D;++A)T[A]=_.get(A);y[b]=T}}return y}async function Zn({binaryGeometryType:d,binaryGeometries:v,isQueen:o,useCentroids:y,precisionThreshold:g=0,orderOfContiguity:$=1,includeLowerOrder:S=!1}){if(!v||v.length===0)return[];let b=[],_=await x(),T=await je(d,v,_);if(T){let A=y||d.point||d.line?_.getPointContiguityWeights(T,o,g,$,S):_.getPolygonContiguityWeights(T,o,g,$,S);for(let D=0;D<A.size();++D){let m=A.get(D),M=Array(m.size());for(let W=0,N=m.size();W<N;++W)M[W]=m.get(W);b[D]=M}}return b}function gi(d){let v=d.length,o=Math.min(...d.map(_=>_.length)),y=Math.max(...d.map(_=>_.length)),g=d.reduce((_,T)=>_+T.length,0)/v,$=d.map(_=>_.length).sort((_,T)=>_-T)[Math.floor(v/2)],b=d.reduce((_,T)=>_+T.length,0)/(v*v);return{numberOfObservations:v,minNeighbors:o,maxNeighbors:y,meanNeighbors:g,medianNeighbors:$,pctNoneZero:b}}function z(d){let v=[],o=d.size();for(let y=0;y<o;++y)v.push(d.get(y));return v}async function Qn(d,v,o){let y=await x(),g=d.length,$=new y.VectorDouble;$.resize(g,0);for(let _=0;_<g;++_)$.set(_,d[_]);let S=new y.VecVecUInt;for(let _=0;_<g;++_){let T=v[_],A=new y.VectorUInt;for(let D=0,m=T.length;D<m;++D)A.push_back(T[D]);S.push_back(A)}let b=y.localMoran($,S,o);return{isValid:b.isValid(),clusters:z(b.getClusters()),lagValues:z(b.getLagValues()),lisaValues:z(b.getLisaValues()),pValues:z(b.getPValues())}}async function ei(d,v){let o=await x(),y=v.length,g=new o.VectorInt;g.resize(y,0);let $=new o.VectorDouble;$.resize(y,0);for(let b=0;b<y;++b)$.set(b,v[b]),(v[b]===void 0||v[b]===null)&&g.set(b,1);let S=o.quantileBreaks(d,$,g);return z(S)}async function ri(d,v){let o=await x(),y=v.length,g=new o.VectorInt;g.resize(y,0);let $=new o.VectorDouble;$.resize(y,0);for(let b=0;b<y;++b)$.set(b,v[b]),(v[b]===void 0||v[b]===null)&&g.set(b,1);let S=o.naturalBreaks(d,$,g);return z(S)}export{Yr as createGeoDaPointsFromBinaryFeatures,Zn as getContiguityNeighborsFromBinaryGeometries,qn as getGeoDa,gi as getMetaFromWeights,Jn as getNearestNeighborsFromBinaryGeometries,x as initGeoDa,Qn as localMoran,ri as naturalBreaks,ei as quantileBreaks,Yn as resetGeoDa,zn as setGeoDa};
//# sourceMappingURL=index.js.map
