var Rn=Object.create;var Ur=Object.defineProperty;var Wn=Object.getOwnPropertyDescriptor;var kn=Object.getOwnPropertyNames;var On=Object.getPrototypeOf,Un=Object.prototype.hasOwnProperty;var Vr=(d=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(d,{get:(v,o)=>(typeof require<"u"?require:v)[o]}):d)(function(d){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+d+'" is not supported')});var Vn=(d,v)=>()=>(v||d((v={exports:{}}).exports,v),v.exports);var Bn=(d,v,o,m)=>{if(v&&typeof v=="object"||typeof v=="function")for(let g of kn(v))!Un.call(d,g)&&g!==o&&Ur(d,g,{get:()=>v[g],enumerable:!(m=Wn(v,g))||m.enumerable});return d};var jn=(d,v,o)=>(o=d!=null?Rn(On(d)):{},Bn(v||!d||!d.__esModule?Ur(o,"default",{value:d,enumerable:!0}):o,d));var xr=Vn((jr,Qe)=>{"use strict";var Br=(()=>{var d=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(d||(d=__filename)),function(v={}){var o=v,m,g;o.ready=new Promise((e,r)=>{m=e,g=r});var C=Object.assign({},o),F=[],_="./this.program",b=(e,r)=>{throw r},T=typeof window=="object",A=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",y="";function M(e){return o.locateFile?o.locateFile(e,y):y+e}var R,x,q;if(D){var B=Vr("fs"),se=Vr("path");A?y=se.dirname(y)+"/":y=__dirname+"/",R=(e,r)=>(e=we(e)?new URL(e):se.normalize(e),B.readFileSync(e,r?void 0:"utf8")),q=e=>{var r=R(e,!0);return r.buffer||(r=new Uint8Array(r)),r},x=(e,r,t,n=!0)=>{e=we(e)?new URL(e):se.normalize(e),B.readFile(e,n?void 0:"utf8",(i,a)=>{i?t(i):r(n?a.buffer:a)})},!o.thisProgram&&process.argv.length>1&&(_=process.argv[1].replace(/\\/g,"/")),F=process.argv.slice(2),b=(e,r)=>{throw process.exitCode=e,r}}else(T||A)&&(A?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),d&&(y=d),y.startsWith("blob:")?y="":y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1),R=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},A&&(q=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),x=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){r(n.response);return}t()},n.onerror=t,n.send(null)});var me=o.print||console.log.bind(console),ue=o.printErr||console.error.bind(console);Object.assign(o,C),C=null,o.arguments&&(F=o.arguments),o.thisProgram&&(_=o.thisProgram),o.quit&&(b=o.quit);var le;o.wasmBinary&&(le=o.wasmBinary),typeof WebAssembly!="object"&&_e("no native wasm support detected");var ye,er=!1,Lr,G,U,ce,be,O,S,rr,tr;function nr(){var e=ye.buffer;o.HEAP8=G=new Int8Array(e),o.HEAP16=ce=new Int16Array(e),o.HEAPU8=U=new Uint8Array(e),o.HEAPU16=be=new Uint16Array(e),o.HEAP32=O=new Int32Array(e),o.HEAPU32=S=new Uint32Array(e),o.HEAPF32=rr=new Float32Array(e),o.HEAPF64=tr=new Float64Array(e)}var ir=[],or=[],ar=[],Yr=!1;function zr(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Kr(o.preRun.shift());je(ir)}function qr(){Yr=!0,je(or)}function Xr(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)Zr(o.postRun.shift());je(ar)}function Kr(e){ir.unshift(e)}function Jr(e){or.unshift(e)}function Zr(e){ar.unshift(e)}var Q=0,Be=null,fe=null;function Qr(e){Q++,o.monitorRunDependencies?.(Q)}function et(e){if(Q--,o.monitorRunDependencies?.(Q),Q==0&&(Be!==null&&(clearInterval(Be),Be=null),fe)){var r=fe;fe=null,r()}}function _e(e){o.onAbort?.(e),e="Aborted("+e+")",ue(e),er=!0,Lr=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw g(r),r}var rt="data:application/octet-stream;base64,",sr=e=>e.startsWith(rt),we=e=>e.startsWith("file://"),ne;ne="geoda.wasm",sr(ne)||(ne=M(ne));function ur(e){if(e==ne&&le)return new Uint8Array(le);if(q)return q(e);throw"both async and sync fetching of the wasm failed"}function tt(e){if(!le&&(T||A)){if(typeof fetch=="function"&&!we(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw`failed to load wasm binary file at '${e}'`;return r.arrayBuffer()}).catch(()=>ur(e));if(x)return new Promise((r,t)=>{x(e,n=>r(new Uint8Array(n)),t)})}return Promise.resolve().then(()=>ur(e))}function lr(e,r,t){return tt(e).then(n=>WebAssembly.instantiate(n,r)).then(t,n=>{ue(`failed to asynchronously prepare wasm: ${n}`),_e(n)})}function nt(e,r,t,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!sr(r)&&!we(r)&&!D&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(i=>{var a=WebAssembly.instantiateStreaming(i,t);return a.then(n,function(u){return ue(`wasm streaming compile failed: ${u}`),ue("falling back to ArrayBuffer instantiation"),lr(r,t,n)})}):lr(r,t,n)}function it(){var e={a:An};function r(n,i){return W=n.exports,W=In(W),ye=W.w,nr(),wr=W.y,Jr(W.x),et("wasm-instantiate"),W}Qr("wasm-instantiate");function t(n){r(n.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,r)}catch(n){ue(`Module.instantiateWasm callback failed with error: ${n}`),g(n)}return nt(le,ne,e,t).catch(g),{}}var je=e=>{for(;e.length>0;)e.shift()(o)},Jn=o.noExitRuntime||!0,cr=[],$e=0,fr=0,ot=()=>{var e=cr.pop();e||_e("no exception to throw");var r=e.excPtr;throw e.get_rethrown()||(cr.push(e),e.set_rethrown(!0),e.set_caught(!1),fr++),$e=r,$e};class at{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){S[this.ptr+4>>>2>>>0]=r}get_type(){return S[this.ptr+4>>>2>>>0]}set_destructor(r){S[this.ptr+8>>>2>>>0]=r}get_destructor(){return S[this.ptr+8>>>2>>>0]}set_caught(r){r=r?1:0,G[this.ptr+12>>>0]=r}get_caught(){return G[this.ptr+12>>>0]!=0}set_rethrown(r){r=r?1:0,G[this.ptr+13>>>0]=r}get_rethrown(){return G[this.ptr+13>>>0]!=0}init(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t)}set_adjusted_ptr(r){S[this.ptr+16>>>2>>>0]=r}get_adjusted_ptr(){return S[this.ptr+16>>>2>>>0]}get_exception_ptr(){var r=Wr(this.get_type());if(r)return S[this.excPtr>>>2>>>0];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}function st(e,r,t){e>>>=0,r>>>=0,t>>>=0;var n=new at(e);throw n.init(r,t),$e=e,fr++,$e}function ut(e,r,t,n,i){e>>>=0,r>>>=0,t>>>=0}var lt=()=>{for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);vr=e},vr,j=e=>{for(var r="",t=e;U[t>>>0];)r+=vr[U[t++>>>0]];return r},ie={},ee={},Ce={},oe,P=e=>{throw new oe(e)},dr,Pe=e=>{throw new dr(e)},ae=(e,r,t)=>{e.forEach(function(s){Ce[s]=r});function n(s){var l=t(s);l.length!==e.length&&Pe("Mismatched type converter count");for(var f=0;f<e.length;++f)L(e[f],l[f])}var i=new Array(r.length),a=[],u=0;r.forEach((s,l)=>{ee.hasOwnProperty(s)?i[l]=ee[s]:(a.push(s),ie.hasOwnProperty(s)||(ie[s]=[]),ie[s].push(()=>{i[l]=ee[s],++u,u===a.length&&n(i)}))}),a.length===0&&n(i)};function ct(e,r,t={}){var n=r.name;if(e||P(`type "${n}" must have a positive integer typeid pointer`),ee.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;P(`Cannot register type '${n}' twice`)}if(ee[e]=r,delete Ce[e],ie.hasOwnProperty(e)){var i=ie[e];delete ie[e],i.forEach(a=>a())}}function L(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");return ct(e,r,t)}var X=8;function ft(e,r,t,n){e>>>=0,r>>>=0,r=j(r),L(e,{name:r,fromWireType:function(i){return!!i},toWireType:function(i,a){return a?t:n},argPackAdvance:X,readValueFromPointer:function(i){return this.fromWireType(U[i>>>0])},destructorFunction:null})}var vt=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),xe=e=>{function r(t){return t.$$.ptrType.registeredClass.name}P(r(e)+" instance already deleted")},Ne=!1,pr=e=>{},dt=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},hr=e=>{e.count.value-=1;var r=e.count.value===0;r&&dt(e)},gr=(e,r,t)=>{if(r===t)return e;if(t.baseClass===void 0)return null;var n=gr(e,r,t.baseClass);return n===null?null:t.downcast(n)},mr={},pt=()=>Object.keys(pe).length,ht=()=>{var e=[];for(var r in pe)pe.hasOwnProperty(r)&&e.push(pe[r]);return e},ve=[],Ge=()=>{for(;ve.length;){var e=ve.pop();e.$$.deleteScheduled=!1,e.delete()}},de,gt=e=>{de=e,ve.length&&de&&de(Ge)},mt=()=>{o.getInheritedInstanceCount=pt,o.getLiveInheritedInstances=ht,o.flushPendingDeletes=Ge,o.setDelayFunction=gt},pe={},yt=(e,r)=>{for(r===void 0&&P("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r},bt=(e,r)=>(r=yt(e,r),pe[r]),Te=(e,r)=>{(!r.ptrType||!r.ptr)&&Pe("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,n=!!r.smartPtr;return t!==n&&Pe("Both smartPtrType and smartPtr must be specified"),r.count={value:1},he(Object.create(e,{$$:{value:r,writable:!0}}))};function _t(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=bt(this.registeredClass,r);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?Te(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Te(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a=this.registeredClass.getActualType(r),u=mr[a];if(!u)return i.call(this);var s;this.isConst?s=u.constPointerType:s=u.pointerType;var l=gr(r,this.registeredClass,s.registeredClass);return l===null?i.call(this):this.isSmartPointer?Te(s.registeredClass.instancePrototype,{ptrType:s,ptr:l,smartPtrType:this,smartPtr:e}):Te(s.registeredClass.instancePrototype,{ptrType:s,ptr:l})}var he=e=>typeof FinalizationRegistry>"u"?(he=r=>r,e):(Ne=new FinalizationRegistry(r=>{hr(r.$$)}),he=r=>{var t=r.$$,n=!!t.smartPtr;if(n){var i={$$:t};Ne.register(r,i,r)}return r},pr=r=>Ne.unregister(r),he(e)),wt=()=>{Object.assign(Ae.prototype,{isAliasOf(e){if(!(this instanceof Ae)||!(e instanceof Ae))return!1;var r=this.$$.ptrType.registeredClass,t=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,i=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return r===n&&t===i},clone(){if(this.$$.ptr||xe(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=he(Object.create(Object.getPrototypeOf(this),{$$:{value:vt(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&P("Object already scheduled for deletion"),pr(this),hr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&P("Object already scheduled for deletion"),ve.push(this),ve.length===1&&de&&de(Ge),this.$$.deleteScheduled=!0,this}})};function Ae(){}var De=(e,r)=>Object.defineProperty(r,"name",{value:e}),yr=(e,r,t)=>{if(e[r].overloadTable===void 0){var n=e[r];e[r]=function(...i){return e[r].overloadTable.hasOwnProperty(i.length)||P(`Function '${t}' called with an invalid number of arguments (${i.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[i.length].apply(this,i)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}},br=(e,r,t)=>{o.hasOwnProperty(e)?((t===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[t]!==void 0)&&P(`Cannot register public name '${e}' twice`),yr(o,e,e),o.hasOwnProperty(t)&&P(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),o[e].overloadTable[t]=r):(o[e]=r,t!==void 0&&(o[e].numArguments=t))},$t=48,Ct=57,Pt=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=$t&&r<=Ct?`_${e}`:e};function Tt(e,r,t,n,i,a,u,s){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=i,this.getActualType=a,this.upcast=u,this.downcast=s,this.pureVirtualFunctions=[]}var He=(e,r,t)=>{for(;r!==t;)r.upcast||P(`Expected null or instance of ${t.name}, got an instance of ${r.name}`),e=r.upcast(e),r=r.baseClass;return e};function At(e,r){if(r===null)return this.isReference&&P(`null is not a valid ${this.name}`),0;r.$$||P(`Cannot pass "${qe(r)}" as a ${this.name}`),r.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=He(r.$$.ptr,t,this.registeredClass);return n}function Dt(e,r){var t;if(r===null)return this.isReference&&P(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,t),t):0;(!r||!r.$$)&&P(`Cannot pass "${qe(r)}" as a ${this.name}`),r.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&P(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(t=He(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&P("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:P(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var i=r.clone();t=this.rawShare(t,Ie.toHandle(()=>i.delete())),e!==null&&e.push(this.rawDestructor,t)}break;default:P("Unsupporting sharing policy")}return t}function Ft(e,r){if(r===null)return this.isReference&&P(`null is not a valid ${this.name}`),0;r.$$||P(`Cannot pass "${qe(r)}" as a ${this.name}`),r.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&P(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=He(r.$$.ptr,t,this.registeredClass);return n}function Fe(e){return this.fromWireType(S[e>>>2>>>0])}var St=()=>{Object.assign(Se.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:X,readValueFromPointer:Fe,fromWireType:_t})};function Se(e,r,t,n,i,a,u,s,l,f,p){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=i,this.pointeeType=a,this.sharingPolicy=u,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=f,this.rawDestructor=p,!i&&r.baseClass===void 0?n?(this.toWireType=At,this.destructorFunction=null):(this.toWireType=Ft,this.destructorFunction=null):this.toWireType=Dt}var _r=(e,r,t)=>{o.hasOwnProperty(e)||Pe("Replacing nonexistent public symbol"),o[e].overloadTable!==void 0&&t!==void 0?o[e].overloadTable[t]=r:(o[e]=r,o[e].argCount=t)},Mt=(e,r,t)=>{var n=o["dynCall_"+e];return n(r,...t)},Me=[],wr,$r=e=>{var r=Me[e];return r||(e>=Me.length&&(Me.length=e+1),Me[e]=r=wr.get(e)),r},Et=(e,r,t=[])=>{if(e.includes("j"))return Mt(e,r,t);var n=$r(r)(...t);return n},It=(e,r)=>(...t)=>Et(e,r,t),re=(e,r)=>{e=j(e);function t(){return e.includes("j")?It(e,r):$r(r)}var n=t();return typeof n!="function"&&P(`unknown function pointer with signature ${e}: ${r}`),n},Rt=(e,r)=>{var t=De(r,function(n){this.name=r,this.message=n;var i=new Error(n).stack;i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Cr,Pr=e=>{var r=Rr(e),t=j(r);return Y(r),t},Ee=(e,r)=>{var t=[],n={};function i(a){if(!n[a]&&!ee[a]){if(Ce[a]){Ce[a].forEach(i);return}t.push(a),n[a]=!0}}throw r.forEach(i),new Cr(`${e}: `+t.map(Pr).join([", "]))};function Wt(e,r,t,n,i,a,u,s,l,f,p,w,$){e>>>=0,r>>>=0,t>>>=0,n>>>=0,i>>>=0,a>>>=0,u>>>=0,s>>>=0,l>>>=0,f>>>=0,p>>>=0,w>>>=0,$>>>=0,p=j(p),a=re(i,a),s&&(s=re(u,s)),f&&(f=re(l,f)),$=re(w,$);var E=Pt(p);br(E,function(){Ee(`Cannot construct ${p} due to unbound types`,[n])}),ae([e,r,t],n?[n]:[],k=>{var ke;k=k[0];var J,H;n?(J=k.registeredClass,H=J.instancePrototype):H=Ae.prototype;var Z=De(p,function(...Ze){if(Object.getPrototypeOf(this)!==c)throw new oe("Use 'new' to construct "+p);if(h.constructor_body===void 0)throw new oe(p+" has no accessible constructor");var Or=h.constructor_body[Ze.length];if(Or===void 0)throw new oe(`Tried to invoke ctor of ${p} with invalid number of parameters (${Ze.length}) - expected (${Object.keys(h.constructor_body).toString()}) parameters instead!`);return Or.apply(this,Ze)}),c=Object.create(H,{constructor:{value:Z}});Z.prototype=c;var h=new Tt(p,Z,c,$,J,a,s,f);h.baseClass&&((ke=h.baseClass).__derivedClasses??(ke.__derivedClasses=[]),h.baseClass.__derivedClasses.push(h));var V=new Se(p,h,!0,!1,!1),I=new Se(p+"*",h,!1,!1,!1),te=new Se(p+" const*",h,!1,!0,!1);return mr[e]={pointerType:I,constPointerType:te},_r(E,Z),[V,I,te]})}var Le=(e,r)=>{for(var t=[],n=0;n<e;n++)t.push(S[r+n*4>>>2>>>0]);return t},kt=e=>{for(;e.length;){var r=e.pop(),t=e.pop();t(r)}};function Tr(e){for(var r=1;r<e.length;++r)if(e[r]!==null&&e[r].destructorFunction===void 0)return!0;return!1}function Ot(e,r){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var t=De(e.name||"unknownFunctionName",function(){});t.prototype=e.prototype;var n=new t,i=e.apply(n,r);return i instanceof Object?i:n}function Ut(e,r,t,n){for(var i=Tr(e),a=e.length,u="",s="",l=0;l<a-2;++l)u+=(l!==0?", ":"")+"arg"+l,s+=(l!==0?", ":"")+"arg"+l+"Wired";var f=`
        return function (${u}) {
        if (arguments.length !== ${a-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${a-2}');
        }`;i&&(f+=`var destructors = [];
`);var p=i?"destructors":"null",w=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];r&&(f+="var thisWired = classParam['toWireType']("+p+`, this);
`);for(var l=0;l<a-2;++l)f+="var arg"+l+"Wired = argType"+l+"['toWireType']("+p+", arg"+l+`);
`,w.push("argType"+l);if(r&&(s="thisWired"+(s.length>0?", ":"")+s),f+=(t||n?"var rv = ":"")+"invoker(fn"+(s.length>0?", ":"")+s+`);
`,i)f+=`runDestructors(destructors);
`;else for(var l=r?1:2;l<e.length;++l){var $=l===1?"thisWired":"arg"+(l-2)+"Wired";e[l].destructorFunction!==null&&(f+=`${$}_dtor(${$});
`,w.push(`${$}_dtor`))}return t&&(f+=`var ret = retType['fromWireType'](rv);
return ret;
`),f+=`}
`,[w,f]}function Ye(e,r,t,n,i,a){var u=r.length;u<2&&P("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=r[1]!==null&&t!==null,l=Tr(r),f=r[0].name!=="void",p=[e,P,n,i,kt,r[0],r[1]],w=0;w<u-2;++w)p.push(r[w+2]);if(!l)for(var w=s?1:2;w<r.length;++w)r[w].destructorFunction!==null&&p.push(r[w].destructorFunction);let[$,E]=Ut(r,s,f,a);$.push(E);var k=Ot(Function,$)(...p);return De(e,k)}var Vt=function(e,r,t,n,i,a){e>>>=0,t>>>=0,n>>>=0,i>>>=0,a>>>=0;var u=Le(r,t);i=re(n,i),ae([],[e],s=>{s=s[0];var l=`constructor ${s.name}`;if(s.registeredClass.constructor_body===void 0&&(s.registeredClass.constructor_body=[]),s.registeredClass.constructor_body[r-1]!==void 0)throw new oe(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${s.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return s.registeredClass.constructor_body[r-1]=()=>{Ee(`Cannot construct ${s.name} due to unbound types`,u)},ae([],u,f=>(f.splice(1,0,null),s.registeredClass.constructor_body[r-1]=Ye(l,f,null,i,a),[])),[]})},Ar=e=>{e=e.trim();let r=e.indexOf("(");return r!==-1?e.substr(0,r):e},Bt=function(e,r,t,n,i,a,u,s,l){e>>>=0,r>>>=0,n>>>=0,i>>>=0,a>>>=0,u>>>=0;var f=Le(t,n);r=j(r),r=Ar(r),a=re(i,a),ae([],[e],p=>{p=p[0];var w=`${p.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),s&&p.registeredClass.pureVirtualFunctions.push(r);function $(){Ee(`Cannot call ${w} due to unbound types`,f)}var E=p.registeredClass.instancePrototype,k=E[r];return k===void 0||k.overloadTable===void 0&&k.className!==p.name&&k.argCount===t-2?($.argCount=t-2,$.className=p.name,E[r]=$):(yr(E,r,w),E[r].overloadTable[t-2]=$),ae([],f,J=>{var H=Ye(w,J,p,a,u,l);return E[r].overloadTable===void 0?(H.argCount=t-2,E[r]=H):E[r].overloadTable[t-2]=H,[]}),[]})},ze=[],K=[];function jt(e){e>>>=0,e>9&&--K[e+1]===0&&(K[e]=void 0,ze.push(e))}var xt=()=>K.length/2-5-ze.length,Nt=()=>{K.push(0,1,void 0,1,null,1,!0,1,!1,1),o.count_emval_handles=xt},Ie={toValue:e=>(e||P("Cannot use deleted val. handle = "+e),K[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let r=ze.pop()||K.length;return K[r]=e,K[r+1]=1,r}}}},Gt={name:"emscripten::val",fromWireType:e=>{var r=Ie.toValue(e);return jt(e),r},toWireType:(e,r)=>Ie.toHandle(r),argPackAdvance:X,readValueFromPointer:Fe,destructorFunction:null};function Ht(e){return e>>>=0,L(e,Gt)}var qe=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},Lt=(e,r)=>{switch(r){case 4:return function(t){return this.fromWireType(rr[t>>>2>>>0])};case 8:return function(t){return this.fromWireType(tr[t>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}},Yt=function(e,r,t){e>>>=0,r>>>=0,t>>>=0,r=j(r),L(e,{name:r,fromWireType:n=>n,toWireType:(n,i)=>i,argPackAdvance:X,readValueFromPointer:Lt(r,t),destructorFunction:null})};function zt(e,r,t,n,i,a,u){e>>>=0,t>>>=0,n>>>=0,i>>>=0,a>>>=0;var s=Le(r,t);e=j(e),e=Ar(e),i=re(n,i),br(e,function(){Ee(`Cannot call ${e} due to unbound types`,s)},r-1),ae([],s,l=>{var f=[l[0],null].concat(l.slice(1));return _r(e,Ye(e,f,null,i,a,u),r-1),[]})}var qt=(e,r,t)=>{switch(r){case 1:return t?n=>G[n>>>0]:n=>U[n>>>0];case 2:return t?n=>ce[n>>>1>>>0]:n=>be[n>>>1>>>0];case 4:return t?n=>O[n>>>2>>>0]:n=>S[n>>>2>>>0];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Xt(e,r,t,n,i){e>>>=0,r>>>=0,t>>>=0,r=j(r),i===-1&&(i=4294967295);var a=p=>p;if(n===0){var u=32-8*t;a=p=>p<<u>>>u}var s=r.includes("unsigned"),l=(p,w)=>{},f;s?f=function(p,w){return l(w,this.name),w>>>0}:f=function(p,w){return l(w,this.name),w},L(e,{name:r,fromWireType:a,toWireType:f,argPackAdvance:X,readValueFromPointer:qt(r,t,n!==0),destructorFunction:null})}function Kt(e,r,t){e>>>=0,t>>>=0;var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],i=n[r];function a(u){var s=S[u>>>2>>>0],l=S[u+4>>>2>>>0];return new i(G.buffer,l,s)}t=j(t),L(e,{name:t,fromWireType:a,argPackAdvance:X,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})}var Dr=(e,r,t,n)=>{if(t>>>=0,!(n>0))return 0;for(var i=t,a=t+n-1,u=0;u<e.length;++u){var s=e.charCodeAt(u);if(s>=55296&&s<=57343){var l=e.charCodeAt(++u);s=65536+((s&1023)<<10)|l&1023}if(s<=127){if(t>=a)break;r[t++>>>0]=s}else if(s<=2047){if(t+1>=a)break;r[t++>>>0]=192|s>>6,r[t++>>>0]=128|s&63}else if(s<=65535){if(t+2>=a)break;r[t++>>>0]=224|s>>12,r[t++>>>0]=128|s>>6&63,r[t++>>>0]=128|s&63}else{if(t+3>=a)break;r[t++>>>0]=240|s>>18,r[t++>>>0]=128|s>>12&63,r[t++>>>0]=128|s>>6&63,r[t++>>>0]=128|s&63}}return r[t>>>0]=0,t-i},Jt=(e,r,t)=>Dr(e,U,r,t),Fr=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},Sr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Zt=(e,r,t)=>{r>>>=0;for(var n=r+t,i=r;e[i]&&!(i>=n);)++i;if(i-r>16&&e.buffer&&Sr)return Sr.decode(e.subarray(r,i));for(var a="";r<i;){var u=e[r++];if(!(u&128)){a+=String.fromCharCode(u);continue}var s=e[r++]&63;if((u&224)==192){a+=String.fromCharCode((u&31)<<6|s);continue}var l=e[r++]&63;if((u&240)==224?u=(u&15)<<12|s<<6|l:u=(u&7)<<18|s<<12|l<<6|e[r++]&63,u<65536)a+=String.fromCharCode(u);else{var f=u-65536;a+=String.fromCharCode(55296|f>>10,56320|f&1023)}}return a},Xe=(e,r)=>(e>>>=0,e?Zt(U,e,r):"");function Qt(e,r){e>>>=0,r>>>=0,r=j(r);var t=r==="std::string";L(e,{name:r,fromWireType(n){var i=S[n>>>2>>>0],a=n+4,u;if(t)for(var s=a,l=0;l<=i;++l){var f=a+l;if(l==i||U[f>>>0]==0){var p=f-s,w=Xe(s,p);u===void 0?u=w:(u+=String.fromCharCode(0),u+=w),s=f+1}}else{for(var $=new Array(i),l=0;l<i;++l)$[l]=String.fromCharCode(U[a+l>>>0]);u=$.join("")}return Y(n),u},toWireType(n,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var a,u=typeof i=="string";u||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||P("Cannot pass non-string to std::string"),t&&u?a=Fr(i):a=i.length;var s=Je(4+a+1),l=s+4;if(S[s>>>2>>>0]=a,t&&u)Jt(i,l,a+1);else if(u)for(var f=0;f<a;++f){var p=i.charCodeAt(f);p>255&&(Y(l),P("String has UTF-16 code units that do not fit in 8 bits")),U[l+f>>>0]=p}else for(var f=0;f<a;++f)U[l+f>>>0]=i[f];return n!==null&&n.push(Y,s),s},argPackAdvance:X,readValueFromPointer:Fe,destructorFunction(n){Y(n)}})}var Mr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,en=(e,r)=>{for(var t=e,n=t>>1,i=n+r/2;!(n>=i)&&be[n>>>0];)++n;if(t=n<<1,t-e>32&&Mr)return Mr.decode(U.subarray(e>>>0,t>>>0));for(var a="",u=0;!(u>=r/2);++u){var s=ce[e+u*2>>>1>>>0];if(s==0)break;a+=String.fromCharCode(s)}return a},rn=(e,r,t)=>{if(t??(t=2147483647),t<2)return 0;t-=2;for(var n=r,i=t<e.length*2?t/2:e.length,a=0;a<i;++a){var u=e.charCodeAt(a);ce[r>>>1>>>0]=u,r+=2}return ce[r>>>1>>>0]=0,r-n},tn=e=>e.length*2,nn=(e,r)=>{for(var t=0,n="";!(t>=r/4);){var i=O[e+t*4>>>2>>>0];if(i==0)break;if(++t,i>=65536){var a=i-65536;n+=String.fromCharCode(55296|a>>10,56320|a&1023)}else n+=String.fromCharCode(i)}return n},on=(e,r,t)=>{if(r>>>=0,t??(t=2147483647),t<4)return 0;for(var n=r,i=n+t-4,a=0;a<e.length;++a){var u=e.charCodeAt(a);if(u>=55296&&u<=57343){var s=e.charCodeAt(++a);u=65536+((u&1023)<<10)|s&1023}if(O[r>>>2>>>0]=u,r+=4,r+4>i)break}return O[r>>>2>>>0]=0,r-n},an=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r},sn=function(e,r,t){e>>>=0,r>>>=0,t>>>=0,t=j(t);var n,i,a,u;r===2?(n=en,i=rn,u=tn,a=s=>be[s>>>1>>>0]):r===4&&(n=nn,i=on,u=an,a=s=>S[s>>>2>>>0]),L(e,{name:t,fromWireType:s=>{for(var l=S[s>>>2>>>0],f,p=s+4,w=0;w<=l;++w){var $=s+4+w*r;if(w==l||a($)==0){var E=$-p,k=n(p,E);f===void 0?f=k:(f+=String.fromCharCode(0),f+=k),p=$+r}}return Y(s),f},toWireType:(s,l)=>{typeof l!="string"&&P(`Cannot pass non-string to C++ string type ${t}`);var f=u(l),p=Je(4+f+r);return S[p>>>2>>>0]=f/r,i(l,p+4,f+r),s!==null&&s.push(Y,p),p},argPackAdvance:X,readValueFromPointer:Fe,destructorFunction(s){Y(s)}})},un=function(e,r){e>>>=0,r>>>=0,r=j(r),L(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})},ln=(e,r)=>{var t=ee[e];return t===void 0&&P(`${r} has unknown type ${Pr(e)}`),t};function cn(e,r){e>>>=0,r>>>=0,e=ln(e,"_emval_take_value");var t=e.readValueFromPointer(r);return Ie.toHandle(t)}var fn=()=>{_e("")};function vn(e,r,t){return e>>>=0,r>>>=0,t>>>=0,U.copyWithin(e>>>0,r>>>0,r+t>>>0)}var dn=()=>3221225472,pn=e=>{var r=ye.buffer,t=(e-r.byteLength+65535)/65536;try{return ye.grow(t),nr(),1}catch{}};function hn(e){e>>>=0;var r=U.length,t=dn();if(e>t)return!1;for(var n=(l,f)=>l+(f-l%f)%f,i=1;i<=4;i*=2){var a=r*(1+.2/i);a=Math.min(a,e+100663296);var u=Math.min(t,n(Math.max(e,a),65536)),s=pn(u);if(s)return!0}return!1}var Ke={},gn=()=>_||"./this.program",ge=()=>{if(!ge.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:gn()};for(var t in Ke)Ke[t]===void 0?delete r[t]:r[t]=Ke[t];var n=[];for(var t in r)n.push(`${t}=${r[t]}`);ge.strings=n}return ge.strings},mn=(e,r)=>{for(var t=0;t<e.length;++t)G[r++>>>0]=e.charCodeAt(t);G[r>>>0]=0},yn=function(e,r){e>>>=0,r>>>=0;var t=0;return ge().forEach((n,i)=>{var a=r+t;S[e+i*4>>>2>>>0]=a,mn(n,a),t+=n.length+1}),0},bn=function(e,r){e>>>=0,r>>>=0;var t=ge();S[e>>>2>>>0]=t.length;var n=0;return t.forEach(i=>n+=i.length+1),S[r>>>2>>>0]=n,0},Re=e=>e%4===0&&(e%100!==0||e%400===0),_n=(e,r)=>{for(var t=0,n=0;n<=r;t+=e[n++]);return t},Er=[31,29,31,30,31,30,31,31,30,31,30,31],Ir=[31,28,31,30,31,30,31,31,30,31,30,31],wn=(e,r)=>{for(var t=new Date(e.getTime());r>0;){var n=Re(t.getFullYear()),i=t.getMonth(),a=(n?Er:Ir)[i];if(r>a-t.getDate())r-=a-t.getDate()+1,t.setDate(1),i<11?t.setMonth(i+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+r),t}return t};function $n(e,r,t){var n=t>0?t:Fr(e)+1,i=new Array(n),a=Dr(e,i,0,i.length);return r&&(i.length=a),i}var Cn=(e,r)=>{G.set(e,r>>>0)};function Pn(e,r,t,n){e>>>=0,r>>>=0,t>>>=0,n>>>=0;var i=S[n+40>>>2>>>0],a={tm_sec:O[n>>>2>>>0],tm_min:O[n+4>>>2>>>0],tm_hour:O[n+8>>>2>>>0],tm_mday:O[n+12>>>2>>>0],tm_mon:O[n+16>>>2>>>0],tm_year:O[n+20>>>2>>>0],tm_wday:O[n+24>>>2>>>0],tm_yday:O[n+28>>>2>>>0],tm_isdst:O[n+32>>>2>>>0],tm_gmtoff:O[n+36>>>2>>>0],tm_zone:i?Xe(i):""},u=Xe(t),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in s)u=u.replace(new RegExp(l,"g"),s[l]);var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"];function w(c,h,V){for(var I=typeof c=="number"?c.toString():c||"";I.length<h;)I=V[0]+I;return I}function $(c,h){return w(c,h,"0")}function E(c,h){function V(te){return te<0?-1:te>0?1:0}var I;return(I=V(c.getFullYear()-h.getFullYear()))===0&&(I=V(c.getMonth()-h.getMonth()))===0&&(I=V(c.getDate()-h.getDate())),I}function k(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function J(c){var h=wn(new Date(c.tm_year+1900,0,1),c.tm_yday),V=new Date(h.getFullYear(),0,4),I=new Date(h.getFullYear()+1,0,4),te=k(V),ke=k(I);return E(te,h)<=0?E(ke,h)<=0?h.getFullYear()+1:h.getFullYear():h.getFullYear()-1}var H={"%a":c=>f[c.tm_wday].substring(0,3),"%A":c=>f[c.tm_wday],"%b":c=>p[c.tm_mon].substring(0,3),"%B":c=>p[c.tm_mon],"%C":c=>{var h=c.tm_year+1900;return $(h/100|0,2)},"%d":c=>$(c.tm_mday,2),"%e":c=>w(c.tm_mday,2," "),"%g":c=>J(c).toString().substring(2),"%G":J,"%H":c=>$(c.tm_hour,2),"%I":c=>{var h=c.tm_hour;return h==0?h=12:h>12&&(h-=12),$(h,2)},"%j":c=>$(c.tm_mday+_n(Re(c.tm_year+1900)?Er:Ir,c.tm_mon-1),3),"%m":c=>$(c.tm_mon+1,2),"%M":c=>$(c.tm_min,2),"%n":()=>`
`,"%p":c=>c.tm_hour>=0&&c.tm_hour<12?"AM":"PM","%S":c=>$(c.tm_sec,2),"%t":()=>"	","%u":c=>c.tm_wday||7,"%U":c=>{var h=c.tm_yday+7-c.tm_wday;return $(Math.floor(h/7),2)},"%V":c=>{var h=Math.floor((c.tm_yday+7-(c.tm_wday+6)%7)/7);if((c.tm_wday+371-c.tm_yday-2)%7<=2&&h++,h){if(h==53){var I=(c.tm_wday+371-c.tm_yday)%7;I!=4&&(I!=3||!Re(c.tm_year))&&(h=1)}}else{h=52;var V=(c.tm_wday+7-c.tm_yday-1)%7;(V==4||V==5&&Re(c.tm_year%400-1))&&h++}return $(h,2)},"%w":c=>c.tm_wday,"%W":c=>{var h=c.tm_yday+7-(c.tm_wday+6)%7;return $(Math.floor(h/7),2)},"%y":c=>(c.tm_year+1900).toString().substring(2),"%Y":c=>c.tm_year+1900,"%z":c=>{var h=c.tm_gmtoff,V=h>=0;return h=Math.abs(h)/60,h=h/60*100+h%60,(V?"+":"-")+("0000"+h).slice(-4)},"%Z":c=>c.tm_zone,"%%":()=>"%"};u=u.replace(/%%/g,"\0\0");for(var l in H)u.includes(l)&&(u=u.replace(new RegExp(l,"g"),H[l](a)));u=u.replace(/\0\0/g,"%");var Z=$n(u,!1);return Z.length>r?0:(Cn(Z,e),Z.length-1)}function Tn(e,r,t,n,i){return e>>>=0,r>>>=0,t>>>=0,n>>>=0,i>>>=0,Pn(e,r,t,n)}lt(),oe=o.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},dr=o.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},wt(),mt(),St(),Cr=o.UnboundTypeError=Rt(Error,"UnboundTypeError"),Nt();var An={i:ot,h:st,p:ut,n:ft,c:Wt,d:Vt,a:Bt,v:Ht,m:Yt,f:zt,e:Xt,b:Kt,l:Qt,j:sn,o:un,g:cn,k:fn,u:vn,t:hn,r:yn,s:bn,q:Tn},W=it(),Dn=()=>(Dn=W.x)(),Je=e=>(Je=W.z)(e),Y=e=>(Y=W.A)(e),Rr=e=>(Rr=W.B)(e),Wr=e=>(Wr=W.C)(e),Fn=o.dynCall_viijii=(e,r,t,n,i,a,u)=>(Fn=o.dynCall_viijii=W.D)(e,r,t,n,i,a,u),Sn=o.dynCall_iiiiij=(e,r,t,n,i,a,u)=>(Sn=o.dynCall_iiiiij=W.E)(e,r,t,n,i,a,u),Mn=o.dynCall_iiiiijj=(e,r,t,n,i,a,u,s,l)=>(Mn=o.dynCall_iiiiijj=W.F)(e,r,t,n,i,a,u,s,l),En=o.dynCall_iiiiiijj=(e,r,t,n,i,a,u,s,l,f)=>(En=o.dynCall_iiiiiijj=W.G)(e,r,t,n,i,a,u,s,l,f);function In(e){e=Object.assign({},e);var r=n=>i=>n(i)>>>0,t=n=>()=>n()>>>0;return e.z=r(e.z),e.B=r(e.B),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}var We;fe=function e(){We||kr(),We||(fe=e)};function kr(){if(Q>0||(zr(),Q>0))return;function e(){We||(We=!0,o.calledRun=!0,!er&&(qr(),m(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Xr()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return kr(),v.ready}})();typeof jr=="object"&&typeof Qe=="object"?Qe.exports=Br:typeof define=="function"&&define.amd&&define([],()=>Br)});var Nr=jn(xr(),1),Gr=Nr.default,Oe=null;async function N(){return Oe===null&&(Oe=Gr()),Oe}function xn(){Oe=null,Ue=null,Gr().then(d=>{Ue=d})}var Ue=null;function Nn(d){Ue=d}function Gn(){return Ue}async function Ve(d,v,o){if(!o)return null;if(d.point){let m=v.map(g=>g.points);return Hr(m,o)}else if(d.line){let m=v.map(g=>g.lines);return Hn(m,o)}else if(d.polygon){let m=v.map(g=>g.polygons);return Ln(m,o)}return null}function Hr(d,v){let o=new v.VectorDouble,m=new v.VectorDouble,g=new v.VectorUInt,C=new v.VectorUInt,F=!1;for(let b=0;b<d.length;b++){let T=d[b];if(T){let A=T.positions.value;for(let y=0;y<A.length;y+=2)o.push_back(A[y]),m.push_back(A[y+1]);let D=0;for(let y=0;y<T.featureIds.value.length;y++)(y===0||T.featureIds.value[y]!==T.featureIds.value[y-1])&&g.push_back(D),D++;for(let y=1;y<g.size();y++)C.push_back(g.get(y)-g.get(y-1));g.size()>0&&C.push_back(D-g.get(g.size()-1))}}return new v.PointCollection(o,m,g,C,F)}function Hn(d,v){let o=new v.VectorDouble,m=new v.VectorDouble,g=new v.VectorUInt,C=new v.VectorUInt,F=!1;for(let b=0;b<d.length;b++){let T=d[b];if(T){let A=T.positions.value,D=T.pathIndices.value;for(let M=0;M<A.length;M+=2)o.push_back(A[M]),m.push_back(A[M+1]);let y=0;for(let M=0;M<D.length-1;M++){let R=D[M];g.push_back(R),M>0&&T.featureIds.value[R]!==T.featureIds.value[R-1]&&(C.push_back(y),y=0),y+=1}C.push_back(y)}}return new v.LineCollection(o,m,g,C,F)}function Ln(d,v){let o=new v.VectorDouble,m=new v.VectorDouble,g=new v.VectorUInt,C=new v.VectorUInt,F=new v.VectorUInt,_=!0,b=!1;for(let A=0;A<d.length;A++){let D=d[A];if(D){let y=D.positions.value,M=D.polygonIndices.value,R=D.primitivePolygonIndices.value;for(let B=0;B<y.length;B+=2)o.push_back(y[B]),m.push_back(y[B+1]);let x=0,q=0;for(let B=0;B<M.length-1;B++){let se=M[B],me=M[B+1];for(;R[x]<me;)R[x]>se?C.push_back(1):C.push_back(0),g.push_back(R[x]),x++,q+=1;D.featureIds.value[me]!==D.featureIds.value[me-1]&&(F.push_back(q),q=0)}}}return new v.PolygonCollection(o,m,g,C,F,_,b)}async function Yn({k:d,binaryGeometryType:v,binaryGeometries:o}){if(!o||o.length===0)return[];let m=[],g=await N(),C=await Ve(v,o,g);if(C){let F=g.getNearestNeighbors(C,d);for(let _=0;_<F.size();++_){let b=F.get(_),T=Array(b.size());for(let A=0,D=b.size();A<D;++A)T[A]=b.get(A);m[_]=T}}return m}async function zn({binaryGeometryType:d,binaryGeometries:v,isQueen:o,useCentroids:m,precisionThreshold:g=0,orderOfContiguity:C=1,includeLowerOrder:F=!1}){if(!v||v.length===0)return[];let _=[],b=await N(),T=await Ve(d,v,b);if(T){let A=m||d.point||d.line?b.getPointContiguityWeights(T,o,g,C,F):b.getPolygonContiguityWeights(T,o,g,C,F);for(let D=0;D<A.size();++D){let y=A.get(D),M=Array(y.size());for(let R=0,x=y.size();R<x;++R)M[R]=y.get(R);_[D]=M}}return _}function fi(d){let v=d.length,o=Math.min(...d.map(b=>b.length)),m=Math.max(...d.map(b=>b.length)),g=d.reduce((b,T)=>b+T.length,0)/v,C=d.map(b=>b.length).sort((b,T)=>b-T)[Math.floor(v/2)],_=d.reduce((b,T)=>b+T.length,0)/(v*v);return{numberOfObservations:v,minNeighbors:o,maxNeighbors:m,meanNeighbors:g,medianNeighbors:C,pctNoneZero:_}}function z(d){let v=[],o=d.size();for(let m=0;m<o;++m)v.push(d.get(m));return v}async function qn(d,v,o){let m=await N(),g=d.length,C=new m.VectorDouble;C.resize(g,0);for(let b=0;b<g;++b)C.set(b,d[b]);let F=new m.VecVecUInt;for(let b=0;b<g;++b){let T=v[b],A=new m.VectorUInt;for(let D=0,y=T.length;D<y;++D)A.push_back(T[D]);F.push_back(A)}let _=m.localMoran(C,F,o);return{isValid:_.isValid(),clusters:z(_.getClusters()),lagValues:z(_.getLagValues()),lisaValues:z(_.getLisaValues()),pValues:z(_.getPValues())}}async function Xn(d,v){let o=await N(),m=v.length,g=new o.VectorInt;g.resize(m,0);let C=new o.VectorDouble;C.resize(m,0);for(let _=0;_<m;++_)C.set(_,v[_]),(v[_]===void 0||v[_]===null)&&g.set(_,1);let F=o.quantileBreaks(d,C,g);return z(F)}async function Kn(d,v){let o=await N(),m=v.length,g=new o.VectorInt;g.resize(m,0);let C=new o.VectorDouble;C.resize(m,0);for(let _=0;_<m;++_)C.set(_,v[_]),(v[_]===void 0||v[_]===null)&&g.set(_,1);let F=o.naturalBreaks(d,C,g);return z(F)}export{Hr as createGeoDaPointsFromBinaryFeatures,zn as getContiguityNeighborsFromBinaryGeometries,Gn as getGeoDa,fi as getMetaFromWeights,Yn as getNearestNeighborsFromBinaryGeometries,N as initGeoDa,qn as localMoran,Kn as naturalBreaks,Xn as quantileBreaks,xn as resetGeoDa,Nn as setGeoDa};
//# sourceMappingURL=index.js.map
