var Mi=Object.create;var er=Object.defineProperty;var Ri=Object.getOwnPropertyDescriptor;var $i=Object.getOwnPropertyNames;var Gi=Object.getPrototypeOf,Fi=Object.prototype.hasOwnProperty;var tr=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var Vi=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports);var Ni=(n,r,o,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of $i(r))!Fi.call(n,u)&&u!==o&&er(n,u,{get:()=>r[u],enumerable:!(s=Ri(r,u))||s.enumerable});return n};var Oi=(n,r,o)=>(o=n!=null?Mi(Gi(n)):{},Ni(r||!n||!n.__esModule?er(o,"default",{value:n,enumerable:!0}):o,n));var ir=Vi((nr,mt)=>{"use strict";var rr=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n||(n=__filename)),function(r={}){var o=r,s,u;o.ready=new Promise((e,t)=>{s=e,u=t});var l=Object.assign({},o),g=[],b="./this.program",v=(e,t)=>{throw t},p=typeof window=="object",c=typeof importScripts=="function",y=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",m=!p&&!y&&!c,D="";function w(e){return o.locateFile?o.locateFile(e,D):D+e}var E,N,B;if(y){var S=tr("fs"),q=tr("path");c?D=q.dirname(D)+"/":D=__dirname+"/",E=(e,t)=>(e=$e(e)?new URL(e):q.normalize(e),S.readFileSync(e,t?void 0:"utf8")),B=e=>{var t=E(e,!0);return t.buffer||(t=new Uint8Array(t)),t},N=(e,t,i,a=!0)=>{e=$e(e)?new URL(e):q.normalize(e),S.readFile(e,a?void 0:"utf8",(f,d)=>{f?i(f):t(a?d.buffer:d)})},!o.thisProgram&&process.argv.length>1&&(b=process.argv[1].replace(/\\/g,"/")),g=process.argv.slice(2),v=(e,t)=>{throw process.exitCode=e,t}}else(p||c)&&(c?D=self.location.href:typeof document<"u"&&document.currentScript&&(D=document.currentScript.src),n&&(D=n),D.startsWith("blob:")?D="":D=D.substr(0,D.replace(/[?#].*/,"").lastIndexOf("/")+1),E=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},c&&(B=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),N=(e,t,i)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{if(a.status==200||a.status==0&&a.response){t(a.response);return}i()},a.onerror=i,a.send(null)});var ae=o.print||console.log.bind(console),h=o.printErr||console.error.bind(console);Object.assign(o,l),l=null,o.arguments&&(g=o.arguments),o.thisProgram&&(b=o.thisProgram),o.quit&&(v=o.quit);var $;o.wasmBinary&&($=o.wasmBinary),typeof WebAssembly!="object"&&re("no native wasm support detected");var R,Xe=!1,Qe;function bo(e,t){e||re(t)}var go,J,X,se,Ae,j,x,Me,Re;function dt(){var e=R.buffer;o.HEAP8=J=new Int8Array(e),o.HEAP16=se=new Int16Array(e),o.HEAPU8=X=new Uint8Array(e),o.HEAPU16=Ae=new Uint16Array(e),o.HEAP32=j=new Int32Array(e),o.HEAPU32=x=new Uint32Array(e),o.HEAPF32=Me=new Float32Array(e),o.HEAPF64=Re=new Float64Array(e)}var yt=[],ht=[],mo=[],vt=[],fr=!1;function br(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)pr(o.preRun.shift());et(yt)}function gr(){fr=!0,et(ht)}function mr(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)yr(o.postRun.shift());et(vt)}function pr(e){yt.unshift(e)}function dr(e){ht.unshift(e)}function po(e){}function yr(e){vt.unshift(e)}var be=0,Ze=null,Pe=null;function yo(e){return e}function hr(e){be++,o.monitorRunDependencies?.(be)}function vr(e){if(be--,o.monitorRunDependencies?.(be),be==0&&(Ze!==null&&(clearInterval(Ze),Ze=null),Pe)){var t=Pe;Pe=null,t()}}function re(e){o.onAbort?.(e),e="Aborted("+e+")",h(e),Xe=!0,Qe=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw u(t),t}var Sr="data:application/octet-stream;base64,",St=e=>e.startsWith(Sr),$e=e=>e.startsWith("file://"),de;de="geoda.wasm",St(de)||(de=w(de));function _t(e){if(e==de&&$)return new Uint8Array($);if(B)return B(e);throw"both async and sync fetching of the wasm failed"}function _r(e){if(!$&&(p||c)){if(typeof fetch=="function"&&!$e(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()}).catch(()=>_t(e));if(N)return new Promise((t,i)=>{N(e,a=>t(new Uint8Array(a)),i)})}return Promise.resolve().then(()=>_t(e))}function Pt(e,t,i){return _r(e).then(a=>WebAssembly.instantiate(a,t)).then(i,a=>{h(`failed to asynchronously prepare wasm: ${a}`),re(a)})}function Pr(e,t,i,a){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!St(t)&&!$e(t)&&!y&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(f=>{var d=WebAssembly.instantiateStreaming(f,i);return d.then(a,function(P){return h(`wasm streaming compile failed: ${P}`),h("falling back to ArrayBuffer instantiation"),Pt(t,i,a)})}):Pt(t,i,a)}function Dr(){var e={env:Kt,wasi_snapshot_preview1:Kt};function t(a,f){return U=a.exports,U=Ai(U),R=U.memory,dt(),Nt=U.__indirect_function_table,dr(U.__wasm_call_ctors),vr("wasm-instantiate"),U}hr("wasm-instantiate");function i(a){t(a.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(a){h(`Module.instantiateWasm callback failed with error: ${a}`),u(a)}return Pr($,de,e,i).catch(u),{}}var Z,ye;function Ir(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var et=e=>{for(;e.length>0;)e.shift()(o)};function ho(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":return J[e>>>0];case"i8":return J[e>>>0];case"i16":return se[e>>>1>>>0];case"i32":return j[e>>>2>>>0];case"i64":re("to do getValue(i64) use WASM_BIGINT");case"float":return Me[e>>>2>>>0];case"double":return Re[e>>>3>>>0];case"*":return x[e>>>2>>>0];default:re(`invalid type for getValue: ${t}`)}}var Tr=o.noExitRuntime||!0;function vo(e,t,i="i8"){switch(i.endsWith("*")&&(i="*"),i){case"i1":J[e>>>0]=t;break;case"i8":J[e>>>0]=t;break;case"i16":se[e>>>1>>>0]=t;break;case"i32":j[e>>>2>>>0]=t;break;case"i64":re("to do setValue(i64) use WASM_BIGINT");case"float":Me[e>>>2>>>0]=t;break;case"double":Re[e>>>3>>>0]=t;break;case"*":x[e>>>2>>>0]=t;break;default:re(`invalid type for setValue: ${i}`)}}var Dt=[],Ge=0,It=0,Cr=()=>{var e=Dt.pop();e||re("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Dt.push(e),e.set_rethrown(!0),e.set_caught(!1),It++),Ge=t,Ge};class Lr{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){x[this.ptr+4>>>2>>>0]=t}get_type(){return x[this.ptr+4>>>2>>>0]}set_destructor(t){x[this.ptr+8>>>2>>>0]=t}get_destructor(){return x[this.ptr+8>>>2>>>0]}set_caught(t){t=t?1:0,J[this.ptr+12>>>0]=t}get_caught(){return J[this.ptr+12>>>0]!=0}set_rethrown(t){t=t?1:0,J[this.ptr+13>>>0]=t}get_rethrown(){return J[this.ptr+13>>>0]!=0}init(t,i){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(i)}set_adjusted_ptr(t){x[this.ptr+16>>>2>>>0]=t}get_adjusted_ptr(){return x[this.ptr+16>>>2>>>0]}get_exception_ptr(){var t=Xt(this.get_type());if(t)return x[this.excPtr>>>2>>>0];var i=this.get_adjusted_ptr();return i!==0?i:this.excPtr}}var Tt=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+t*4294967296:NaN;function wr(e,t,i){e>>>=0,t>>>=0,i>>>=0;var a=new Lr(e);throw a.init(t,i),Ge=e,It++,Ge}var Er=(e,t,i)=>{};function Ar(e,t,i,a){t>>>=0}var Ct=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Lt=(e,t,i)=>{t>>>=0;for(var a=t+i,f=t;e[f]&&!(f>=a);)++f;if(f-t>16&&e.buffer&&Ct)return Ct.decode(e.subarray(t,f));for(var d="";t<f;){var P=e[t++];if(!(P&128)){d+=String.fromCharCode(P);continue}var _=e[t++]&63;if((P&224)==192){d+=String.fromCharCode((P&31)<<6|_);continue}var I=e[t++]&63;if((P&240)==224?P=(P&15)<<12|_<<6|I:P=(P&7)<<18|_<<12|I<<6|e[t++]&63,P<65536)d+=String.fromCharCode(P);else{var L=P-65536;d+=String.fromCharCode(55296|L>>10,56320|L&1023)}}return d},Fe=(e,t)=>(e>>>=0,e?Lt(X,e,t):""),he={varargs:void 0,get(){var e=j[+he.varargs>>>2>>>0];return he.varargs+=4,e},getp(){return he.get()},getStr(e){var t=Fe(e);return t}};function Mr(e,t,i){return i>>>=0,he.varargs=i,0}function Rr(e,t){t>>>=0}function $r(e,t,i){var a=Tt(t,i)}function Gr(e,t,i){return i>>>=0,he.varargs=i,0}function Fr(e,t){e>>>=0,t>>>=0}function Vr(e,t,i,a){t>>>=0,i>>>=0}function Nr(e,t,i,a){t>>>=0,a>>>=0,he.varargs=a}function Or(e,t){e>>>=0,t>>>=0}function kr(e,t,i){t>>>=0}function Br(e,t,i,a,f){e>>>=0,t>>>=0,i>>>=0}var xr=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);wt=e},wt,ee=e=>{for(var t="",i=e;X[i>>>0];)t+=wt[X[i++>>>0]];return t},ve={},ge={},Ve={},Se,O=e=>{throw new Se(e)},Et,Ne=e=>{throw new Et(e)},_e=(e,t,i)=>{e.forEach(function(_){Ve[_]=t});function a(_){var I=i(_);I.length!==e.length&&Ne("Mismatched type converter count");for(var L=0;L<e.length;++L)ne(e[L],I[L])}var f=new Array(t.length),d=[],P=0;t.forEach((_,I)=>{ge.hasOwnProperty(_)?f[I]=ge[_]:(d.push(_),ve.hasOwnProperty(_)||(ve[_]=[]),ve[_].push(()=>{f[I]=ge[_],++P,P===d.length&&a(f)}))}),d.length===0&&a(f)};function Ur(e,t,i={}){var a=t.name;if(e||O(`type "${a}" must have a positive integer typeid pointer`),ge.hasOwnProperty(e)){if(i.ignoreDuplicateRegistrations)return;O(`Cannot register type '${a}' twice`)}if(ge[e]=t,delete Ve[e],ve.hasOwnProperty(e)){var f=ve[e];delete ve[e],f.forEach(d=>d())}}function ne(e,t,i={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Ur(e,t,i)}var le=8;function jr(e,t,i,a){e>>>=0,t>>>=0,t=ee(t),ne(e,{name:t,fromWireType:function(f){return!!f},toWireType:function(f,d){return d?i:a},argPackAdvance:le,readValueFromPointer:function(f){return this.fromWireType(X[f>>>0])},destructorFunction:null})}var Wr=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),tt=e=>{function t(i){return i.$$.ptrType.registeredClass.name}O(t(e)+" instance already deleted")},rt=!1,At=e=>{},qr=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Mt=e=>{e.count.value-=1;var t=e.count.value===0;t&&qr(e)},Rt=(e,t,i)=>{if(t===i)return e;if(i.baseClass===void 0)return null;var a=Rt(e,t,i.baseClass);return a===null?null:i.downcast(a)},$t={},Hr=()=>Object.keys(Te).length,zr=()=>{var e=[];for(var t in Te)Te.hasOwnProperty(t)&&e.push(Te[t]);return e},De=[],nt=()=>{for(;De.length;){var e=De.pop();e.$$.deleteScheduled=!1,e.delete()}},Ie,Yr=e=>{Ie=e,De.length&&Ie&&Ie(nt)},Kr=()=>{o.getInheritedInstanceCount=Hr,o.getLiveInheritedInstances=zr,o.flushPendingDeletes=nt,o.setDelayFunction=Yr},Te={},Jr=(e,t)=>{for(t===void 0&&O("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Xr=(e,t)=>(t=Jr(e,t),Te[t]),Oe=(e,t)=>{(!t.ptrType||!t.ptr)&&Ne("makeClassHandle requires ptr and ptrType");var i=!!t.smartPtrType,a=!!t.smartPtr;return i!==a&&Ne("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ce(Object.create(e,{$$:{value:t,writable:!0}}))};function Qr(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var i=Xr(this.registeredClass,t);if(i!==void 0){if(i.$$.count.value===0)return i.$$.ptr=t,i.$$.smartPtr=e,i.clone();var a=i.clone();return this.destructor(e),a}function f(){return this.isSmartPointer?Oe(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Oe(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var d=this.registeredClass.getActualType(t),P=$t[d];if(!P)return f.call(this);var _;this.isConst?_=P.constPointerType:_=P.pointerType;var I=Rt(t,this.registeredClass,_.registeredClass);return I===null?f.call(this):this.isSmartPointer?Oe(_.registeredClass.instancePrototype,{ptrType:_,ptr:I,smartPtrType:this,smartPtr:e}):Oe(_.registeredClass.instancePrototype,{ptrType:_,ptr:I})}var Ce=e=>typeof FinalizationRegistry>"u"?(Ce=t=>t,e):(rt=new FinalizationRegistry(t=>{Mt(t.$$)}),Ce=t=>{var i=t.$$,a=!!i.smartPtr;if(a){var f={$$:i};rt.register(t,f,t)}return t},At=t=>rt.unregister(t),Ce(e)),Zr=()=>{Object.assign(ke.prototype,{isAliasOf(e){if(!(this instanceof ke)||!(e instanceof ke))return!1;var t=this.$$.ptrType.registeredClass,i=this.$$.ptr;e.$$=e.$$;for(var a=e.$$.ptrType.registeredClass,f=e.$$.ptr;t.baseClass;)i=t.upcast(i),t=t.baseClass;for(;a.baseClass;)f=a.upcast(f),a=a.baseClass;return t===a&&i===f},clone(){if(this.$$.ptr||tt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Ce(Object.create(Object.getPrototypeOf(this),{$$:{value:Wr(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||tt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&O("Object already scheduled for deletion"),At(this),Mt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||tt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&O("Object already scheduled for deletion"),De.push(this),De.length===1&&Ie&&Ie(nt),this.$$.deleteScheduled=!0,this}})};function ke(){}var Be=(e,t)=>Object.defineProperty(t,"name",{value:e}),Gt=(e,t,i)=>{if(e[t].overloadTable===void 0){var a=e[t];e[t]=function(...f){return e[t].overloadTable.hasOwnProperty(f.length)||O(`Function '${i}' called with an invalid number of arguments (${f.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[f.length].apply(this,f)},e[t].overloadTable=[],e[t].overloadTable[a.argCount]=a}},Ft=(e,t,i)=>{o.hasOwnProperty(e)?((i===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[i]!==void 0)&&O(`Cannot register public name '${e}' twice`),Gt(o,e,e),o.hasOwnProperty(i)&&O(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),o[e].overloadTable[i]=t):(o[e]=t,i!==void 0&&(o[e].numArguments=i))},en=48,tn=57,rn=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=en&&t<=tn?`_${e}`:e};function nn(e,t,i,a,f,d,P,_){this.name=e,this.constructor=t,this.instancePrototype=i,this.rawDestructor=a,this.baseClass=f,this.getActualType=d,this.upcast=P,this.downcast=_,this.pureVirtualFunctions=[]}var it=(e,t,i)=>{for(;t!==i;)t.upcast||O(`Expected null or instance of ${i.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function on(e,t){if(t===null)return this.isReference&&O(`null is not a valid ${this.name}`),0;t.$$||O(`Cannot pass "${lt(t)}" as a ${this.name}`),t.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`);var i=t.$$.ptrType.registeredClass,a=it(t.$$.ptr,i,this.registeredClass);return a}function an(e,t){var i;if(t===null)return this.isReference&&O(`null is not a valid ${this.name}`),this.isSmartPointer?(i=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,i),i):0;(!t||!t.$$)&&O(`Cannot pass "${lt(t)}" as a ${this.name}`),t.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&O(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var a=t.$$.ptrType.registeredClass;if(i=it(t.$$.ptr,a,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&O("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?i=t.$$.smartPtr:O(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:i=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)i=t.$$.smartPtr;else{var f=t.clone();i=this.rawShare(i,qe.toHandle(()=>f.delete())),e!==null&&e.push(this.rawDestructor,i)}break;default:O("Unsupporting sharing policy")}return i}function sn(e,t){if(t===null)return this.isReference&&O(`null is not a valid ${this.name}`),0;t.$$||O(`Cannot pass "${lt(t)}" as a ${this.name}`),t.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&O(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var i=t.$$.ptrType.registeredClass,a=it(t.$$.ptr,i,this.registeredClass);return a}function xe(e){return this.fromWireType(x[e>>>2>>>0])}var ln=()=>{Object.assign(Ue.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:le,readValueFromPointer:xe,fromWireType:Qr})};function Ue(e,t,i,a,f,d,P,_,I,L,A){this.name=e,this.registeredClass=t,this.isReference=i,this.isConst=a,this.isSmartPointer=f,this.pointeeType=d,this.sharingPolicy=P,this.rawGetPointee=_,this.rawConstructor=I,this.rawShare=L,this.rawDestructor=A,!f&&t.baseClass===void 0?a?(this.toWireType=on,this.destructorFunction=null):(this.toWireType=sn,this.destructorFunction=null):this.toWireType=an}var Vt=(e,t,i)=>{o.hasOwnProperty(e)||Ne("Replacing nonexistent public symbol"),o[e].overloadTable!==void 0&&i!==void 0?o[e].overloadTable[i]=t:(o[e]=t,o[e].argCount=i)},un=(e,t,i)=>{var a=o["dynCall_"+e];return a(t,...i)},je=[],Nt,Ot=e=>{var t=je[e];return t||(e>=je.length&&(je.length=e+1),je[e]=t=Nt.get(e)),t},cn=(e,t,i=[])=>{if(e.includes("j"))return un(e,t,i);var a=Ot(t)(...i);return a},fn=(e,t)=>(...i)=>cn(e,t,i),me=(e,t)=>{e=ee(e);function i(){return e.includes("j")?fn(e,t):Ot(t)}var a=i();return typeof a!="function"&&O(`unknown function pointer with signature ${e}: ${t}`),a},bn=(e,t)=>{var i=Be(t,function(a){this.name=t,this.message=a;var f=new Error(a).stack;f!==void 0&&(this.stack=this.toString()+`
`+f.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},i},kt,Bt=e=>{var t=Jt(e),i=ee(t);return ie(t),i},We=(e,t)=>{var i=[],a={};function f(d){if(!a[d]&&!ge[d]){if(Ve[d]){Ve[d].forEach(f);return}i.push(d),a[d]=!0}}throw t.forEach(f),new kt(`${e}: `+i.map(Bt).join([", "]))};function gn(e,t,i,a,f,d,P,_,I,L,A,G,k){e>>>=0,t>>>=0,i>>>=0,a>>>=0,f>>>=0,d>>>=0,P>>>=0,_>>>=0,I>>>=0,L>>>=0,A>>>=0,G>>>=0,k>>>=0,A=ee(A),d=me(f,d),_&&(_=me(P,_)),L&&(L=me(I,L)),k=me(G,k);var W=rn(A);Ft(W,function(){We(`Cannot construct ${A} due to unbound types`,[a])}),_e([e,t,i],a?[a]:[],z=>{var Ye;z=z[0];var ce,te;a?(ce=z.registeredClass,te=ce.instancePrototype):te=ke.prototype;var fe=Be(A,function(...gt){if(Object.getPrototypeOf(this)!==T)throw new Se("Use 'new' to construct "+A);if(M.constructor_body===void 0)throw new Se(A+" has no accessible constructor");var Zt=M.constructor_body[gt.length];if(Zt===void 0)throw new Se(`Tried to invoke ctor of ${A} with invalid number of parameters (${gt.length}) - expected (${Object.keys(M.constructor_body).toString()}) parameters instead!`);return Zt.apply(this,gt)}),T=Object.create(te,{constructor:{value:fe}});fe.prototype=T;var M=new nn(A,fe,T,k,ce,d,_,L);M.baseClass&&((Ye=M.baseClass).__derivedClasses??(Ye.__derivedClasses=[]),M.baseClass.__derivedClasses.push(M));var Q=new Ue(A,M,!0,!1,!1),H=new Ue(A+"*",M,!1,!1,!1),pe=new Ue(A+" const*",M,!1,!0,!1);return $t[e]={pointerType:H,constPointerType:pe},Vt(W,fe),[Q,H,pe]})}var ot=(e,t)=>{for(var i=[],a=0;a<e;a++)i.push(x[t+a*4>>>2>>>0]);return i},mn=e=>{for(;e.length;){var t=e.pop(),i=e.pop();i(t)}};function xt(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function pn(e,t){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var i=Be(e.name||"unknownFunctionName",function(){});i.prototype=e.prototype;var a=new i,f=e.apply(a,t);return f instanceof Object?f:a}function dn(e,t,i,a){for(var f=xt(e),d=e.length,P="",_="",I=0;I<d-2;++I)P+=(I!==0?", ":"")+"arg"+I,_+=(I!==0?", ":"")+"arg"+I+"Wired";var L=`
        return function (${P}) {
        if (arguments.length !== ${d-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${d-2}');
        }`;f&&(L+=`var destructors = [];
`);var A=f?"destructors":"null",G=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];t&&(L+="var thisWired = classParam['toWireType']("+A+`, this);
`);for(var I=0;I<d-2;++I)L+="var arg"+I+"Wired = argType"+I+"['toWireType']("+A+", arg"+I+`);
`,G.push("argType"+I);t&&(_="thisWired"+(_.length>0?", ":"")+_),L+=(i||a?"var rv = ":"")+"invoker(fn"+(_.length>0?", ":"")+_+`);
`;var k=i?"rv":"";if(f)L+=`runDestructors(destructors);
`;else for(var I=t?1:2;I<e.length;++I){var W=I===1?"thisWired":"arg"+(I-2)+"Wired";e[I].destructorFunction!==null&&(L+=`${W}_dtor(${W});
`,G.push(`${W}_dtor`))}return i&&(L+=`var ret = retType['fromWireType'](rv);
return ret;
`),L+=`}
`,[G,L]}function at(e,t,i,a,f,d){var P=t.length;P<2&&O("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var _=t[1]!==null&&i!==null,I=xt(t),L=t[0].name!=="void",A=[e,O,a,f,mn,t[0],t[1]],G=0;G<P-2;++G)A.push(t[G+2]);if(!I)for(var G=_?1:2;G<t.length;++G)t[G].destructorFunction!==null&&A.push(t[G].destructorFunction);let[k,W]=dn(t,_,L,d);k.push(W);var z=pn(Function,k)(...A);return Be(e,z)}var yn=function(e,t,i,a,f,d){e>>>=0,i>>>=0,a>>>=0,f>>>=0,d>>>=0;var P=ot(t,i);f=me(a,f);var _=[d],I=[];_e([],[e],L=>{L=L[0];var A=`constructor ${L.name}`;if(L.registeredClass.constructor_body===void 0&&(L.registeredClass.constructor_body=[]),L.registeredClass.constructor_body[t-1]!==void 0)throw new Se(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${L.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return L.registeredClass.constructor_body[t-1]=()=>{We(`Cannot construct ${L.name} due to unbound types`,P)},_e([],P,G=>(G.splice(1,0,null),L.registeredClass.constructor_body[t-1]=at(A,G,null,f,d),[])),[]})},Ut=e=>{e=e.trim();let t=e.indexOf("(");return t!==-1?e.substr(0,t):e},hn=function(e,t,i,a,f,d,P,_,I){e>>>=0,t>>>=0,a>>>=0,f>>>=0,d>>>=0,P>>>=0;var L=ot(i,a);t=ee(t),t=Ut(t),d=me(f,d),_e([],[e],A=>{A=A[0];var G=`${A.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),_&&A.registeredClass.pureVirtualFunctions.push(t);function k(){We(`Cannot call ${G} due to unbound types`,L)}var W=A.registeredClass.instancePrototype,z=W[t];return z===void 0||z.overloadTable===void 0&&z.className!==A.name&&z.argCount===i-2?(k.argCount=i-2,k.className=A.name,W[t]=k):(Gt(W,t,G),W[t].overloadTable[i-2]=k),_e([],L,ce=>{var te=at(G,ce,A,d,P,I);return W[t].overloadTable===void 0?(te.argCount=i-2,W[t]=te):W[t].overloadTable[i-2]=te,[]}),[]})},st=[],ue=[];function vn(e){e>>>=0,e>9&&--ue[e+1]===0&&(ue[e]=void 0,st.push(e))}var Sn=()=>ue.length/2-5-st.length,_n=()=>{ue.push(0,1,void 0,1,null,1,!0,1,!1,1),o.count_emval_handles=Sn},qe={toValue:e=>(e||O("Cannot use deleted val. handle = "+e),ue[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let t=st.pop()||ue.length;return ue[t]=e,ue[t+1]=1,t}}}},Pn={name:"emscripten::val",fromWireType:e=>{var t=qe.toValue(e);return vn(e),t},toWireType:(e,t)=>qe.toHandle(t),argPackAdvance:le,readValueFromPointer:xe,destructorFunction:null};function Dn(e){return e>>>=0,ne(e,Pn)}var lt=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},In=(e,t)=>{switch(t){case 4:return function(i){return this.fromWireType(Me[i>>>2>>>0])};case 8:return function(i){return this.fromWireType(Re[i>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Tn=function(e,t,i){e>>>=0,t>>>=0,i>>>=0,t=ee(t),ne(e,{name:t,fromWireType:a=>a,toWireType:(a,f)=>f,argPackAdvance:le,readValueFromPointer:In(t,i),destructorFunction:null})};function Cn(e,t,i,a,f,d,P){e>>>=0,i>>>=0,a>>>=0,f>>>=0,d>>>=0;var _=ot(t,i);e=ee(e),e=Ut(e),f=me(a,f),Ft(e,function(){We(`Cannot call ${e} due to unbound types`,_)},t-1),_e([],_,I=>{var L=[I[0],null].concat(I.slice(1));return Vt(e,at(e,L,null,f,d,P),t-1),[]})}var Ln=(e,t,i)=>{switch(t){case 1:return i?a=>J[a>>>0]:a=>X[a>>>0];case 2:return i?a=>se[a>>>1>>>0]:a=>Ae[a>>>1>>>0];case 4:return i?a=>j[a>>>2>>>0]:a=>x[a>>>2>>>0];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function wn(e,t,i,a,f){e>>>=0,t>>>=0,i>>>=0,t=ee(t),f===-1&&(f=4294967295);var d=A=>A;if(a===0){var P=32-8*i;d=A=>A<<P>>>P}var _=t.includes("unsigned"),I=(A,G)=>{},L;_?L=function(A,G){return I(G,this.name),G>>>0}:L=function(A,G){return I(G,this.name),G},ne(e,{name:t,fromWireType:d,toWireType:L,argPackAdvance:le,readValueFromPointer:Ln(t,i,a!==0),destructorFunction:null})}function En(e,t,i){e>>>=0,i>>>=0;var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],f=a[t];function d(P){var _=x[P>>>2>>>0],I=x[P+4>>>2>>>0];return new f(J.buffer,I,_)}i=ee(i),ne(e,{name:i,fromWireType:d,argPackAdvance:le,readValueFromPointer:d},{ignoreDuplicateRegistrations:!0})}var jt=(e,t,i,a)=>{if(i>>>=0,!(a>0))return 0;for(var f=i,d=i+a-1,P=0;P<e.length;++P){var _=e.charCodeAt(P);if(_>=55296&&_<=57343){var I=e.charCodeAt(++P);_=65536+((_&1023)<<10)|I&1023}if(_<=127){if(i>=d)break;t[i++>>>0]=_}else if(_<=2047){if(i+1>=d)break;t[i++>>>0]=192|_>>6,t[i++>>>0]=128|_&63}else if(_<=65535){if(i+2>=d)break;t[i++>>>0]=224|_>>12,t[i++>>>0]=128|_>>6&63,t[i++>>>0]=128|_&63}else{if(i+3>=d)break;t[i++>>>0]=240|_>>18,t[i++>>>0]=128|_>>12&63,t[i++>>>0]=128|_>>6&63,t[i++>>>0]=128|_&63}}return t[i>>>0]=0,i-f},An=(e,t,i)=>jt(e,X,t,i),Wt=e=>{for(var t=0,i=0;i<e.length;++i){var a=e.charCodeAt(i);a<=127?t++:a<=2047?t+=2:a>=55296&&a<=57343?(t+=4,++i):t+=3}return t};function Mn(e,t){e>>>=0,t>>>=0,t=ee(t);var i=t==="std::string";ne(e,{name:t,fromWireType(a){var f=x[a>>>2>>>0],d=a+4,P;if(i)for(var _=d,I=0;I<=f;++I){var L=d+I;if(I==f||X[L>>>0]==0){var A=L-_,G=Fe(_,A);P===void 0?P=G:(P+=String.fromCharCode(0),P+=G),_=L+1}}else{for(var k=new Array(f),I=0;I<f;++I)k[I]=String.fromCharCode(X[d+I>>>0]);P=k.join("")}return ie(a),P},toWireType(a,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var d,P=typeof f=="string";P||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array||O("Cannot pass non-string to std::string"),i&&P?d=Wt(f):d=f.length;var _=bt(4+d+1),I=_+4;if(x[_>>>2>>>0]=d,i&&P)An(f,I,d+1);else if(P)for(var L=0;L<d;++L){var A=f.charCodeAt(L);A>255&&(ie(I),O("String has UTF-16 code units that do not fit in 8 bits")),X[I+L>>>0]=A}else for(var L=0;L<d;++L)X[I+L>>>0]=f[L];return a!==null&&a.push(ie,_),_},argPackAdvance:le,readValueFromPointer:xe,destructorFunction(a){ie(a)}})}var qt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Rn=(e,t)=>{for(var i=e,a=i>>1,f=a+t/2;!(a>=f)&&Ae[a>>>0];)++a;if(i=a<<1,i-e>32&&qt)return qt.decode(X.subarray(e>>>0,i>>>0));for(var d="",P=0;!(P>=t/2);++P){var _=se[e+P*2>>>1>>>0];if(_==0)break;d+=String.fromCharCode(_)}return d},$n=(e,t,i)=>{if(i??(i=2147483647),i<2)return 0;i-=2;for(var a=t,f=i<e.length*2?i/2:e.length,d=0;d<f;++d){var P=e.charCodeAt(d);se[t>>>1>>>0]=P,t+=2}return se[t>>>1>>>0]=0,t-a},Gn=e=>e.length*2,Fn=(e,t)=>{for(var i=0,a="";!(i>=t/4);){var f=j[e+i*4>>>2>>>0];if(f==0)break;if(++i,f>=65536){var d=f-65536;a+=String.fromCharCode(55296|d>>10,56320|d&1023)}else a+=String.fromCharCode(f)}return a},Vn=(e,t,i)=>{if(t>>>=0,i??(i=2147483647),i<4)return 0;for(var a=t,f=a+i-4,d=0;d<e.length;++d){var P=e.charCodeAt(d);if(P>=55296&&P<=57343){var _=e.charCodeAt(++d);P=65536+((P&1023)<<10)|_&1023}if(j[t>>>2>>>0]=P,t+=4,t+4>f)break}return j[t>>>2>>>0]=0,t-a},Nn=e=>{for(var t=0,i=0;i<e.length;++i){var a=e.charCodeAt(i);a>=55296&&a<=57343&&++i,t+=4}return t},On=function(e,t,i){e>>>=0,t>>>=0,i>>>=0,i=ee(i);var a,f,d,P;t===2?(a=Rn,f=$n,P=Gn,d=_=>Ae[_>>>1>>>0]):t===4&&(a=Fn,f=Vn,P=Nn,d=_=>x[_>>>2>>>0]),ne(e,{name:i,fromWireType:_=>{for(var I=x[_>>>2>>>0],L,A=_+4,G=0;G<=I;++G){var k=_+4+G*t;if(G==I||d(k)==0){var W=k-A,z=a(A,W);L===void 0?L=z:(L+=String.fromCharCode(0),L+=z),A=k+t}}return ie(_),L},toWireType:(_,I)=>{typeof I!="string"&&O(`Cannot pass non-string to C++ string type ${i}`);var L=P(I),A=bt(4+L+t);return x[A>>>2>>>0]=L/t,f(I,A+4,L+t),_!==null&&_.push(ie,A),A},argPackAdvance:le,readValueFromPointer:xe,destructorFunction(_){ie(_)}})},kn=function(e,t){e>>>=0,t>>>=0,t=ee(t),ne(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(i,a)=>{}})},Bn=1,xn=()=>Bn,Un=(e,t)=>{var i=ge[e];return i===void 0&&O(`${t} has unknown type ${Bt(e)}`),i};function jn(e,t){e>>>=0,t>>>=0,e=Un(e,"_emval_take_value");var i=e.readValueFromPointer(t);return qe.toHandle(i)}var Wn=()=>{re("")},qn=()=>Date.now(),Ht;Ht=()=>performance.now();function Hn(e,t,i){return e>>>=0,t>>>=0,i>>>=0,X.copyWithin(e>>>0,t>>>0,t+i>>>0)}var zn=()=>3221225472,Yn=e=>{var t=R.buffer,i=(e-t.byteLength+65535)/65536;try{return R.grow(i),dt(),1}catch{}};function Kn(e){e>>>=0;var t=X.length,i=zn();if(e>i)return!1;for(var a=(I,L)=>I+(L-I%L)%L,f=1;f<=4;f*=2){var d=t*(1+.2/f);d=Math.min(d,e+100663296);var P=Math.min(i,a(Math.max(e,d),65536)),_=Yn(P);if(_)return!0}return!1}var ut={},Jn=()=>b||"./this.program",Le=()=>{if(!Le.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Jn()};for(var i in ut)ut[i]===void 0?delete t[i]:t[i]=ut[i];var a=[];for(var i in t)a.push(`${i}=${t[i]}`);Le.strings=a}return Le.strings},Xn=(e,t)=>{for(var i=0;i<e.length;++i)J[t++>>>0]=e.charCodeAt(i);J[t>>>0]=0},Qn=function(e,t){e>>>=0,t>>>=0;var i=0;return Le().forEach((a,f)=>{var d=t+i;x[e+f*4>>>2>>>0]=d,Xn(a,d),i+=a.length+1}),0},Zn=function(e,t){e>>>=0,t>>>=0;var i=Le();x[e>>>2>>>0]=i.length;var a=0;return i.forEach(f=>a+=f.length+1),x[t>>>2>>>0]=a,0},ei=0,ti=()=>Tr||ei>0,ri=e=>{Qe=e,ti()||(o.onExit?.(e),Xe=!0),v(e,new Ir(e))},ni=(e,t)=>{Qe=e,ri(e)},ii=ni,oi=e=>52;function ai(e,t){t>>>=0;var i=0,a=0,f=0;{var d=2;e==0?i=2:(e==1||e==2)&&(i=64),f=1}return J[t>>>0]=d,se[t+2>>>1>>>0]=f,ye=[i>>>0,(Z=i,+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],j[t+8>>>2>>>0]=ye[0],j[t+12>>>2>>>0]=ye[1],ye=[a>>>0,(Z=a,+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],j[t+16>>>2>>>0]=ye[0],j[t+20>>>2>>>0]=ye[1],0}function si(e,t,i,a){return t>>>=0,i>>>=0,a>>>=0,52}function li(e,t,i,a,f){var d=Tt(t,i);return f>>>=0,70}var ct=[null,[],[]],ft=(e,t)=>{var i=ct[e];t===0||t===10?((e===1?ae:h)(Lt(i,0)),i.length=0):i.push(t)},So=()=>{ct[1].length&&ft(1,10),ct[2].length&&ft(2,10)};function ui(e,t,i,a){t>>>=0,i>>>=0,a>>>=0;for(var f=0,d=0;d<i;d++){var P=x[t>>>2>>>0],_=x[t+4>>>2>>>0];t+=8;for(var I=0;I<_;I++)ft(e,X[P+I>>>0]);f+=_}return x[a>>>2>>>0]=f,0}var He=e=>e%4===0&&(e%100!==0||e%400===0),ci=(e,t)=>{for(var i=0,a=0;a<=t;i+=e[a++]);return i},zt=[31,29,31,30,31,30,31,31,30,31,30,31],Yt=[31,28,31,30,31,30,31,31,30,31,30,31],fi=(e,t)=>{for(var i=new Date(e.getTime());t>0;){var a=He(i.getFullYear()),f=i.getMonth(),d=(a?zt:Yt)[f];if(t>d-i.getDate())t-=d-i.getDate()+1,i.setDate(1),f<11?i.setMonth(f+1):(i.setMonth(0),i.setFullYear(i.getFullYear()+1));else return i.setDate(i.getDate()+t),i}return i};function bi(e,t,i){var a=i>0?i:Wt(e)+1,f=new Array(a),d=jt(e,f,0,f.length);return t&&(f.length=d),f}var gi=(e,t)=>{J.set(e,t>>>0)};function mi(e,t,i,a){e>>>=0,t>>>=0,i>>>=0,a>>>=0;var f=x[a+40>>>2>>>0],d={tm_sec:j[a>>>2>>>0],tm_min:j[a+4>>>2>>>0],tm_hour:j[a+8>>>2>>>0],tm_mday:j[a+12>>>2>>>0],tm_mon:j[a+16>>>2>>>0],tm_year:j[a+20>>>2>>>0],tm_wday:j[a+24>>>2>>>0],tm_yday:j[a+28>>>2>>>0],tm_isdst:j[a+32>>>2>>>0],tm_gmtoff:j[a+36>>>2>>>0],tm_zone:f?Fe(f):""},P=Fe(i),_={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var I in _)P=P.replace(new RegExp(I,"g"),_[I]);var L=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A=["January","February","March","April","May","June","July","August","September","October","November","December"];function G(T,M,Q){for(var H=typeof T=="number"?T.toString():T||"";H.length<M;)H=Q[0]+H;return H}function k(T,M){return G(T,M,"0")}function W(T,M){function Q(pe){return pe<0?-1:pe>0?1:0}var H;return(H=Q(T.getFullYear()-M.getFullYear()))===0&&(H=Q(T.getMonth()-M.getMonth()))===0&&(H=Q(T.getDate()-M.getDate())),H}function z(T){switch(T.getDay()){case 0:return new Date(T.getFullYear()-1,11,29);case 1:return T;case 2:return new Date(T.getFullYear(),0,3);case 3:return new Date(T.getFullYear(),0,2);case 4:return new Date(T.getFullYear(),0,1);case 5:return new Date(T.getFullYear()-1,11,31);case 6:return new Date(T.getFullYear()-1,11,30)}}function ce(T){var M=fi(new Date(T.tm_year+1900,0,1),T.tm_yday),Q=new Date(M.getFullYear(),0,4),H=new Date(M.getFullYear()+1,0,4),pe=z(Q),Ye=z(H);return W(pe,M)<=0?W(Ye,M)<=0?M.getFullYear()+1:M.getFullYear():M.getFullYear()-1}var te={"%a":T=>L[T.tm_wday].substring(0,3),"%A":T=>L[T.tm_wday],"%b":T=>A[T.tm_mon].substring(0,3),"%B":T=>A[T.tm_mon],"%C":T=>{var M=T.tm_year+1900;return k(M/100|0,2)},"%d":T=>k(T.tm_mday,2),"%e":T=>G(T.tm_mday,2," "),"%g":T=>ce(T).toString().substring(2),"%G":ce,"%H":T=>k(T.tm_hour,2),"%I":T=>{var M=T.tm_hour;return M==0?M=12:M>12&&(M-=12),k(M,2)},"%j":T=>k(T.tm_mday+ci(He(T.tm_year+1900)?zt:Yt,T.tm_mon-1),3),"%m":T=>k(T.tm_mon+1,2),"%M":T=>k(T.tm_min,2),"%n":()=>`
`,"%p":T=>T.tm_hour>=0&&T.tm_hour<12?"AM":"PM","%S":T=>k(T.tm_sec,2),"%t":()=>"	","%u":T=>T.tm_wday||7,"%U":T=>{var M=T.tm_yday+7-T.tm_wday;return k(Math.floor(M/7),2)},"%V":T=>{var M=Math.floor((T.tm_yday+7-(T.tm_wday+6)%7)/7);if((T.tm_wday+371-T.tm_yday-2)%7<=2&&M++,M){if(M==53){var H=(T.tm_wday+371-T.tm_yday)%7;H!=4&&(H!=3||!He(T.tm_year))&&(M=1)}}else{M=52;var Q=(T.tm_wday+7-T.tm_yday-1)%7;(Q==4||Q==5&&He(T.tm_year%400-1))&&M++}return k(M,2)},"%w":T=>T.tm_wday,"%W":T=>{var M=T.tm_yday+7-(T.tm_wday+6)%7;return k(Math.floor(M/7),2)},"%y":T=>(T.tm_year+1900).toString().substring(2),"%Y":T=>T.tm_year+1900,"%z":T=>{var M=T.tm_gmtoff,Q=M>=0;return M=Math.abs(M)/60,M=M/60*100+M%60,(Q?"+":"-")+("0000"+M).slice(-4)},"%Z":T=>T.tm_zone,"%%":()=>"%"};P=P.replace(/%%/g,"\0\0");for(var I in te)P.includes(I)&&(P=P.replace(new RegExp(I,"g"),te[I](d)));P=P.replace(/\0\0/g,"%");var fe=bi(P,!1);return fe.length>t?0:(gi(fe,e),fe.length-1)}function pi(e,t,i,a,f){return e>>>=0,t>>>=0,i>>>=0,a>>>=0,f>>>=0,mi(e,t,i,a)}xr(),Se=o.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Et=o.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Zr(),Kr(),ln(),kt=o.UnboundTypeError=bn(Error,"UnboundTypeError"),_n();var Kt={__cxa_rethrow:Cr,__cxa_throw:wr,__syscall_dup3:Er,__syscall_faccessat:Ar,__syscall_fcntl64:Mr,__syscall_fstat64:Rr,__syscall_ftruncate64:$r,__syscall_ioctl:Gr,__syscall_lstat64:Fr,__syscall_newfstatat:Vr,__syscall_openat:Nr,__syscall_stat64:Or,__syscall_unlinkat:kr,_embind_register_bigint:Br,_embind_register_bool:jr,_embind_register_class:gn,_embind_register_class_constructor:yn,_embind_register_class_function:hn,_embind_register_emval:Dn,_embind_register_float:Tn,_embind_register_function:Cn,_embind_register_integer:wn,_embind_register_memory_view:En,_embind_register_std_string:Mn,_embind_register_std_wstring:On,_embind_register_void:kn,_emscripten_get_now_is_monotonic:xn,_emval_take_value:jn,abort:Wn,emscripten_date_now:qn,emscripten_get_now:Ht,emscripten_memcpy_js:Hn,emscripten_resize_heap:Kn,environ_get:Qn,environ_sizes_get:Zn,exit:ii,fd_close:oi,fd_fdstat_get:ai,fd_read:si,fd_seek:li,fd_write:ui,strftime_l:pi},U=Dr(),di=()=>(di=U.__wasm_call_ctors)(),bt=e=>(bt=U.malloc)(e),ie=e=>(ie=U.free)(e),Jt=e=>(Jt=U.__getTypeName)(e),yi=()=>(yi=U.stackSave)(),hi=e=>(hi=U.stackRestore)(e),vi=e=>(vi=U.stackAlloc)(e),Xt=e=>(Xt=U.__cxa_is_pointer_type)(e),Si=o.dynCall_viiij=(e,t,i,a,f,d)=>(Si=o.dynCall_viiij=U.dynCall_viiij)(e,t,i,a,f,d),_i=o.dynCall_viiiij=(e,t,i,a,f,d,P)=>(_i=o.dynCall_viiiij=U.dynCall_viiiij)(e,t,i,a,f,d,P),Pi=o.dynCall_ji=(e,t)=>(Pi=o.dynCall_ji=U.dynCall_ji)(e,t),Di=o.dynCall_vij=(e,t,i,a)=>(Di=o.dynCall_vij=U.dynCall_vij)(e,t,i,a),Ii=o.dynCall_jiii=(e,t,i,a)=>(Ii=o.dynCall_jiii=U.dynCall_jiii)(e,t,i,a),Ti=o.dynCall_jiji=(e,t,i,a,f)=>(Ti=o.dynCall_jiji=U.dynCall_jiji)(e,t,i,a,f),Ci=o.dynCall_viijii=(e,t,i,a,f,d,P)=>(Ci=o.dynCall_viijii=U.dynCall_viijii)(e,t,i,a,f,d,P),Li=o.dynCall_iiiiij=(e,t,i,a,f,d,P)=>(Li=o.dynCall_iiiiij=U.dynCall_iiiiij)(e,t,i,a,f,d,P),wi=o.dynCall_iiiiijj=(e,t,i,a,f,d,P,_,I)=>(wi=o.dynCall_iiiiijj=U.dynCall_iiiiijj)(e,t,i,a,f,d,P,_,I),Ei=o.dynCall_iiiiiijj=(e,t,i,a,f,d,P,_,I,L)=>(Ei=o.dynCall_iiiiiijj=U.dynCall_iiiiiijj)(e,t,i,a,f,d,P,_,I,L);function Ai(e){e=Object.assign({},e);var t=a=>f=>a(f)>>>0,i=a=>()=>a()>>>0;return e.malloc=t(e.malloc),e.__getTypeName=t(e.__getTypeName),e.stackSave=i(e.stackSave),e.stackAlloc=t(e.stackAlloc),e}var ze;Pe=function e(){ze||Qt(),ze||(Pe=e)};function Qt(){if(be>0||(br(),be>0))return;function e(){ze||(ze=!0,o.calledRun=!0,!Xe&&(gr(),s(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),mr()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Qt(),r.ready}})();typeof nr=="object"&&typeof mt=="object"?mt.exports=rr:typeof define=="function"&&define.amd&&define([],()=>rr)});var pt=Oi(ir(),1),we="https://cdn.jsdelivr.net/npm/geoda-wasm@latest/dist/geoda.wasm";function or(n){we=n}function ki(){return"https://cdn.jsdelivr.net/npm/geoda-wasm@latest/dist/geoda.wasm"}var Ke=null;async function F(n){return n&&or(n),Ke===null&&(Ke=(0,pt.default)(we?{locateFile:()=>we}:{})),Ke}function Bi(){Ke=null,Je=null,(0,pt.default)(we?{locateFile:()=>we}:{}).then(n=>{Je=n})}var Je=null;function xi(n){Je=n}function Ui(){return Je}async function oe(n,r,o){if(!o)throw new Error("WASM module is not initialized");if(n.point){let s=r.map(u=>u.points);return ji(s,o)}else if(n.line){let s=r.map(u=>u.lines);return Wi(s,o)}else if(n.polygon){let s=r.map(u=>u.polygons);return qi(s,o)}throw new Error("getGeometryCollectionFromBinaryGeometries: Binary geometry type is unknown.")}function ji(n,r){let o=new r.VectorDouble,s=new r.VectorDouble,u=new r.VectorUInt,l=new r.VectorUInt,g=!1;for(let v=0;v<n.length;v++){let p=n[v];if(p){let c=p.positions.value;for(let m=0;m<c.length;m+=2)o.push_back(c[m]),s.push_back(c[m+1]);let y=0;for(let m=0;m<p.featureIds.value.length;m++)(m===0||p.featureIds.value[m]!==p.featureIds.value[m-1])&&u.push_back(y),y++;for(let m=1;m<u.size();m++)l.push_back(u.get(m)-u.get(m-1));u.size()>0&&l.push_back(y-u.get(u.size()-1))}}return new r.PointCollection(o,s,u,l,g)}function Wi(n,r){let o=new r.VectorDouble,s=new r.VectorDouble,u=new r.VectorUInt,l=new r.VectorUInt,g=!1,b=0;for(let p=0;p<n.length;p++){let c=n[p];if(c){let y=c.positions.value,m=c.pathIndices.value;for(let w=0;w<y.length;w+=2)o.push_back(y[w]),s.push_back(y[w+1]);let D=0;for(let w=0;w<m.length-1;w++){let E=m[w];u.push_back(E+b),w>0&&c.featureIds.value[E]!==c.featureIds.value[E-1]&&(l.push_back(D),D=0),D+=1}l.push_back(D),b+=m[m.length-1]}}return new r.LineCollection(o,s,u,l,g)}function qi(n,r){let o=new r.VectorDouble,s=new r.VectorDouble,u=new r.VectorUInt,l=new r.VectorUInt,g=new r.VectorUInt,b=!0,v=!1,p=0;for(let y=0;y<n.length;y++){let m=n[y];if(m){let D=m.positions.value,w=m.polygonIndices.value,E=m.primitivePolygonIndices.value;for(let S=0;S<D.length;S+=2)o.push_back(D[S]),s.push_back(D[S+1]);let N=0,B=0;for(let S=0;S<w.length-1;S++){let q=w[S],ae=w[S+1];for(;E[N]<ae;)E[N]>q?l.push_back(1):l.push_back(0),u.push_back(E[N]+p),N++,B+=1;m.featureIds.value[ae]!==m.featureIds.value[ae-1]&&(g.push_back(B),B=0)}p+=E[E.length-1]}}return new r.PolygonCollection(o,s,u,l,g,b,v)}async function Eo({distanceThreshold:n,isMile:r=!1,binaryGeometryType:o,binaryGeometries:s}){if(!s||s.length===0)return[];let u=[],l=await F(),g=await oe(o,s,l);if(g){let b=l.getDistanceWeights(g,n,r);for(let v=0;v<b.size();++v){let p=b.get(v),c=Array(p.size());for(let y=0,m=p.size();y<m;++y)c[y]=p.get(y);u[v]=c}}return u}async function Ao({isMile:n=!1,binaryGeometryType:r,binaryGeometries:o}){let s=await F(),u=await oe(r,o,s);if(u){let l=s.getDistanceThresholds(u,n);return{minDistance:l.get(0),maxDistance:l.get(1),maxPairDistance:l.get(2)}}return{minDistance:0,maxDistance:0,maxPairDistance:0}}async function Fo({k:n,binaryGeometryType:r,binaryGeometries:o}){if(!o||o.length===0)return[];let s=[],u=await F(),l=await oe(r,o,u);if(l){let g=u.getNearestNeighbors(l,n);for(let b=0;b<g.size();++b){let v=g.get(b),p=Array(v.size());for(let c=0,y=v.size();c<y;++c)p[c]=v.get(c);s[b]=p}}return s}async function Bo({binaryGeometryType:n,binaryGeometries:r,isQueen:o,useCentroids:s,precisionThreshold:u=0,orderOfContiguity:l=1,includeLowerOrder:g=!1}){if(!r||r.length===0)return[];let b=[],v=await F(),p=await oe(n,r,v);if(p){let c=s||n.point||n.line?v.getPointContiguityWeights(p,o,u,l,g):v.getPolygonContiguityWeights(p,o,u,l,g);for(let y=0;y<c.size();++y){let m=c.get(y),D=Array(m.size());for(let w=0,E=m.size();w<E;++w)D[w]=m.get(w);b[y]=D}}return b}function Uo(n,r=!1){let o=n.length,s=1/0,u=0,l=0,g=0,b=0,v=0;if(r){for(let p=0;p<n.length;p++){let c=n[p].length/2;c<s&&(s=c),c>u&&(u=c),b+=c}l=b/o,v=b/(o*o),g=n.map(p=>p.length/2).sort((p,c)=>p-c)[Math.floor(o/2)]}else{for(let p=0;p<n.length;p++){let c=r?n[p].length/2:n[p].length;c<s&&(s=c),c>u&&(u=c),b+=c}l=b/o,v=b/(o*o),g=n.map(p=>p.length).sort((p,c)=>p-c)[Math.floor(o/2)]}return{numberOfObservations:o,minNeighbors:s,maxNeighbors:u,meanNeighbors:l,medianNeighbors:g,pctNoneZero:v}}function V(n){let r=[],o=n.size();for(let s=0;s<o;++s)r.push(n.get(s));return r}function Y(n){let r=[],o=n.size();for(let s=0;s<o;++s)r.push(n.get(s));return r}function K(n){let r=[],o=n.size();for(let s=0;s<o;++s)r.push(n.get(s));return r}async function zo({data:n,neighbors:r,permutation:o,significanceCutoff:s=.05,seed:u=1234567890}){let l=await F(),g=n.length,b=new l.VectorDouble;b.resize(g,0);for(let y=0;y<g;++y)b.set(y,Number(n[y]));let v=new l.VecVecUInt,p=new l.VectorUInt;for(let y=0;y<g;++y){let m=r[y]??[],D=new l.VectorUInt;for(let w=0,E=m.length;w<E;++w)D.push_back(m[w]);v.push_back(D)}let c=l.localMoran(b,v,p,s,o,u);return{isValid:c.isValid(),clusters:V(c.getClusters()),lagValues:V(c.getLagValues()),lisaValues:V(c.getLisaValues()),pValues:V(c.getPValues()),sigCategories:Y(c.getSignificanceCategories()),nn:Y(c.getNN()),labels:K(c.getLabels()),colors:K(c.getColors())}}async function Yo({data1:n,data2:r,neighbors:o,permutation:s,significanceCutoff:u=.05,seed:l=1234567890}){let g=await F(),b=n.length,v=new g.VectorDouble;v.resize(b,0);for(let D=0;D<b;++D)v.set(D,n[D]);let p=new g.VectorDouble;p.resize(b,0);for(let D=0;D<b;++D)p.set(D,r[D]);let c=new g.VecVecUInt,y=new g.VectorUInt;for(let D=0;D<b;++D){let w=o[D],E=new g.VectorUInt;for(let N=0,B=w.length;N<B;++N)E.push_back(w[N]);c.push_back(E)}let m=g.bivariateLocalMoran(v,p,c,y,u,s,l);return{isValid:m.isValid(),clusters:V(m.getClusters()),lagValues:V(m.getLagValues()),lisaValues:V(m.getLisaValues()),pValues:V(m.getPValues()),sigCategories:Y(m.getSignificanceCategories()),nn:Y(m.getNN()),labels:K(m.getLabels()),colors:K(m.getColors())}}async function Qo({data:n,neighbors:r,permutation:o,significanceCutoff:s=.05,seed:u=1234567890}){return Hi({data:n,neighbors:r,permutation:o,significanceCutoff:s,seed:u,isGStar:!0})}async function Hi({data:n,neighbors:r,permutation:o,significanceCutoff:s=.05,seed:u=1234567890,isGStar:l=!1}){let g=await F(),b=n.length,v=new g.VectorDouble;v.resize(b,0);for(let m=0;m<b;++m)v.set(m,Number(n[m]));let p=new g.VectorUInt,c=new g.VecVecUInt;for(let m=0;m<b;++m){let D=r[m]??[],w=new g.VectorUInt;for(let E=0,N=D.length;E<N;++E)w.push_back(D[E]);c.push_back(w)}let y=g.localG(v,c,p,s,o,u,l?1:0);return{isValid:y.isValid(),clusters:V(y.getClusters()),lagValues:V(y.getLagValues()),lisaValues:V(y.getLisaValues()),pValues:V(y.getPValues()),sigCategories:Y(y.getSignificanceCategories()),nn:Y(y.getNN()),labels:K(y.getLabels()),colors:K(y.getColors())}}async function ra({data:n,neighbors:r,permutation:o,significanceCutoff:s=.05,seed:u=1234567890}){let l=await F(),g=n.length,b=new l.VectorDouble;b.resize(g,0);for(let y=0;y<g;++y)b.set(y,Number(n[y]));let v=new l.VecVecUInt,p=new l.VectorUInt;for(let y=0;y<g;++y){let m=r[y]??[],D=new l.VectorUInt;for(let w=0,E=m.length;w<E;++w)D.push_back(m[w]);v.push_back(D)}let c=l.localGeary(b,v,p,s,o,u);return{isValid:c.isValid(),clusters:V(c.getClusters()),lagValues:V(c.getLagValues()),lisaValues:V(c.getLisaValues()),pValues:V(c.getPValues()),sigCategories:Y(c.getSignificanceCategories()),nn:Y(c.getNN()),labels:K(c.getLabels()),colors:K(c.getColors())}}async function na({data:n,neighbors:r,permutation:o,significanceCutoff:s=.05,seed:u=1234567890}){let l=await F(),g=r.length,b=new l.VecVecDouble;for(let y=0;y<n.length;++y){let m=new l.VectorDouble;for(let D=0;D<n[y].length;++D)m.push_back(n[y][D]);b.push_back(m)}let v=new l.VecVecUInt,p=new l.VecVecUInt;for(let y=0;y<g;++y){let m=r[y],D=new l.VectorUInt;for(let w=0,E=m.length;w<E;++w)D.push_back(m[w]);v.push_back(D)}let c=l.multivariateLocalGeary(b,v,p,s,o,u);return{isValid:c.isValid(),clusters:V(c.getClusters()),lagValues:V(c.getLagValues()),lisaValues:V(c.getLisaValues()),pValues:V(c.getPValues()),sigCategories:Y(c.getSignificanceCategories()),nn:Y(c.getNN()),labels:K(c.getLabels()),colors:K(c.getColors())}}async function sa({k:n,quantile:r,data:o,neighbors:s,permutation:u,significanceCutoff:l=.05,seed:g=1234567890}){let b=await F(),v=o.length,p=new b.VectorDouble;p.resize(v,0);for(let D=0;D<v;++D)p.set(D,Number(o[D]));let c=new b.VectorUInt,y=new b.VecVecUInt;for(let D=0;D<v;++D){let w=s[D]??[],E=new b.VectorUInt;for(let N=0,B=w.length;N<B;++N)E.push_back(w[N]);y.push_back(E)}let m=b.quantileLisa(n,r,p,y,c,l,u,g);return{isValid:m.isValid(),clusters:V(m.getClusters()),lagValues:V(m.getLagValues()),lisaValues:V(m.getLisaValues()),pValues:V(m.getPValues()),sigCategories:Y(m.getSignificanceCategories()),nn:Y(m.getNN()),labels:K(m.getLabels()),colors:K(m.getColors())}}function ua(n,r,o=!0,s,u){let l=n.length,g=s===void 0,b=new Array(l).fill(0);for(let v=0;v<l;v++){let p=0,c=0,y=!1,m=r[v];for(let D=0;D<m.length;D++){if(v===m[D]){y=!0;continue}g?(p+=n[m[D]],c+=1):(p+=n[m[D]]*s[v][D],c+=s[v][D])}g?(u&&(p+=n[v],c+=1),o&&(p=c>0?p/c:0)):(o&&(p=c>0?p/c:0),u&&(y?p+=n[v]*s[v][m.length]:p+=n[v])),b[v]=p}return b}function ca(n,r){let o=n.length,s=new Array(o).fill(0);for(let u=0;u<o;u++){let l=r[u].filter(v=>v!==u),g=l.map(v=>n[v]);g.sort((v,p)=>v-p);let b=Math.floor(l.length/2);l.length%2===0?s[u]=(g[b-1]+g[b])/2:s[u]=g[b]}return s}var zi=(g=>(g.RawRates="Raw Rates",g.ExcessRisk="Excess Risk",g.EmpiricalRisk="Empirical Risk",g.SpatialRates="Spatial Rates",g.SpatialEmpiricalRates="Spatial Empirical Rates",g.EBRateStandardization="EB Rate Standardization",g))(zi||{});function ba({eventValues:n,baseValues:r,method:o,neighbors:s}){switch(o){case"Raw Rates":return Yi(r,n);case"Excess Risk":return Ki(r,n);case"Empirical Risk":return Ji(r,n);case"Spatial Rates":return s?Qi(r,n,s):[];case"Spatial Empirical Rates":return s?Xi(r,n,s):[];case"EB Rate Standardization":return Zi(r,n);default:return[]}}function Yi(n,r){let o=n.length,s=new Array(o).fill(0);for(let u=0;u<o;u++)n[u]>0?s[u]=r[u]/n[u]:s[u]=0;return s}function Ki(n,r){let o=n.length,s=new Array(o).fill(0),u=0,l=0;for(let b=0;b<o;b++)u+=n[b],l+=r[b];let g=1;u>0&&(g=l/u);for(let b=0;b<o;b++){let v=n[b]*g;v>0?s[b]=r[b]/v:s[b]=0}return s}function Ji(n,r){let o=n.length,s=new Array(o).fill(0),u=new Array(o).fill(0),l=0,g=0;for(let m=0;m<o;m++)l+=n[m],g+=r[m],n[m]>0&&(u[m]=r[m]/n[m]);let b=l>0?g/l:1,v=l/o,p=0,c=0;for(let m=0;m<o;m++)p+=Math.pow(u[m]-b,2)*n[m];let y=p/l-b/v;y<0&&(y=0);for(let m=0;m<o;m++)p=y+b/n[m],c=p>0?y/p:1,s[m]=c*u[m]+(1-c)*b;return s}function Xi(n,r,o){let s=n.length,u=new Array(s).fill(0),l=new Array(s).fill(0);for(let g=0;g<s;g++)l[g]=n[g]>0?r[g]/n[g]:1;for(let g=0;g<s;g++){let b=n[g],v=r[g],p=o[g];for(let y=0;y<p.length;y++)b+=n[p[y]],v+=r[p[y]];let c=b>0?v/b:1;if(p.length>0){let y=b/(p.length+1),m=Math.pow(l[g]-c,2)*n[g];for(let E=0;E<p.length;E++)m+=Math.pow(l[p[E]]-c,2)*n[p[E]];let D=m/b-c/y;D<0&&(D=0),m=D+c/n[g];let w=m>0?D/m:1;u[g]=w*l[g]+(1-w)*c}}return u}function Qi(n,r,o){let s=n.length,u=new Array(s).fill(0);for(let l=0;l<s;l++){let g=n[l],b=r[l],v=o[l];for(let p=0;p<v.length;p++)g+=n[v[p]],b+=r[v[p]];n[l]+g>0&&(u[l]=(r[l]+b)/(n[l]+g))}return u}function Zi(n,r){let o=n.length,s=new Array(o).fill(0),u=new Array(o).fill(0),l=0,g=0;for(let y=0;y<o;y++)l+=n[y],g+=r[y],n[y]>0&&(u[y]=r[y]/n[y]);if(l===0)return s;let b=g/l,v=0;for(let y=0;y<o;y++)v+=Math.pow(u[y]-b,2)*n[y];let p=v/l-b/(l/o),c=p>0?p:0;for(let y=0;y<o;y++){let m=n[y]>0?Math.sqrt(c+b/n[y]):0;s[y]=m>0?(u[y]-b)/m:0}return s}function ar({features:n,wasm:r}){if(!n||n.length===0)throw new Error("No features to convert");switch(n[0].geometry.type){case"Polygon":case"MultiPolygon":return eo({features:n,wasm:r});case"LineString":case"MultiLineString":return to({features:n,wasm:r});case"Point":case"MultiPoint":return ro({features:n,wasm:r});default:throw new Error("Unsupported GeoJSON geometry type")}}function eo({features:n,wasm:r,fixPolygon:o,convertToUTM:s}){let u=0,l=new r.VectorDouble,g=new r.VectorDouble,b=new r.VectorUInt,v=new r.VectorUInt,p=new r.VectorUInt;function c(m,D){b.push_back(u),v.push_back(0);for(let w=0,E=m.length;w<E;++w){let N=m[w];w>0&&(b.push_back(u),v.push_back(1)),N.length>0&&(D+=1);for(let B=0,S=N.length;B<S;++B){let q=N[B];l.push_back(q[0]),g.push_back(q[1]),u+=1}}return D}for(let m=0,D=n.length;m<D;++m){let w=n[m],E=0;if(w.geometry.type==="MultiPolygon")for(let N=0,B=w.geometry.coordinates.length;N<B;++N){let S=w.geometry.coordinates[N];E=c(S,E)}else w.geometry.type==="Polygon"&&(E=c(w.geometry.coordinates,E));p.push_back(E)}return new r.PolygonCollection(l,g,b,v,p,o??!1,s??!1)}function to({features:n,wasm:r,convertToUTM:o}){let s=0,u=new r.VectorDouble,l=new r.VectorDouble,g=new r.VectorUInt,b=new r.VectorUInt;function v(c){g.push_back(s);let y=!1;for(let m=0,D=c.length;m<D;++m){let w=c[m];u.push_back(w[0]),l.push_back(w[1]),s+=1,y=!0}return y}for(let c=0,y=n.length;c<y;++c){let m=n[c],D=0;if(m.geometry.type==="MultiLineString")for(let w=0,E=m.geometry.coordinates.length;w<E;++w)v(m.geometry.coordinates[w])&&(D+=1);else m.geometry.type==="LineString"&&v(m.geometry.coordinates)&&(D+=1);b.push_back(D)}return new r.LineCollection(u,l,g,b,o??!1)}function ro({features:n,wasm:r,convertToUTM:o}){let s=0,u=new r.VectorDouble,l=new r.VectorDouble,g=new r.VectorUInt,b=new r.VectorUInt;function v(c){let y=!1;return c.length>=2&&(u.push_back(c[0]),l.push_back(c[1]),y=!0),s+=1,y}for(let c=0,y=n.length;c<y;++c){let m=n[c],D=0;if(m.geometry.type==="MultiPoint"){g.push_back(s);for(let w=0,E=m.geometry.coordinates.length;w<E;++w)v(m.geometry.coordinates[w])&&(D+=1)}else m.geometry.type==="Point"&&(g.push_back(s),v(m.geometry.coordinates)&&(D+=1));b.push_back(D)}return new r.PointCollection(u,l,g,b,o??!1)}function ma({lat:n,lng:r,wasm:o,start:s,end:u}){let l=0,g=new o.VectorDouble,b=new o.VectorDouble,v=new o.VectorUInt,p=new o.VectorUInt;for(let m=s??0,D=u??n.length;m<D;++m)p.push_back(1),v.push_back(l),g.push_back(r[m]),b.push_back(n[m]),l+=1;let c=!1;return new o.PointCollection(g,b,v,p,c)}function sr({pointLayerData:n,wasm:r}){if(!n||n.length===0)throw new Error("No pointLayerData to convert");let o=new r.VectorDouble,s=new r.VectorDouble,u=new r.VectorUInt,l=new r.VectorUInt;for(let b=0,v=n.length;b<v;++b){let p=n[b];o.push_back(p.position[0]),s.push_back(p.position[1]),l.push_back(1),u.push_back(b)}return new r.PointCollection(o,s,u,l,!1)}var no=(l=>(l.GeoJsonFeature="GeoJsonFeature",l.BinaryFeatureCollection="BinaryFeatureCollection",l.PointLayerData="PointLayerData",l.ArcLayerData="ArcLayerData",l.HexagonIdLayerData="HexagonIdLayerData",l))(no||{});function io(n){return typeof n=="object"&&n!==null&&"type"in n&&n.type==="Feature"}function oo(n){return typeof n=="object"&&n!==null&&"points"in n&&"lines"in n&&"polygons"in n}function ao(n){return typeof n=="object"&&n!==null&&"position"in n&&"index"in n}function so(n){return typeof n=="object"&&n!==null&&"sourcePosition"in n&&"targetPosition"in n}function lo(n){return typeof n=="object"&&n!==null&&"id"in n&&"centroid"in n}function uo(n){if(!n)throw new Error("CheckGeometryType: Geometry type is unknown.");if(Array.isArray(n)){let r=n[0];if(oo(r))return"BinaryFeatureCollection";if(io(r))return"GeoJsonFeature";if(ao(r))return"PointLayerData";if(so(r))return"ArcLayerData";if(lo(r))return"HexagonIdLayerData"}throw new Error("CheckGeometryType: Geometry type is unknown.")}async function Pa({leftGeometries:n,rightGeometries:r}){if(!n||!r)return[];try{let o=await F(),s=await lr({geometries:n,wasmInstance:o}),u=await lr({geometries:r,wasmInstance:o});return await fo({leftGeomCollection:s,rightGeomCollection:u})}catch(o){throw console.error(o),o}}function co(n){return n[0]?.lines?.featureIds?.value?.length||0>0?{point:!1,line:!0,polygon:!1}:n[0]?.polygons?.featureIds?.value?.length||0>0?{point:!1,line:!1,polygon:!0}:{point:!0,line:!1,polygon:!1}}async function lr({geometries:n,wasmInstance:r}){switch(uo(n)){case"BinaryFeatureCollection":let s=co(n);if(!s)throw new Error("Binary geometry type is required.");return await oe(s,n,r);case"GeoJsonFeature":return await ar({features:n,wasm:r});case"PointLayerData":return await sr({pointLayerData:n,wasm:r});default:throw new Error("Geometry type is unknown.")}}async function fo({leftGeomCollection:n,rightGeomCollection:r}){let o=[],u=(await F()).spatialJoin(n,r);for(let l=0;l<u.size();l++){let g=u.get(l),b=[];for(let v=0;v<g.size();v++)b.push(g.get(v));o.push(b)}return o}async function Ca(n,r){let o=await F(),s=r.length,u=new o.VectorUInt;u.resize(s,0);let l=new o.VectorDouble;l.resize(s,0);for(let b=0;b<s;++b)l.set(b,r[b]),(r[b]===void 0||r[b]===null)&&u.set(b,1);let g=o.quantileBreaks(n,l,u);return V(g)}async function Aa(n,r){let o=await F(),s=r.length,u=new o.VectorInt;u.resize(s,0);let l=new o.VectorDouble;l.resize(s,0);for(let b=0;b<s;++b)l.set(b,r[b]),(r[b]===void 0||r[b]===null)&&u.set(b,1);let g=o.naturalBreaks(n,l,u);return V(g)}async function Ga(n,r){let o=await F(),s=r.length,u=new o.VectorInt;u.resize(s,0);let l=new o.VectorDouble;l.resize(s,0);for(let b=0;b<s;++b)l.set(b,r[b]),(r[b]===void 0||r[b]===null)&&u.set(b,1);let g=o.equalIntervalBreaks(n,l,u);return V(g)}async function Oa(n){let r=await F(),o=n.length,s=new r.VectorInt;s.resize(o,0);let u=new r.VectorDouble;u.resize(o,0);for(let g=0;g<o;++g)u.set(g,n[g]),(n[g]===void 0||n[g]===null)&&s.set(g,1);let l=r.percentileBreaks(u,s);return V(l)}async function ur(n,r){let o=await F(),s=n.length,u=new o.VectorInt;u.resize(s,0);let l=new o.VectorDouble;l.resize(s,0);for(let b=0;b<s;++b)l.set(b,n[b]),(n[b]===void 0||n[b]===null)&&u.set(b,1);let g=o.boxBreaks(l,u,r);return V(g)}async function Ua(n){return await ur(n,1.5)}async function ja(n){return await ur(n,3)}async function za(n){let r=await F(),o=n.length,s=new r.VectorInt;s.resize(o,0);let u=new r.VectorDouble;u.resize(o,0);for(let g=0;g<o;++g)u.set(g,n[g]),(n[g]===void 0||n[g]===null)&&s.set(g,1);let l=r.standardDeviationBreaks(u,s);return V(l)}async function Ja(n,r){if(n.length!==r.length)throw new Error("x and y must be of the same length");let o=await F(),s=new o.VectorDouble;s.resize(n.length,0);for(let g=0;g<n.length;++g)s.set(g,n[g]);let u=new o.VectorDouble;u.resize(r.length,0);for(let g=0;g<r.length;++g)u.set(g,r[g]);return o.dotProduct(s,u)}async function Xa({x:n,y:r,weightsId:o,weights:s,weightsValues:u,xNames:l,yName:g,datasetName:b,xUndefs:v,yUndefs:p}){let c=await F(),y=new c.VectorDouble;for(let h=0;h<r.length;++h)y.push_back(r[h]);let m=new c.VecVecDouble;for(let h=0;h<n.length;++h){let $=new c.VectorDouble;for(let R=0;R<n[h].length;++R)$.push_back(n[h][R]);m.push_back($)}let D=new c.VecVecUInt;if(s)for(let h=0;h<s.length;++h){let $=new c.VectorUInt;for(let R=0;R<s[h].length;++R)$.push_back(s[h][R]);D.push_back($)}let w=new c.VecVecDouble;if(u)for(let h=0;h<u.length;++h){let $=new c.VectorDouble;for(let R=0;R<u[h].length;++R)$.push_back(u[h][R]);w.push_back($)}let E=new c.VectorString;for(let h=0;h<l.length;++h)E.push_back(l[h]);let N=new c.VectorUInt;if(p)for(let h=0;h<p.length;++h)N.push_back(p[h]);let B=new c.VecVecUInt;if(v)for(let h=0;h<v.length;++h){let $=new c.VectorUInt;for(let R=0;R<v[h].length;++R)$.push_back(v[h][R]);B.push_back($)}let S=c.linearRegression(y,m,D,w,g,E,b,N,B),q=[];for(let h=0;h<l.length+1;++h)q.push({Variable:S.GetXVarName(h),Coefficient:S.GetCoefficient(h),"Std Error":S.GetStdError(h),"t-Statistic":S.GetZValue(h),Probability:S.GetProbability(h)});return{type:"linearRegression",dependentVariable:g,independentVariables:l,title:"ORDINARY LEAST SQUARES ESTIMATION",datasetName:b,weightsId:o,"Number of Observations":S.GetNoObservation(),"Mean Dependent Var":S.GetMeanY(),"Number of Variables":l.length+1,"SD Dependent Var":S.GetSDevY(),"Degrees of Freedom":S.GetNoObservation()-l.length-1,"R-squared":S.GetR2(),"Adjusted R-squared":S.GetR2_adjust(),"F-statistic":S.GetFtest(),"Prob(F-statistic)":S.GetFtestProb(),"Sum Squared Residual":S.GetRSS(),"Log Likelihood":S.GetLIK(),"Sigma-Square":S.GetSIQ_SQ(),"Akaike Info Criterion":S.GetAIC(),"SE of Regression":Math.sqrt(S.GetSIQ_SQ()),"Schwarz Criterion":S.GetOLS_SC(),"Sigma-Square ML":S.GetSIQ_SQLM(),"SE of Regression ML":Math.sqrt(S.GetSIQ_SQLM()),"Variable Coefficients":q,"REGRESSION DIAGNOSTICS":{"MULTICOLLINEARITY CONDITION NUMBER":S.GetConditionNumber(),"TEST ON NORMALITY OF ERRORS":{Test:"Jarque-Bera","Jarque-Bera DF":S.GetJBtest(0),"Jarque-Bera Value":S.GetJBtest(1),"Jarque-Bera Probability":S.GetJBtest(2)}},"DIAGNOSTICS FOR HETEROSKEDASTICITY":{"BREUSCH-PAGAN TEST":{Test:"Breusch-Pagan","Breusch-Pagan DF":S.GetBPtest(0),"Breusch-Pagan Value":S.GetBPtest(1),"Breusch-Pagan Probability":S.GetBPtest(2)},"KOENKER-Bassett TEST":{Test:"Koenker-Bassett","Koenker-Bassett DF":S.GetKBtest(0),"Koenker-Bassett Value":S.GetKBtest(1),"Koenker-Bassett Probability":S.GetKBtest(2)}},"DIAGNOSTICS FOR SPATIAL DEPENDENCE":{"Moran's I (error)":{Test:"Moran's I (error)","Moran's I (error)":S.GetMoranI(0),"Moran\u2019s I (error) Z":S.GetMoranI(1),"Moran\u2019s I (error) Probability":S.GetMoranI(2)},"Lagrange Multiplier (lag)":{Test:"Lagrange Multiplier (lag)","Lagrange Multiplier (lag) DF":S.GetLMLAG(0),"Lagrange Multiplier (lag) Value":S.GetLMLAG(1),"Lagrange Multiplier (lag) Probability":S.GetLMLAG(2)},"Robust LM (lag)":{Test:"Robust LM (lag)","Robust LM (lag) DF":S.GetLMLAGRob(0),"Robust LM (lag) Value":S.GetLMLAGRob(1),"Robust LM (lag) Probability":S.GetLMLAGRob(2)},"Lagrange Multiplier (error)":{Test:"Lagrange Multiplier (error)","Lagrange Multiplier (error) DF":S.GetLMERR(0),"Lagrange Multiplier (error) Value":S.GetLMERR(1),"Lagrange Multiplier (error) Probability":S.GetLMERR(2)},"Robust LM (error)":{Test:"Robust LM (error)","Robust LM (error) DF":S.GetLMERRRob(0),"Robust LM (error) Value":S.GetLMERRRob(1),"Robust LM (error) Probability":S.GetLMERRRob(2)},"Lagrange Multiplier (SARMA)":{Test:"Lagrange Multiplier (SARMA)","Lagrange Multiplier (SARMA) DF":S.GetLMSarma(0),"Lagrange Multiplier (SARMA) Value":S.GetLMSarma(1),"Lagrange Multiplier (SARMA) Probability":S.GetLMSarma(2)}}}}function Qa(n){let r="";r+=`Dataset: ${n.datasetName}
`,r+=`${n.weightsId?`Weights: ${n.weightsId}
`:""}`,r+=`Dependent Variable: ${n.dependentVariable}
`,r+=`Mean Dependent Var: ${n["Mean Dependent Var"]}
`,r+=`SD Dependent Var: ${n["SD Dependent Var"]}
`,r+=`No. Observations: ${n["Number of Observations"]}
`,r+=`Degrees of Freedom: ${n["Degrees of Freedom"]}
`,r+=`R-squared: ${n["R-squared"]}
`,r+=`Adj. R-squared: ${n["Adjusted R-squared"]}
`,r+=`F-statistic: ${n["F-statistic"]}
`,r+=`Prob(F-statistic): ${n["Prob(F-statistic)"]}
`,r+=`Log-Likelihood: ${n["Log Likelihood"]}
`,r+=`Akaike Info Criterion: ${n["Akaike Info Criterion"]}
`,r+=`Schwarz Criterion: ${n["Schwarz Criterion"]}
`,r+=`Sum squared residual: ${n["Sum Squared Residual"]}
`,r+=`Sigma-square: ${n["Sigma-Square"]}
`,r+=`SE of regression: ${n["SE of Regression"]}
`,r+=`Sigma-Square ML: ${n["Sigma-Square ML"]}
`,r+=`S.E. of regression ML: ${Math.sqrt(n["Sigma-Square ML"])}
`,r+=`Variable Coefficients:
`,r+=`Variable	Coefficient	Std. Error	t-Statistic	Probability
`;for(let l of n["Variable Coefficients"])r+=`${l.Variable}	${l.Coefficient}	${l["Std Error"]}	${l["t-Statistic"]}	${l.Probability}
`;r+=`

#REGRESSION DIAGNOSTICS*
`,r+=`Multicollinearity Condition Number: ${n["REGRESSION DIAGNOSTICS"]["MULTICOLLINEARITY CONDITION NUMBER"]}
`,r+=`Test on Normality of Errors:
`,r+=`Test	Jarque-Bera DF	Jarque-Bera Value	Jarque-Bera Probability
`;let o=n["REGRESSION DIAGNOSTICS"]["TEST ON NORMALITY OF ERRORS"];r+=`${o.Test}	${o["Jarque-Bera DF"]}	${o["Jarque-Bera Value"]}	${o["Jarque-Bera Probability"]}

`,r+=`DIAGNOSTICS FOR HETEROSKEDASTICITY
`,r+=`Breusch-Pagan Test:
`,r+=`Test	Breusch-Pagan DF	Breusch-Pagan Value	Breusch-Pagan Probability
`;let s=n["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["BREUSCH-PAGAN TEST"];r+=`${s.Test}	${s["Breusch-Pagan DF"]}	${s["Breusch-Pagan Value"]}	${s["Breusch-Pagan Probability"]}
`,r+=`Koenker-Bassett Test:
`,r+=`Test	Koenker-Bassett DF	Koenker-Bassett Value	Koenker-Bassett Probability
`;let u=n["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["KOENKER-Bassett TEST"];if(r+=`${u.Test}	${u["Koenker-Bassett DF"]}	${u["Koenker-Bassett Value"]}	${u["Koenker-Bassett Probability"]}

`,n.weightsId){r+=`DIAGNOSTICS FOR SPATIAL DEPENDENCE
`,r+=`Moran's I (error):
`,r+=`Test	Moran's I (error)	Moran\u2019s I (error) Z	Moran\u2019s I (error) Probability
`;let l=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Moran's I (error)"];r+=`${l.Test}	${l["Moran's I (error)"]}	${l["Moran\u2019s I (error) Z"]}	${l["Moran\u2019s I (error) Probability"]}
`,r+=`Lagrange Multiplier (lag):
`,r+=`Test	Lagrange Multiplier (lag) DF	Lagrange Multiplier (lag) Value	Lagrange Multiplier (lag) Probability
`;let g=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (lag)"];r+=`${g.Test}	${g["Lagrange Multiplier (lag) DF"]}	${g["Lagrange Multiplier (lag) Value"]}	${g["Lagrange Multiplier (lag) Probability"]}
`,r+=`Robust LM (lag):
`,r+=`Test	Robust LM (lag) DF	Robust LM (lag) Value	Robust LM (lag) Probability
`;let b=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (lag)"];r+=`${b.Test}	${b["Robust LM (lag) DF"]}	${b["Robust LM (lag) Value"]}	${b["Robust LM (lag) Probability"]}
`,r+=`Lagrange Multiplier (error):
`,r+=`Test	Lagrange Multiplier (error) DF	Lagrange Multiplier (error) Value	Lagrange Multiplier (error) Probability
`;let v=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (error)"];r+=`${v.Test}	${v["Lagrange Multiplier (error) DF"]}	${v["Lagrange Multiplier (error) Value"]}	${v["Lagrange Multiplier (error) Probability"]}
`,r+=`Robust LM (error):
`,r+=`Test	Robust LM (error) DF	Robust LM (error) Value	Robust LM (error) Probability
`;let p=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (error)"];r+=`${p.Test}	${p["Robust LM (error) DF"]}	${p["Robust LM (error) Value"]}	${p["Robust LM (error) Probability"]}
`,r+=`Lagrange Multiplier (SARMA):
`,r+=`Test	Lagrange Multiplier (SARMA) DF	Lagrange Multiplier (SARMA) Value	Lagrange Multiplier (SARMA) Probability
`;let c=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (SARMA)"];r+=`${c.Test}	${c["Lagrange Multiplier (SARMA) DF"]}	${c["Lagrange Multiplier (SARMA) Value"]}	${c["Lagrange Multiplier (SARMA) Probability"]}
`,r+=`Based on the spatial diagnostics, the recommended model is: ${cr(n)}
`}return r}function C(n){let r=n.toString();return r.includes(".")&&r.split(".")[1].length>4?n.toFixed(4):n.toString()}function Ee(n){let r="";r+=`Variable Coefficients: 

`,r+=`| Variable&nbsp;&nbsp; | Coefficient&nbsp;&nbsp; | Std. Error&nbsp;&nbsp; | t-Statistic | Probability |
`,r+=`|---------|-------------|------------|-------------|-------------|
`;for(let o of n["Variable Coefficients"])r+=`${o.Variable} | ${C(o.Coefficient)} | ${C(o["Std Error"])} | ${C(o["t-Statistic"])} | ${C(o.Probability)}
`;return r}function Za(n){let r="";r+=`Dataset: ${n.datasetName}
`,r+=`${n.weightsId?`Weights: ${n.weightsId}
`:""}`,r+=`|  |  |  |  |
`,r+=`|---|---|---|---|
`,r+=`|Dependent Variable |${n.dependentVariable}| No. Observations |${C(n["Number of Observations"])}|
`,r+=`|Mean Dependent Var | ${C(n["Mean Dependent Var"])}| Number of Variables | ${n["Number of Variables"]} |
`,r+=`|S.D. dependent var| ${C(n["SD Dependent Var"])}| Degrees of Freedom | ${n["Degrees of Freedom"]} |
`,r+=`&nbsp;  
`,r+=`|  |  |  |  |
`,r+=`|R-squared| ${C(n["R-squared"])}| F-statistic | ${C(n["F-statistic"])}|
`,r+=`|Adj. R-squared| ${C(n["Adjusted R-squared"])}| Prob(F-statistic)| ${C(n["Prob(F-statistic)"])}|
`,r+=`|Sum squared residual| ${C(n["Sum Squared Residual"])}|Log-Likelihood| ${C(n["Log Likelihood"])}|
`,r+=`|Sigma-square| ${C(n["Sigma-Square"])}|AIC| ${C(n["Akaike Info Criterion"])}|
`,r+=`|S.E. of regression| ${C(n["SE of Regression"])}|Schwarz Criterion| ${C(n["Schwarz Criterion"])}|
`,r+=`|Sigma-square ML| ${C(Math.sqrt(n["Sigma-Square ML"]))}|||
`,r+=`|S.E. of regression ML| ${C(Math.sqrt(n["Sigma-Square ML"]))}|||
`,r+=`&nbsp;  
`,r+=Ee(n),r+=`&nbsp;  
`,r+=`
REGRESSION DIAGNOSTICS
`,r+=`&nbsp;  
`,r+=`&nbsp;  
`,r+=`Multicollinearity Condition Number: ${C(n["REGRESSION DIAGNOSTICS"]["MULTICOLLINEARITY CONDITION NUMBER"])}

`,r+=`Test on Normality of Errors:

`,r+=`Test&nbsp;&nbsp; | DF&nbsp;&nbsp; | Value | Probability
`,r+=`-----|----------------|-------------------| -----------------------:
`;let o=n["REGRESSION DIAGNOSTICS"]["TEST ON NORMALITY OF ERRORS"];r+=`${o.Test} | ${C(o["Jarque-Bera DF"])} | ${C(o["Jarque-Bera Value"])} | ${C(o["Jarque-Bera Probability"])}

`,r+=`&nbsp;  
`,r+=`&nbsp;  
`,r+="DIAGNOSTICS FOR HETEROSKEDASTICITY",r+=`&nbsp;  
`,r+=`RANDOM COEFFICIENTS

`,r+=`| Test | DF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability|
`,r+=`|------|----|-------|------------|
`;let s=n["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["BREUSCH-PAGAN TEST"];r+=`|${s.Test}| ${C(s["Breusch-Pagan DF"])} | ${C(s["Breusch-Pagan Value"])} | ${C(s["Breusch-Pagan Probability"])}|
`;let u=n["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["KOENKER-Bassett TEST"];if(r+=`|${u.Test}| ${C(u["Koenker-Bassett DF"])} | ${C(u["Koenker-Bassett Value"])} | ${C(u["Koenker-Bassett Probability"])} |
`,n.weightsId){r+=`&nbsp;  
`,r+=`&nbsp;  
`,r+=`DIAGNOSTICS FOR SPATIAL DEPENDENCE

`,r+=`Test | MI/DF&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability
`,r+=`-----|-------|-------|------------
`;let l=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Moran's I (error)"];r+=`${l.Test} | ${C(l["Moran's I (error)"])} | ${C(l["Moran\u2019s I (error) Z"])} | ${C(l["Moran\u2019s I (error) Probability"])}
`;let g=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (lag)"];r+=`${g.Test} | ${C(g["Lagrange Multiplier (lag) DF"])} | ${C(g["Lagrange Multiplier (lag) Value"])} | ${C(g["Lagrange Multiplier (lag) Probability"])}
`;let b=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (lag)"];r+=`${b.Test} | ${C(b["Robust LM (lag) DF"])} | ${C(b["Robust LM (lag) Value"])} | ${C(b["Robust LM (lag) Probability"])}
`;let v=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (error)"];r+=`${v.Test} | ${C(v["Lagrange Multiplier (error) DF"])} | ${C(v["Lagrange Multiplier (error) Value"])} | ${C(v["Lagrange Multiplier (error) Probability"])}
`;let p=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (error)"];r+=`${p.Test} | ${C(p["Robust LM (error) DF"])} | ${C(p["Robust LM (error) Value"])} | ${C(p["Robust LM (error) Probability"])}
`;let c=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (SARMA)"];r+=`${c.Test} | ${C(c["Lagrange Multiplier (SARMA) DF"])} | ${C(c["Lagrange Multiplier (SARMA) Value"])} | ${C(c["Lagrange Multiplier (SARMA) Probability"])}
`,r+=`&nbsp;  
`,r+=`&nbsp;  
`,r+=`Based on the spatial diagnostics, the recommended model is: ${cr(n)}
`}return r}function cr(n){let r="OLS Model";if(n.weightsId){let o=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (lag)"],s=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Lagrange Multiplier (error)"];if(o["Lagrange Multiplier (lag) Probability"]<=.05&&s["Lagrange Multiplier (error) Probability"]<=.05){let u=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (lag)"],l=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["Robust LM (error)"];u["Robust LM (lag) Probability"]<=.05&&l["Robust LM (error) Probability"]<=.05?o["Lagrange Multiplier (lag) Probability"]<s["Lagrange Multiplier (error) Probability"]?r="Spatial Lag Model":r="Spatial Error Model":u["Robust LM (lag) Probability"]<=.05?r="Spatial Lag Model":l["Robust LM (error) Probability"]<=.05?r="Spatial Error Model":o["Lagrange Multiplier (lag) Probability"]<s["Lagrange Multiplier (error) Probability"]?r="Spatial Lag Model":r="Spatial Error Model"}else o["Lagrange Multiplier (lag) Probability"]<=.05?r="Spatial Lag Model":s["Lagrange Multiplier (error) Probability"]<=.05?r="Spatial Error Model":r="OLS Model"}return r}async function is({x:n,y:r,weightsId:o,weights:s,weightsValues:u,xNames:l,yName:g,datasetName:b,xUndefs:v,yUndefs:p}){let c=await F(),y=new c.VectorDouble;for(let h=0;h<r.length;++h)y.push_back(r[h]);let m=new c.VecVecDouble;for(let h=0;h<n.length;++h){let $=new c.VectorDouble;for(let R=0;R<n[h].length;++R)$.push_back(n[h][R]);m.push_back($)}let D=new c.VecVecUInt;if(s)for(let h=0;h<s.length;++h){let $=new c.VectorUInt;for(let R=0;R<s[h].length;++R)$.push_back(s[h][R]);D.push_back($)}let w=new c.VecVecDouble;if(u)for(let h=0;h<u.length;++h){let $=new c.VectorDouble;for(let R=0;R<u[h].length;++R)$.push_back(u[h][R]);w.push_back($)}let E=new c.VectorString;for(let h=0;h<l.length;++h)E.push_back(l[h]);let N=new c.VectorUInt;if(p)for(let h=0;h<p.length;++h)N.push_back(p[h]);let B=new c.VecVecUInt;if(v)for(let h=0;h<v.length;++h){let $=new c.VectorUInt;for(let R=0;R<v[h].length;++R)$.push_back(v[h][R]);B.push_back($)}let S=c.spatialLag(y,m,D,w,g,E,b,N,B),q=[];for(let h=0;h<l.length+2;++h)q.push({Variable:S.GetXVarName(h),Coefficient:S.GetCoefficient(h),"Std Error":S.GetStdError(h),"t-Statistic":S.GetZValue(h),Probability:S.GetProbability(h)});return{type:"spatialLag",dependentVariable:g,independentVariables:l,title:"SPATIAL LAG MODEL - MAXIMUM LIKELIHOOD ESTIMATION",datasetName:b,weightsId:o,"Number of Observations":S.GetNoObservation(),"Mean Dependent Var":S.GetMeanY(),"Number of Variables":l.length+1,"SD Dependent Var":S.GetSDevY(),"Degrees of Freedom":S.GetNoObservation()-l.length-1,"Lag coefficient (Rho)":S.GetCoefficient(0),"R-squared":S.GetR2(),"Log Likelihood":S.GetLIK(),"Akaike Info Criterion":S.GetAIC(),"Sigma-Square":S.GetSIQ_SQ(),"Schwarz Criterion":S.GetOLS_SC(),"SE of Regression":Math.sqrt(S.GetSIQ_SQ()),"Variable Coefficients":q,"DIAGNOSTICS FOR HETEROSKEDASTICITY":{"BREUSCH-PAGAN TEST":{Test:"Breusch-Pagan test","Breusch-Pagan DF":S.GetBPtest(0),"Breusch-Pagan Value":S.GetBPtest(1),"Breusch-Pagan Probability":S.GetBPtest(2)}},"DIAGNOSTICS FOR SPATIAL DEPENDENCE":{"LIKELIHOOD RATIO TEST":{Test:"Likelihood Ratio Test","Likelihood Ratio DF":S.GetLRTestValue(0),"Likelihood Ratio Value":S.GetLRTestValue(1),"Likelihood Ratio Probability":S.GetLRTestValue(2)}}}}function os(n){let r="";r+=`Dataset: ${n.datasetName}
`,r+=`${n.weightsId?`Weights: ${n.weightsId}
`:""}`,r+=`|  |  |  |  |
`,r+=`|---|---|---|---|
`,r+=`|Dependent Variable |${n.dependentVariable}| No. Observations |${C(n["Number of Observations"])}|
`,r+=`|Mean Dependent Var | ${C(n["Mean Dependent Var"])}| Number of Variables | ${n["Number of Variables"]} |
`,r+=`|S.D. dependent var| ${C(n["SD Dependent Var"])}| Degrees of Freedom | ${n["Degrees of Freedom"]} |
`,r+=`|Lag coefficient (Rho) | ${C(n["Lag coefficient (Rho)"])} |||
`,r+=`&nbsp;  
`,r+=`|  |  |  |  |
`,r+=`|R-squared | ${C(n["R-squared"])} | Log Likelihood | ${C(n["Log Likelihood"])} |
`,r+=`|Sq. Correlation|-|Akaike Info Criterion|${C(n["Akaike Info Criterion"])}|
`,r+=`|Sigma-Square|${C(n["Sigma-Square"])}| Schwarz Criterion | ${C(n["Schwarz Criterion"])} |
`,r+=`|SE of Regression|${C(n["SE of Regression"])}|||
`,r+=`&nbsp;  
`,r+=Ee(n),r+=`&nbsp;  
`,r+=`&nbsp;  
`,r+=`REGRESSION DIAGNOSTICS
`,r+=`DIAGNOSTICS FOR HETEROSKEDASTICITY
`,r+=`RANDOM COEFFICIENTS
`,r+=`| Test | DF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability|
`,r+=`|------|----|-------|------------|
`;let o=n["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["BREUSCH-PAGAN TEST"];r+=`|${o.Test}| ${C(o["Breusch-Pagan DF"])} | ${C(o["Breusch-Pagan Value"])} | ${C(o["Breusch-Pagan Probability"])}|
`,r+=`&nbsp;  
`,r+=`&nbsp;  
`,r+=`DIAGNOSTICS FOR SPATIAL DEPENDENCE
`,r+=`SPATIAL LAG DEPENDENCE FOR WEIGHT MATRIX
`,r+=`| Test | DF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability|
`,r+=`|------|----|-------|------------|
`;let s=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["LIKELIHOOD RATIO TEST"];return r+=`|${s.Test}| ${C(s["Likelihood Ratio DF"])} | ${C(s["Likelihood Ratio Value"])} | ${C(s["Likelihood Ratio Probability"])}|
`,r}async function cs({x:n,y:r,weightsId:o,weights:s,weightsValues:u,xNames:l,yName:g,datasetName:b,xUndefs:v,yUndefs:p}){let c=await F(),y=new c.VectorDouble;for(let h=0;h<r.length;++h)y.push_back(r[h]);let m=new c.VecVecDouble;for(let h=0;h<n.length;++h){let $=new c.VectorDouble;for(let R=0;R<n[h].length;++R)$.push_back(n[h][R]);m.push_back($)}let D=new c.VecVecUInt;if(s)for(let h=0;h<s.length;++h){let $=new c.VectorUInt;for(let R=0;R<s[h].length;++R)$.push_back(s[h][R]);D.push_back($)}let w=new c.VecVecDouble;if(u)for(let h=0;h<u.length;++h){let $=new c.VectorDouble;for(let R=0;R<u[h].length;++R)$.push_back(u[h][R]);w.push_back($)}let E=new c.VectorString;for(let h=0;h<l.length;++h)E.push_back(l[h]);let N=new c.VectorUInt;if(p)for(let h=0;h<p.length;++h)N.push_back(p[h]);let B=new c.VecVecUInt;if(v)for(let h=0;h<v.length;++h){let $=new c.VectorUInt;for(let R=0;R<v[h].length;++R)$.push_back(v[h][R]);B.push_back($)}let S=c.spatialLag(y,m,D,w,g,E,b,N,B),q=[];for(let h=0;h<l.length+2;++h)q.push({Variable:S.GetXVarName(h),Coefficient:S.GetCoefficient(h),"Std Error":S.GetStdError(h),"t-Statistic":S.GetZValue(h),Probability:S.GetProbability(h)});return{type:"spatialError",dependentVariable:g,independentVariables:l,title:"SPATIAL LAG MODEL - MAXIMUM LIKELIHOOD ESTIMATION",datasetName:b,weightsId:o,"Number of Observations":S.GetNoObservation(),"Mean Dependent Var":S.GetMeanY(),"Number of Variables":l.length+1,"SD Dependent Var":S.GetSDevY(),"Degrees of Freedom":S.GetNoObservation()-l.length,"Lag coefficient (Lambda)":S.GetCoefficient(l.length+1),"R-squared":S.GetR2(),"Log Likelihood":S.GetLIK(),"Akaike Info Criterion":S.GetAIC(),"Sigma-Square":S.GetSIQ_SQ(),"Schwarz Criterion":S.GetOLS_SC(),"SE of Regression":Math.sqrt(S.GetSIQ_SQ()),"Variable Coefficients":q,"DIAGNOSTICS FOR HETEROSKEDASTICITY":{"BREUSCH-PAGAN TEST":{Test:"Breusch-Pagan test","Breusch-Pagan DF":S.GetBPtest(0),"Breusch-Pagan Value":S.GetBPtest(1),"Breusch-Pagan Probability":S.GetBPtest(2)}},"DIAGNOSTICS FOR SPATIAL DEPENDENCE":{"LIKELIHOOD RATIO TEST":{Test:"Likelihood Ratio Test","Likelihood Ratio DF":S.GetLRTestValue(0),"Likelihood Ratio Value":S.GetLRTestValue(1),"Likelihood Ratio Probability":S.GetLRTestValue(2)}}}}function fs(n){let r="";r+=`Dataset: ${n.datasetName}
`,r+=`${n.weightsId?`Weights: ${n.weightsId}
`:""}`,r+=`|  |  |  |  |
`,r+=`|---|---|---|---|
`,r+=`|Dependent Variable |${n.dependentVariable}| No. Observations |${C(n["Number of Observations"])}|
`,r+=`|Mean Dependent Var | ${C(n["Mean Dependent Var"])}| Number of Variables | ${n["Number of Variables"]} |
`,r+=`|S.D. dependent var| ${C(n["SD Dependent Var"])}| Degrees of Freedom | ${n["Degrees of Freedom"]} |
`,r+=`|Lag coefficient (Lambda) | ${C(n["Lag coefficient (Lambda)"])} |||
`,r+=`&nbsp;  
`,r+=`|  |  |  |  |
`,r+=`|R-squared | ${C(n["R-squared"])} | Log Likelihood | ${C(n["Log Likelihood"])} |
`,r+=`|Sq. Correlation|-|Akaike Info Criterion|${C(n["Akaike Info Criterion"])}|
`,r+=`|Sigma-Square|${C(n["Sigma-Square"])}| Schwarz Criterion | ${C(n["Schwarz Criterion"])} |
`,r+=`|SE of Regression|${C(n["SE of Regression"])}|||
`,r+=`&nbsp;  
`,r+=Ee(n),r+=`&nbsp;  
`,r+=`&nbsp;  
`,r+=`REGRESSION DIAGNOSTICS
`,r+=`DIAGNOSTICS FOR HETEROSKEDASTICITY
`,r+=`RANDOM COEFFICIENTS
`,r+=`| Test | DF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability|
`,r+=`|------|----|-------|------------|
`;let o=n["DIAGNOSTICS FOR HETEROSKEDASTICITY"]["BREUSCH-PAGAN TEST"];r+=`|${o.Test}| ${C(o["Breusch-Pagan DF"])} | ${C(o["Breusch-Pagan Value"])} | ${C(o["Breusch-Pagan Probability"])}|
`,r+=`&nbsp;  
`,r+=`&nbsp;  
`,r+=`DIAGNOSTICS FOR SPATIAL DEPENDENCE
`,r+=`SPATIAL ERROR DEPENDENCE FOR WEIGHT MATRIX
`,r+=`| Test | DF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Probability|
`,r+=`|------|----|-------|------------|
`;let s=n["DIAGNOSTICS FOR SPATIAL DEPENDENCE"]["LIKELIHOOD RATIO TEST"];return r+=`|${s.Test}| ${C(s["Likelihood Ratio DF"])} | ${C(s["Likelihood Ratio Value"])} | ${C(s["Likelihood Ratio Probability"])}|
`,r}export{zi as RatesOptions,no as SpatialJoinGeometryType,Yo as bivariateLocalMoran,ba as calculateRates,Wi as createLineCollectionFromBinaryFeatures,ji as createPointCollectionFromBinaryFeatures,qi as createPolygonCollectionFromBinaryFeatures,Ja as dotProduct,Ji as empiricalBayes,Ga as equalIntervalBreaks,Ki as excessRisk,Bo as getContiguityNeighborsFromBinaryGeometries,Eo as getDistanceNeighborsFromBinaryGeometries,Ao as getDistanceThresholds,Ui as getGeoDa,ki as getGeoDaDelivery,oe as getGeometryCollectionFromBinaryGeometries,ar as getGeometryCollectionFromGeoJsonFeatures,sr as getGeometryCollectionFromPointLayerData,to as getLineCollection,Uo as getMetaFromWeights,Fo as getNearestNeighborsFromBinaryGeometries,ro as getPointCollection,ma as getPointCollectionFromLatLng,eo as getPolygonCollection,Ua as hinge15Breaks,ja as hinge30Breaks,F as initGeoDa,Xa as linearRegression,Hi as localG,Qo as localGStar,ra as localGeary,zo as localMoran,na as multivariateLocalGeary,Aa as naturalBreaks,Oa as percentileBreaks,Qa as printLinearRegressionResult,Za as printLinearRegressionResultUsingMarkdown,C as printNumber,fs as printSpatialErrorResultUsingMarkdown,os as printSpatialLagResultUsingMarkdown,Ee as printVariableCoefficients,Ca as quantileBreaks,sa as quantileLisa,Zi as rateStandardizeEB,Yi as rawRates,Bi as resetGeoDa,cr as selectSpatialModel,xi as setGeoDa,or as setGeoDaDelivery,Xi as spatialEmpiricalBayes,cs as spatialError,Pa as spatialJoin,fo as spatialJoinGeometryCollection,ua as spatialLag,ca as spatialLagMedian,is as spatialLagRegression,Qi as spatialRates,za as standardDeviationBreaks};
//# sourceMappingURL=index.js.map
