var _n=Object.create;var Tt=Object.defineProperty;var bn=Object.getOwnPropertyDescriptor;var Pn=Object.getOwnPropertyNames;var $n=Object.getPrototypeOf,Cn=Object.prototype.hasOwnProperty;var wt=(f=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(f,{get:(d,o)=>(typeof require<"u"?require:d)[o]}):f)(function(f){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+f+'" is not supported')});var Tn=(f,d)=>()=>(d||f((d={exports:{}}).exports,d),d.exports);var wn=(f,d,o,P)=>{if(d&&typeof d=="object"||typeof d=="function")for(let h of Pn(d))!Cn.call(f,h)&&h!==o&&Tt(f,h,{get:()=>d[h],enumerable:!(P=bn(d,h))||P.enumerable});return f};var An=(f,d,o)=>(o=f!=null?_n($n(f)):{},wn(d||!f||!f.__esModule?Tt(o,"default",{value:f,enumerable:!0}):o,f));var Et=Tn((Rt,He)=>{"use strict";var At=(()=>{var f=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(f=f||__filename),function(d={}){var o=d,P,h;o.ready=new Promise((e,t)=>{P=e,h=t});var R=Object.assign({},o),T=[],w="./this.program",E=(e,t)=>{throw t},O=typeof window=="object",y=typeof importScripts=="function",F=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="";function C(e){return o.locateFile?o.locateFile(e,v):v+e}var _,A,D,N;if(F){var Z=wt("fs"),ee=wt("path");y?v=ee.dirname(v)+"/":v=__dirname+"/",_=(e,t)=>(e=ge(e)?new URL(e):ee.normalize(e),Z.readFileSync(e,t?void 0:"utf8")),D=e=>{var t=_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},A=(e,t,r,n=!0)=>{e=ge(e)?new URL(e):ee.normalize(e),Z.readFile(e,n?void 0:"utf8",(i,s)=>{i?r(i):t(n?s.buffer:s)})},!o.thisProgram&&process.argv.length>1&&(w=process.argv[1].replace(/\\/g,"/")),T=process.argv.slice(2),E=(e,t)=>{throw process.exitCode=e,t},o.inspect=()=>"[Emscripten Module object]"}else(O||y)&&(y?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),f&&(v=f),v.indexOf("blob:")!==0?v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):v="",_=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(D=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),A=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){t(n.response);return}r()},n.onerror=r,n.send(null)},N=e=>document.title=e);var kn=o.print||console.log.bind(console),se=o.printErr||console.error.bind(console);Object.assign(o,R),R=null,o.arguments&&(T=o.arguments),o.thisProgram&&(w=o.thisProgram),o.quit&&(E=o.quit);var ae;o.wasmBinary&&(ae=o.wasmBinary);var Wn=o.noExitRuntime||!0;typeof WebAssembly!="object"&&he("no native wasm support detected");var ve,Le=!1,It,B,I,te,ue,X,S,Ge,xe;function Je(){var e=ve.buffer;o.HEAP8=B=new Int8Array(e),o.HEAP16=te=new Int16Array(e),o.HEAPU8=I=new Uint8Array(e),o.HEAPU16=ue=new Uint16Array(e),o.HEAP32=X=new Int32Array(e),o.HEAPU32=S=new Uint32Array(e),o.HEAPF32=Ge=new Float32Array(e),o.HEAPF64=xe=new Float64Array(e)}var Be,ze=[],qe=[],Ne=[],kt=!1;function Wt(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Ut(o.preRun.shift());Re(ze)}function Ot(){kt=!0,Re(qe)}function Dt(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)Mt(o.postRun.shift());Re(Ne)}function Ut(e){ze.unshift(e)}function jt(e){qe.unshift(e)}function Mt(e){Ne.unshift(e)}var Q=0,Ae=null,le=null;function Vt(e){Q++,o.monitorRunDependencies&&o.monitorRunDependencies(Q)}function Ht(e){if(Q--,o.monitorRunDependencies&&o.monitorRunDependencies(Q),Q==0&&(Ae!==null&&(clearInterval(Ae),Ae=null),le)){var t=le;le=null,t()}}function he(e){o.onAbort&&o.onAbort(e),e="Aborted("+e+")",se(e),Le=!0,It=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw h(t),t}var Lt="data:application/octet-stream;base64,";function Xe(e){return e.startsWith(Lt)}function ge(e){return e.startsWith("file://")}var re;re="geoda.wasm",Xe(re)||(re=C(re));function Qe(e){if(e==re&&ae)return new Uint8Array(ae);if(D)return D(e);throw"both async and sync fetching of the wasm failed"}function Gt(e){if(!ae&&(O||y)){if(typeof fetch=="function"&&!ge(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>Qe(e));if(A)return new Promise((t,r)=>{A(e,n=>t(new Uint8Array(n)),r)})}return Promise.resolve().then(()=>Qe(e))}function Ke(e,t,r){return Gt(e).then(n=>WebAssembly.instantiate(n,t)).then(n=>n).then(r,n=>{se(`failed to asynchronously prepare wasm: ${n}`),he(n)})}function xt(e,t,r,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Xe(t)&&!ge(t)&&!F&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(i=>{var s=WebAssembly.instantiateStreaming(i,r);return s.then(n,function(u){return se(`wasm streaming compile failed: ${u}`),se("falling back to ArrayBuffer instantiation"),Ke(t,r,n)})}):Ke(t,r,n)}function Jt(){var e={a:pn};function t(n,i){var s=n.exports;return s=yn(s),V=s,ve=V.x,Je(),Be=V.z,jt(V.y),Ht("wasm-instantiate"),s}Vt("wasm-instantiate");function r(n){t(n.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(n){se(`Module.instantiateWasm callback failed with error: ${n}`),h(n)}return xt(ae,re,e,r).catch(h),{}}var Re=e=>{for(;e.length>0;)e.shift()(o)},Ye=[],ye=0,Ze=0,Bt=()=>{var e=Ye.pop();e||he("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Ye.push(e),e.set_rethrown(!0),e.set_caught(!1),Ze++),ye=t,ye};function zt(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){S[this.ptr+4>>>2>>>0]=t},this.get_type=function(){return S[this.ptr+4>>>2>>>0]},this.set_destructor=function(t){S[this.ptr+8>>>2>>>0]=t},this.get_destructor=function(){return S[this.ptr+8>>>2>>>0]},this.set_caught=function(t){t=t?1:0,B[this.ptr+12>>>0>>>0]=t},this.get_caught=function(){return B[this.ptr+12>>>0>>>0]!=0},this.set_rethrown=function(t){t=t?1:0,B[this.ptr+13>>>0>>>0]=t},this.get_rethrown=function(){return B[this.ptr+13>>>0>>>0]!=0},this.init=function(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)},this.set_adjusted_ptr=function(t){S[this.ptr+16>>>2>>>0]=t},this.get_adjusted_ptr=function(){return S[this.ptr+16>>>2>>>0]},this.get_exception_ptr=function(){var t=_t(this.get_type());if(t)return S[this.excPtr>>>2>>>0];var r=this.get_adjusted_ptr();return r!==0?r:this.excPtr}}function qt(e,t,r){e>>>=0,t>>>=0,r>>>=0;var n=new zt(e);throw n.init(t,r),ye=e,Ze++,ye}function Nt(e,t,r,n,i){e>>>=0,t>>>=0,r>>>=0}var Xt=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);et=e},et=void 0,k=e=>{for(var t="",r=e;I[r>>>0];)t+=et[I[r++>>>0]];return t},ne={},K={},me={},ie=void 0,g=e=>{throw new ie(e)},tt=void 0,_e=e=>{throw new tt(e)},oe=(e,t,r)=>{e.forEach(function(a){me[a]=t});function n(a){var c=r(a);c.length!==e.length&&_e("Mismatched type converter count");for(var l=0;l<e.length;++l)L(e[l],c[l])}var i=new Array(t.length),s=[],u=0;t.forEach((a,c)=>{K.hasOwnProperty(a)?i[c]=K[a]:(s.push(a),ne.hasOwnProperty(a)||(ne[a]=[]),ne[a].push(()=>{i[c]=K[a],++u,u===s.length&&n(i)}))}),s.length===0&&n(i)};function Qt(e,t,r={}){var n=t.name;if(e||g(`type "${n}" must have a positive integer typeid pointer`),K.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;g(`Cannot register type '${n}' twice`)}if(K[e]=t,delete me[e],ne.hasOwnProperty(e)){var i=ne[e];delete ne[e],i.forEach(s=>s())}}function L(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Qt(e,t,r)}var G=8;function Kt(e,t,r,n){e>>>=0,t>>>=0,t=k(t),L(e,{name:t,fromWireType:function(i){return!!i},toWireType:function(i,s){return s?r:n},argPackAdvance:G,readValueFromPointer:function(i){return this.fromWireType(I[i>>>0])},destructorFunction:null})}function Yt(e){if(!(this instanceof z)||!(e instanceof z))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,i=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return t===n&&r===i}var Zt=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Ee=e=>{function t(r){return r.$$.ptrType.registeredClass.name}g(t(e)+" instance already deleted")},Se=!1,rt=e=>{},er=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},nt=e=>{e.count.value-=1;var t=e.count.value===0;t&&er(e)},it=(e,t,r)=>{if(t===r)return e;if(r.baseClass===void 0)return null;var n=it(e,t,r.baseClass);return n===null?null:r.downcast(n)},ot={},tr=()=>Object.keys(de).length,rr=()=>{var e=[];for(var t in de)de.hasOwnProperty(t)&&e.push(de[t]);return e},ce=[],Fe=()=>{for(;ce.length;){var e=ce.pop();e.$$.deleteScheduled=!1,e.delete()}},fe=void 0,nr=e=>{fe=e,ce.length&&fe&&fe(Fe)},ir=()=>{o.getInheritedInstanceCount=tr,o.getLiveInheritedInstances=rr,o.flushPendingDeletes=Fe,o.setDelayFunction=nr},de={},or=(e,t)=>{for(t===void 0&&g("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},sr=(e,t)=>(t=or(e,t),de[t]),be=(e,t)=>{(!t.ptrType||!t.ptr)&&_e("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,n=!!t.smartPtr;return r!==n&&_e("Both smartPtrType and smartPtr must be specified"),t.count={value:1},pe(Object.create(e,{$$:{value:t}}))};function ar(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=sr(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?be(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):be(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var s=this.registeredClass.getActualType(t),u=ot[s];if(!u)return i.call(this);var a;this.isConst?a=u.constPointerType:a=u.pointerType;var c=it(t,this.registeredClass,a.registeredClass);return c===null?i.call(this):this.isSmartPointer?be(a.registeredClass.instancePrototype,{ptrType:a,ptr:c,smartPtrType:this,smartPtr:e}):be(a.registeredClass.instancePrototype,{ptrType:a,ptr:c})}var pe=e=>typeof FinalizationRegistry>"u"?(pe=t=>t,e):(Se=new FinalizationRegistry(t=>{nt(t.$$)}),pe=t=>{var r=t.$$,n=!!r.smartPtr;if(n){var i={$$:r};Se.register(t,i,t)}return t},rt=t=>Se.unregister(t),pe(e));function ur(){if(this.$$.ptr||Ee(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=pe(Object.create(Object.getPrototypeOf(this),{$$:{value:Zt(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function lr(){this.$$.ptr||Ee(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&g("Object already scheduled for deletion"),rt(this),nt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function cr(){return!this.$$.ptr}function fr(){return this.$$.ptr||Ee(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&g("Object already scheduled for deletion"),ce.push(this),ce.length===1&&fe&&fe(Fe),this.$$.deleteScheduled=!0,this}var dr=()=>{z.prototype.isAliasOf=Yt,z.prototype.clone=ur,z.prototype.delete=lr,z.prototype.isDeleted=cr,z.prototype.deleteLater=fr};function z(){}var pr=48,vr=57,Ie=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=pr&&t<=vr?`_${e}`:e};function Pe(e,t){return e=Ie(e),{[e]:function(){return t.apply(this,arguments)}}[e]}var st=(e,t,r)=>{if(e[t].overloadTable===void 0){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||g(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},ke=(e,t,r)=>{o.hasOwnProperty(e)?((r===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[r]!==void 0)&&g(`Cannot register public name '${e}' twice`),st(o,e,e),o.hasOwnProperty(r)&&g(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),o[e].overloadTable[r]=t):(o[e]=t,r!==void 0&&(o[e].numArguments=r))};function hr(e,t,r,n,i,s,u,a){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=i,this.getActualType=s,this.upcast=u,this.downcast=a,this.pureVirtualFunctions=[]}var We=(e,t,r)=>{for(;t!==r;)t.upcast||g(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function gr(e,t){if(t===null)return this.isReference&&g(`null is not a valid ${this.name}`),0;t.$$||g(`Cannot pass "${Ue(t)}" as a ${this.name}`),t.$$.ptr||g(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=We(t.$$.ptr,r,this.registeredClass);return n}function yr(e,t){var r;if(t===null)return this.isReference&&g(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;t.$$||g(`Cannot pass "${Ue(t)}" as a ${this.name}`),t.$$.ptr||g(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&g(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=We(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&g("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:g(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var i=t.clone();r=this.rawShare(r,Te.toHandle(()=>i.delete())),e!==null&&e.push(this.rawDestructor,r)}break;default:g("Unsupporting sharing policy")}return r}function mr(e,t){if(t===null)return this.isReference&&g(`null is not a valid ${this.name}`),0;t.$$||g(`Cannot pass "${Ue(t)}" as a ${this.name}`),t.$$.ptr||g(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&g(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=We(t.$$.ptr,r,this.registeredClass);return n}function at(e){return this.fromWireType(S[e>>>2>>>0])}function _r(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function br(e){this.rawDestructor&&this.rawDestructor(e)}var Pr=e=>{e!==null&&e.delete()},$r=()=>{x.prototype.getPointee=_r,x.prototype.destructor=br,x.prototype.argPackAdvance=G,x.prototype.readValueFromPointer=at,x.prototype.deleteObject=Pr,x.prototype.fromWireType=ar};function x(e,t,r,n,i,s,u,a,c,l,p){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=i,this.pointeeType=s,this.sharingPolicy=u,this.rawGetPointee=a,this.rawConstructor=c,this.rawShare=l,this.rawDestructor=p,!i&&t.baseClass===void 0?n?(this.toWireType=gr,this.destructorFunction=null):(this.toWireType=mr,this.destructorFunction=null):this.toWireType=yr}var ut=(e,t,r)=>{o.hasOwnProperty(e)||_e("Replacing nonexistant public symbol"),o[e].overloadTable!==void 0&&r!==void 0?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)},Cr=(e,t,r)=>{var n=o["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)},$e=[],lt=e=>{var t=$e[e];return t||(e>=$e.length&&($e.length=e+1),$e[e]=t=Be.get(e)),t},Tr=(e,t,r)=>{if(e.includes("j"))return Cr(e,t,r);var n=lt(t).apply(null,r);return n},wr=(e,t)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),Tr(e,t,r)}},Y=(e,t)=>{e=k(e);function r(){return e.includes("j")?wr(e,t):lt(t)}var n=r();return typeof n!="function"&&g(`unknown function pointer with signature ${e}: ${t}`),n},Ar=(e,t)=>{var r=Pe(t,function(n){this.name=t,this.message=n;var i=new Error(n).stack;i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r},ct=void 0,ft=e=>{var t=mt(e),r=k(t);return J(t),r},Ce=(e,t)=>{var r=[],n={};function i(s){if(!n[s]&&!K[s]){if(me[s]){me[s].forEach(i);return}r.push(s),n[s]=!0}}throw t.forEach(i),new ct(`${e}: `+r.map(ft).join([", "]))};function Rr(e,t,r,n,i,s,u,a,c,l,p,m,$){e>>>=0,t>>>=0,r>>>=0,n>>>=0,i>>>=0,s>>>=0,u>>>=0,a>>>=0,c>>>=0,l>>>=0,p>>>=0,m>>>=0,$>>>=0,p=k(p),s=Y(i,s),a&&(a=Y(u,a)),l&&(l=Y(c,l)),$=Y(m,$);var b=Ie(p);ke(b,function(){Ce(`Cannot construct ${p} due to unbound types`,[n])}),oe([e,t,r],n?[n]:[],function(W){W=W[0];var M,U;n?(M=W.registeredClass,U=M.instancePrototype):U=z.prototype;var q=Pe(b,function(){if(Object.getPrototypeOf(this)!==Me)throw new ie("Use 'new' to construct "+p);if(H.constructor_body===void 0)throw new ie(p+" has no accessible constructor");var Ct=H.constructor_body[arguments.length];if(Ct===void 0)throw new ie(`Tried to invoke ctor of ${p} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(H.constructor_body).toString()}) parameters instead!`);return Ct.apply(this,arguments)}),Me=Object.create(U,{constructor:{value:q}});q.prototype=Me;var H=new hr(p,q,Me,$,M,s,a,l);H.baseClass&&(H.baseClass.__derivedClasses===void 0&&(H.baseClass.__derivedClasses=[]),H.baseClass.__derivedClasses.push(H));var mn=new x(p,H,!0,!1,!1),Pt=new x(p+"*",H,!1,!1,!1),$t=new x(p+" const*",H,!1,!0,!1);return ot[e]={pointerType:Pt,constPointerType:$t},ut(b,q),[mn,Pt,$t]})}var Oe=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(S[t+n*4>>>2>>>0]);return r},Er=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function Sr(e,t){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var r=Pe(e.name||"unknownFunctionName",function(){});r.prototype=e.prototype;var n=new r,i=e.apply(n,t);return i instanceof Object?i:n}function De(e,t,r,n,i,s){var u=t.length;u<2&&g("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=t[1]!==null&&r!==null,c=!1,l=1;l<t.length;++l)if(t[l]!==null&&t[l].destructorFunction===void 0){c=!0;break}for(var p=t[0].name!=="void",m="",$="",l=0;l<u-2;++l)m+=(l!==0?", ":"")+"arg"+l,$+=(l!==0?", ":"")+"arg"+l+"Wired";var b=`
        return function ${Ie(e)}(${m}) {
        if (arguments.length !== ${u-2}) {
          throwBindingError('function ${e} called with ' + arguments.length + ' arguments, expected ${u-2}');
        }`;c&&(b+=`var destructors = [];
`);var W=c?"destructors":"null",M=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],U=[g,n,i,Er,t[0],t[1]];a&&(b+="var thisWired = classParam.toWireType("+W+`, this);
`);for(var l=0;l<u-2;++l)b+="var arg"+l+"Wired = argType"+l+".toWireType("+W+", arg"+l+"); // "+t[l+2].name+`
`,M.push("argType"+l),U.push(t[l+2]);if(a&&($="thisWired"+($.length>0?", ":"")+$),b+=(p||s?"var rv = ":"")+"invoker(fn"+($.length>0?", ":"")+$+`);
`,c)b+=`runDestructors(destructors);
`;else for(var l=a?1:2;l<t.length;++l){var q=l===1?"thisWired":"arg"+(l-2)+"Wired";t[l].destructorFunction!==null&&(b+=q+"_dtor("+q+"); // "+t[l].name+`
`,M.push(q+"_dtor"),U.push(t[l].destructorFunction))}return p&&(b+=`var ret = retType.fromWireType(rv);
return ret;
`),b+=`}
`,M.push(b),Sr(Function,M).apply(null,U)}function Fr(e,t,r,n,i,s){e>>>=0,r>>>=0,n>>>=0,i>>>=0,s>>>=0;var u=Oe(t,r);i=Y(n,i),oe([],[e],function(a){a=a[0];var c=`constructor ${a.name}`;if(a.registeredClass.constructor_body===void 0&&(a.registeredClass.constructor_body=[]),a.registeredClass.constructor_body[t-1]!==void 0)throw new ie(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${a.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return a.registeredClass.constructor_body[t-1]=()=>{Ce(`Cannot construct ${a.name} due to unbound types`,u)},oe([],u,l=>(l.splice(1,0,null),a.registeredClass.constructor_body[t-1]=De(c,l,null,i,s),[])),[]})}function Ir(e,t,r,n,i,s,u,a,c){e>>>=0,t>>>=0,n>>>=0,i>>>=0,s>>>=0,u>>>=0;var l=Oe(r,n);t=k(t),s=Y(i,s),oe([],[e],function(p){p=p[0];var m=`${p.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),a&&p.registeredClass.pureVirtualFunctions.push(t);function $(){Ce(`Cannot call ${m} due to unbound types`,l)}var b=p.registeredClass.instancePrototype,W=b[t];return W===void 0||W.overloadTable===void 0&&W.className!==p.name&&W.argCount===r-2?($.argCount=r-2,$.className=p.name,b[t]=$):(st(b,t,m),b[t].overloadTable[r-2]=$),oe([],l,function(M){var U=De(m,M,p,s,u,c);return b[t].overloadTable===void 0?(U.argCount=r-2,b[t]=U):b[t].overloadTable[r-2]=U,[]}),[]})}function kr(){Object.assign(dt.prototype,{get(e){return this.allocated[e]},has(e){return this.allocated[e]!==void 0},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function dt(){this.allocated=[void 0],this.freelist=[]}var j=new dt;function pt(e){e>>>=0,e>=j.reserved&&--j.get(e).refcount===0&&j.free(e)}var Wr=()=>{for(var e=0,t=j.reserved;t<j.allocated.length;++t)j.allocated[t]!==void 0&&++e;return e},Or=()=>{j.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),j.reserved=j.allocated.length,o.count_emval_handles=Wr},Te={toValue:e=>(e||g("Cannot use deleted val. handle = "+e),j.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return j.allocate({refcount:1,value:e})}}};function vt(e){return this.fromWireType(X[e>>>2>>>0])}var Dr=function(e,t){e>>>=0,t>>>=0,t=k(t),L(e,{name:t,fromWireType:r=>{var n=Te.toValue(r);return pt(r),n},toWireType:(r,n)=>Te.toHandle(n),argPackAdvance:G,readValueFromPointer:vt,destructorFunction:null})},Ur=(e,t,r)=>{switch(t){case 1:return r?function(n){return this.fromWireType(B[n>>>0>>>0])}:function(n){return this.fromWireType(I[n>>>0>>>0])};case 2:return r?function(n){return this.fromWireType(te[n>>>1>>>0])}:function(n){return this.fromWireType(ue[n>>>1>>>0])};case 4:return r?function(n){return this.fromWireType(X[n>>>2>>>0])}:function(n){return this.fromWireType(S[n>>>2>>>0])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function jr(e,t,r,n){e>>>=0,t>>>=0,r>>>=0,t=k(t);function i(){}i.values={},L(e,{name:t,constructor:i,fromWireType:function(s){return this.constructor.values[s]},toWireType:(s,u)=>u.value,argPackAdvance:G,readValueFromPointer:Ur(t,r,n),destructorFunction:null}),ke(t,i)}var ht=(e,t)=>{var r=K[e];return r===void 0&&g(t+" has unknown type "+ft(e)),r};function Mr(e,t,r){e>>>=0,t>>>=0,r>>>=0;var n=ht(e,"enum");t=k(t);var i=n.constructor,s=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:Pe(`${n.name}_${t}`,function(){})}});i.values[r]=s,i[t]=s}var Ue=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},Vr=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(Ge[r>>>2>>>0])};case 8:return function(r){return this.fromWireType(xe[r>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Hr=function(e,t,r){e>>>=0,t>>>=0,r>>>=0,t=k(t),L(e,{name:t,fromWireType:n=>n,toWireType:(n,i)=>i,argPackAdvance:G,readValueFromPointer:Vr(t,r),destructorFunction:null})};function Lr(e,t,r,n,i,s,u){e>>>=0,r>>>=0,n>>>=0,i>>>=0,s>>>=0;var a=Oe(t,r);e=k(e),i=Y(n,i),ke(e,function(){Ce(`Cannot call ${e} due to unbound types`,a)},t-1),oe([],a,function(c){var l=[c[0],null].concat(c.slice(1));return ut(e,De(e,l,null,i,s,u),t-1),[]})}var Gr=(e,t,r)=>{switch(t){case 1:return r?n=>B[n>>>0>>>0]:n=>I[n>>>0>>>0];case 2:return r?n=>te[n>>>1>>>0]:n=>ue[n>>>1>>>0];case 4:return r?n=>X[n>>>2>>>0]:n=>S[n>>>2>>>0];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function xr(e,t,r,n,i){e>>>=0,t>>>=0,r>>>=0,t=k(t),i===-1&&(i=4294967295);var s=p=>p;if(n===0){var u=32-8*r;s=p=>p<<u>>>u}var a=t.includes("unsigned"),c=(p,m)=>{},l;a?l=function(p,m){return c(m,this.name),m>>>0}:l=function(p,m){return c(m,this.name),m},L(e,{name:t,fromWireType:s,toWireType:l,argPackAdvance:G,readValueFromPointer:Gr(t,r,n!==0),destructorFunction:null})}function Jr(e,t,r){e>>>=0,r>>>=0;var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],i=n[t];function s(u){var a=S[u>>>2>>>0],c=S[u+4>>>2>>>0];return new i(B.buffer,c,a)}r=k(r),L(e,{name:r,fromWireType:s,argPackAdvance:G,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})}var Br=(e,t,r,n)=>{if(r>>>=0,!(n>0))return 0;for(var i=r,s=r+n-1,u=0;u<e.length;++u){var a=e.charCodeAt(u);if(a>=55296&&a<=57343){var c=e.charCodeAt(++u);a=65536+((a&1023)<<10)|c&1023}if(a<=127){if(r>=s)break;t[r++>>>0]=a}else if(a<=2047){if(r+1>=s)break;t[r++>>>0]=192|a>>6,t[r++>>>0]=128|a&63}else if(a<=65535){if(r+2>=s)break;t[r++>>>0]=224|a>>12,t[r++>>>0]=128|a>>6&63,t[r++>>>0]=128|a&63}else{if(r+3>=s)break;t[r++>>>0]=240|a>>18,t[r++>>>0]=128|a>>12&63,t[r++>>>0]=128|a>>6&63,t[r++>>>0]=128|a&63}}return t[r>>>0]=0,r-i},zr=(e,t,r)=>Br(e,I,t,r),qr=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},gt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Nr=(e,t,r)=>{t>>>=0;for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&gt)return gt.decode(e.subarray(t,i));for(var s="";t<i;){var u=e[t++];if(!(u&128)){s+=String.fromCharCode(u);continue}var a=e[t++]&63;if((u&224)==192){s+=String.fromCharCode((u&31)<<6|a);continue}var c=e[t++]&63;if((u&240)==224?u=(u&15)<<12|a<<6|c:u=(u&7)<<18|a<<12|c<<6|e[t++]&63,u<65536)s+=String.fromCharCode(u);else{var l=u-65536;s+=String.fromCharCode(55296|l>>10,56320|l&1023)}}return s},Xr=(e,t)=>(e>>>=0,e?Nr(I,e,t):""),Qr=function(e,t){e>>>=0,t>>>=0,t=k(t);var r=t==="std::string";L(e,{name:t,fromWireType:n=>{var i=S[n>>>2>>>0],s=n+4,u;if(r)for(var a=s,c=0;c<=i;++c){var l=s+c;if(c==i||I[l>>>0]==0){var p=l-a,m=Xr(a,p);u===void 0?u=m:(u+=String.fromCharCode(0),u+=m),a=l+1}}else{for(var $=new Array(i),c=0;c<i;++c)$[c]=String.fromCharCode(I[s+c>>>0]);u=$.join("")}return J(n),u},toWireType:(n,i)=>{i instanceof ArrayBuffer&&(i=new Uint8Array(i));var s,u=typeof i=="string";u||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||g("Cannot pass non-string to std::string"),r&&u?s=qr(i):s=i.length;var a=je(4+s+1),c=a+4;if(S[a>>>2>>>0]=s,r&&u)zr(i,c,s+1);else if(u)for(var l=0;l<s;++l){var p=i.charCodeAt(l);p>255&&(J(c),g("String has UTF-16 code units that do not fit in 8 bits")),I[c+l>>>0]=p}else for(var l=0;l<s;++l)I[c+l>>>0]=i[l];return n!==null&&n.push(J,a),a},argPackAdvance:G,readValueFromPointer:at,destructorFunction:n=>J(n)})},yt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Kr=(e,t)=>{for(var r=e,n=r>>1,i=n+t/2;!(n>=i)&&ue[n>>>0];)++n;if(r=n<<1,r-e>32&&yt)return yt.decode(I.subarray(e>>>0,r>>>0));for(var s="",u=0;!(u>=t/2);++u){var a=te[e+u*2>>>1>>>0];if(a==0)break;s+=String.fromCharCode(a)}return s},Yr=(e,t,r)=>{if(r===void 0&&(r=2147483647),r<2)return 0;r-=2;for(var n=t,i=r<e.length*2?r/2:e.length,s=0;s<i;++s){var u=e.charCodeAt(s);te[t>>>1>>>0]=u,t+=2}return te[t>>>1>>>0]=0,t-n},Zr=e=>e.length*2,en=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var i=X[e+r*4>>>2>>>0];if(i==0)break;if(++r,i>=65536){var s=i-65536;n+=String.fromCharCode(55296|s>>10,56320|s&1023)}else n+=String.fromCharCode(i)}return n},tn=(e,t,r)=>{if(t>>>=0,r===void 0&&(r=2147483647),r<4)return 0;for(var n=t,i=n+r-4,s=0;s<e.length;++s){var u=e.charCodeAt(s);if(u>=55296&&u<=57343){var a=e.charCodeAt(++s);u=65536+((u&1023)<<10)|a&1023}if(X[t>>>2>>>0]=u,t+=4,t+4>i)break}return X[t>>>2>>>0]=0,t-n},rn=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},nn=function(e,t,r){e>>>=0,t>>>=0,r>>>=0,r=k(r);var n,i,s,u,a;t===2?(n=Kr,i=Yr,u=Zr,s=()=>ue,a=1):t===4&&(n=en,i=tn,u=rn,s=()=>S,a=2),L(e,{name:r,fromWireType:c=>{for(var l=S[c>>>2>>>0],p=s(),m,$=c+4,b=0;b<=l;++b){var W=c+4+b*t;if(b==l||p[W>>>a]==0){var M=W-$,U=n($,M);m===void 0?m=U:(m+=String.fromCharCode(0),m+=U),$=W+t}}return J(c),m},toWireType:(c,l)=>{typeof l!="string"&&g(`Cannot pass non-string to C++ string type ${r}`);var p=u(l),m=je(4+p+t);return S[m>>>2]=p>>a,i(l,m+4,p+t),c!==null&&c.push(J,m),m},argPackAdvance:G,readValueFromPointer:vt,destructorFunction:c=>J(c)})},on=function(e,t){e>>>=0,t>>>=0,t=k(t),L(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(r,n)=>{}})};function sn(e){e>>>=0,e>4&&(j.get(e).refcount+=1)}function an(e,t){e>>>=0,t>>>=0,e=ht(e,"_emval_take_value");var r=e.readValueFromPointer(t);return Te.toHandle(r)}var un=()=>{he("")};function ln(e,t,r){return e>>>=0,t>>>=0,r>>>=0,I.copyWithin(e>>>0,t>>>0,t+r>>>0)}var cn=()=>3221225472,fn=e=>{var t=ve.buffer,r=(e-t.byteLength+65535)/65536;try{return ve.grow(r),Je(),1}catch{}};function dn(e){e>>>=0;var t=I.length,r=cn();if(e>r)return!1;for(var n=(c,l)=>c+(l-c%l)%l,i=1;i<=4;i*=2){var s=t*(1+.2/i);s=Math.min(s,e+100663296);var u=Math.min(r,n(Math.max(e,s),65536)),a=fn(u);if(a)return!0}return!1}Xt(),ie=o.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},tt=o.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},dr(),ir(),$r(),ct=o.UnboundTypeError=Ar(Error,"UnboundTypeError"),kr(),Or();var pn={w:Bt,b:qt,o:Nt,t:Kt,d:Rr,e:Fr,a:Ir,s:Dr,q:jr,i:Mr,m:Hr,f:Lr,g:xr,c:Jr,l:Qr,j:nn,u:on,v:pt,n:sn,h:an,k:un,r:ln,p:dn},V=Jt(),vn=()=>(vn=V.y)(),mt=e=>(mt=V.A)(e),hn=o.__embind_initialize_bindings=()=>(hn=o.__embind_initialize_bindings=V.B)(),gn=()=>(gn=V.__errno_location)(),je=e=>(je=V.C)(e),J=e=>(J=V.D)(e),_t=e=>(_t=V.E)(e);function yn(e){e=Object.assign({},e);var t=n=>i=>n(i)>>>0,r=n=>()=>n()>>>0;return e.A=t(e.A),e.__errno_location=r(e.__errno_location),e.C=t(e.C),e.stackSave=r(e.stackSave),e.stackAlloc=t(e.stackAlloc),e}var we;le=function e(){we||bt(),we||(le=e)};function bt(){if(Q>0||(Wt(),Q>0))return;function e(){we||(we=!0,o.calledRun=!0,!Le&&(Ot(),P(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Dt()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return bt(),d.ready}})();typeof Rt=="object"&&typeof He=="object"?He.exports=At:typeof define=="function"&&define.amd&&define([],()=>At)});function Rn(f,d,o,P){let h=0,R=new d.VectorDouble,T=new d.VectorDouble,w=new d.VectorUInt,E=new d.VectorUInt,O=new d.VectorUInt;function y(v,C){w.push_back(h),E.push_back(0);for(let _=0,A=v.length;_<A;++_){let D=v[_];_>0&&(w.push_back(h),E.push_back(1)),D.length>0&&(C+=1);for(let N=0,Z=D.length;N<Z;++N){let ee=D[N];R.push_back(ee[0]),T.push_back(ee[1]),h+=1}}return C}for(let v=0,C=f.length;v<C;++v){let _=f[v],A=0;if(_.geometry.type==="MultiPolygon")for(let D=0,N=_.geometry.coordinates.length;D<N;++D){let Z=_.geometry.coordinates[D];A=y(Z,A)}else _.geometry.type==="Polygon"&&(A=y(_.geometry.coordinates,A));O.push_back(A)}return new d.PolygonCollection(R,T,w,E,O,o??!1,P??!1)}function En(f,d,o){let P=0,h=new d.VectorDouble,R=new d.VectorDouble,T=new d.VectorUInt,w=new d.VectorUInt;function E(y){T.push_back(P);let F=!1;for(let v=0,C=y.length;v<C;++v){let _=y[v];h.push_back(_[0]),R.push_back(_[1]),P+=1,F=!0}return F}for(let y=0,F=f.length;y<F;++y){let v=f[y],C=0;if(v.geometry.type==="MultiLineString")for(let _=0,A=v.geometry.coordinates.length;_<A;++_)E(v.geometry.coordinates[_])&&(C+=1);else v.geometry.type==="LineString"&&E(v.geometry.coordinates)&&(C+=1);w.push_back(C)}return new d.LineCollection(h,R,T,w,o??!1)}function Sn(f,d,o){let P=0,h=new d.VectorDouble,R=new d.VectorDouble,T=new d.VectorUInt,w=new d.VectorUInt;function E(y){let F=!1;return y.length>=2&&(h.push_back(y[0]),R.push_back(y[1]),F=!0),P+=1,F}for(let y=0,F=f.length;y<F;++y){let v=f[y],C=0;if(v.geometry.type==="MultiPoint"){T.push_back(P);for(let _=0,A=v.geometry.coordinates.length;_<A;++_)E(v.geometry.coordinates[_])&&(C+=1)}else v.geometry.type==="Point"&&(T.push_back(P),E(v.geometry.coordinates)&&(C+=1));w.push_back(C)}return new d.PointCollection(h,R,T,w,o??!1)}function Fn(f,d,o,P,h){let R=0,T=new o.VectorDouble,w=new o.VectorDouble,E=new o.VectorUInt,O=new o.VectorUInt;for(let v=P??0,C=h??f.length;v<C;++v)O.push_back(1),E.push_back(R),T.push_back(d[v]),w.push_back(f[v]),R+=1;let y=!1;return new o.PointCollection(T,w,E,O,y)}function Ve(f,d,o,P){if(f.features&&f.features.length>0){let h=f.features[0].geometry.type;if(h==="Polygon"||h==="MultiPolygon")return Rn(f.features,d);if(h==="LineString"||h==="MultiLineString")return En(f.features,d);if(h==="Point"||h==="MultiPoint")return Sn(f.features,d)}else if(f.latitudes&&f.longitudes)return Fn(f.latitudes,f.longitudes,d,o,P);return null}function St(f,d,o,P,h,R){let T=Ve(f,P,h,R),w=Ve(d,P,h,R),E=P.SpatialJoinType[o];if(T&&w&&E){let O=P.spatialJoin(T,w,E),y=[];for(let F=0,v=O.size();F<v;++F){let C=O.get(F),_=[];for(let A=0,D=C.size();A<D;++A)_.push(C.get(A));y.push(_)}return y}return null}var Ft=An(Et(),1),In=Ft.default;addEventListener("message",f=>{let{id:d,source:o,join:P,spatialJoinOperation:h,start:R,end:T}=f.data;In().then(w=>{let y={result:St(o,P,h,w,R,T)??[],id:d};postMessage(y),self.close()})});
//# sourceMappingURL=join-worker.js.map
