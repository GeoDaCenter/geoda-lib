\doxysection{Power\+Sym\+Lag.\+h}
\hypertarget{_power_sym_lag_8h_source}{}\label{_power_sym_lag_8h_source}\index{/Users/xun/github/geoda-\/lib/src/cpp/regression/PowerSymLag.h@{/Users/xun/github/geoda-\/lib/src/cpp/regression/PowerSymLag.h}}
\mbox{\hyperlink{_power_sym_lag_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#ifndef\ \_\_GEODA\_CENTER\_POWER\_SYM\_LAG\_H\_\_}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#define\ \_\_GEODA\_CENTER\_POWER\_SYM\_LAG\_H\_\_}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lite2_8h}{lite2.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_power_lag_8h}{PowerLag.h}}"{}}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_power_sym_lag_a0dff33f1d9e2c152430c9ab80a473220}{PowerSymLag}}\ \{}
\DoxyCodeLine{00027\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00028\ \ \ \mbox{\hyperlink{class_power_sym_lag_a0dff33f1d9e2c152430c9ab80a473220}{PowerSymLag}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_iterator}{Iterator<WMap>}}\ matrix,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{lite2_8h_ac6885dbfb371c33e523c7fb046118b36}{INDEX}}\ vsize);}
\DoxyCodeLine{00029\ \ \ \mbox{\hyperlink{lite2_8h_aa0b03826c8f7cc324ac2db0ada2dce0a}{VALUE}}\ \mbox{\hyperlink{class_power_sym_lag_ac533476439cd9580fce54d85485810c1}{Init}}();}
\DoxyCodeLine{00030\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_power_sym_lag_a311b68ecf9492cc06610ae9cb662784e}{AdvanceLag}}();}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \mbox{\hyperlink{lite2_8h_aa0b03826c8f7cc324ac2db0ada2dce0a}{VALUE}}\ \mbox{\hyperlink{class_power_sym_lag_a3f2271163ebbaf6d6bd4a636cb23a37c}{SparseRowLag}}();}
\DoxyCodeLine{00033\ \ \ \mbox{\hyperlink{lite2_8h_aa0b03826c8f7cc324ac2db0ada2dce0a}{VALUE}}\ \mbox{\hyperlink{class_power_sym_lag_abd2f31da1d8c4283ba18bb1bbd072d8c}{SparseColumnLag}}();}
\DoxyCodeLine{00034\ \ \ \mbox{\hyperlink{lite2_8h_aa0b03826c8f7cc324ac2db0ada2dce0a}{VALUE}}\ \mbox{\hyperlink{class_power_sym_lag_ae0bcb1d1b26c8961c78d4daa1718052c}{DenseRowLag}}()\ \{}
\DoxyCodeLine{00035\ \ \ \ \ LastWasRow\ =\ 1;}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{_power_lag_8h_a15d397a6439196ca8dfc13a97984460f}{RowMultiply}}(RowLag(),\ mt,\ Row);}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{lite2_8h_a7dd6ec971b6f46098cb10e81b3fb0e9c}{Product}}(Row(),\ RowLag());}
\DoxyCodeLine{00038\ \ \ \};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{lite2_8h_aa0b03826c8f7cc324ac2db0ada2dce0a}{VALUE}}\ \mbox{\hyperlink{class_power_sym_lag_a2c0040f2ab8937137006e9cf6fabfc8e}{DenseColumnLag}}()\ \{}
\DoxyCodeLine{00041\ \ \ \ \ LastWasRow\ =\ 0;}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{class_power_sym_lag_a311b68ecf9492cc06610ae9cb662784e}{AdvanceLag}}();}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{lite2_8h_a7dd6ec971b6f46098cb10e81b3fb0e9c}{Product}}(RowLag(),\ RowLag());}
\DoxyCodeLine{00044\ \ \ \};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \mbox{\hyperlink{lite2_8h_aa0b03826c8f7cc324ac2db0ada2dce0a}{VALUE}}\ \mbox{\hyperlink{class_power_sym_lag_a2ebb74609729a2784ae3abaa59e5c9b6}{ComputeLag}}()\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordflow}{if}\ (NonZero.count()\ <\ LongLength)\ \ \textcolor{comment}{//\ do\ sparse\ lag}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ LastWasRow\ ?\ \mbox{\hyperlink{class_power_sym_lag_abd2f31da1d8c4283ba18bb1bbd072d8c}{SparseColumnLag}}()\ :\ \mbox{\hyperlink{class_power_sym_lag_a3f2271163ebbaf6d6bd4a636cb23a37c}{SparseRowLag}}();}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{if}\ (!LongInit)\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (LastWasRow)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_power_sym_lag_abd2f31da1d8c4283ba18bb1bbd072d8c}{SparseColumnLag}}();\ \ \textcolor{comment}{//\ last\ time\ do\ sparse}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{lite2_8h_ac6885dbfb371c33e523c7fb046118b36}{INDEX}}\ cnt\ =\ 0;\ cnt\ <\ Dim;\ ++cnt)}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (OrderLag[cnt]\ !=\ LastOrder)\ RowLag[cnt]\ =\ 0;}
\DoxyCodeLine{00053\ \ \ \ \ \ \ LongInit\ =\ 1;}
\DoxyCodeLine{00054\ \ \ \ \ \};}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{return}\ LastWasRow\ ?\ \mbox{\hyperlink{class_power_sym_lag_a2c0040f2ab8937137006e9cf6fabfc8e}{DenseColumnLag}}()\ :\ \mbox{\hyperlink{class_power_sym_lag_ae0bcb1d1b26c8961c78d4daa1718052c}{DenseRowLag}}();}
\DoxyCodeLine{00056\ \ \ \};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00059\ \ \ \mbox{\hyperlink{lite2_8h_ae9d1896edbd59cd55628634470738d01}{WVector}}\ RowLag,\ Row;}
\DoxyCodeLine{00060\ \ \ \mbox{\hyperlink{class_vector}{Vector<INDEX>}}\ NonZero;}
\DoxyCodeLine{00061\ \ \ \mbox{\hyperlink{class_vector}{Vector<unsigned\ char>}}\ OrderLag,\ Order;}
\DoxyCodeLine{00062\ \ \ \textcolor{keywordtype}{bool}\ LastWasRow,\ LongInit;}
\DoxyCodeLine{00063\ \ \ \mbox{\hyperlink{lite2_8h_ac6885dbfb371c33e523c7fb046118b36}{INDEX}}\ LastOrder,\ Dim,\ LongLength;}
\DoxyCodeLine{00064\ \ \ \mbox{\hyperlink{class_iterator}{Iterator<WMap>}}\ mt;}
\DoxyCodeLine{00065\ \};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
